var _STRINGS={Ad:{Mobile:{Preroll:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"},Header:{ReadyIn:"The game is ready in ",Loading:"Your game is loading...",Close:"Close"}}},Splash:{Loading:"Loading ...",LogoLine1:"Some text here",LogoLine2:"powered by MarketJS",LogoLine3:"none"},Game:{SelectPlayer:"Select Player",Win:"You win!",Lose:"You lose!",Score:"Score",Time:"Time"},FacebookPostToFeed:{Title:"Some title",Caption:"Some Caption",Description:"Some description",
Link:"http://google.com",Picture:"media/splash/desktop/cover.jpg"},Results:{Title:"High score"}};var _SETTINGS={Ad:{Mobile:{Preroll:{Enabled:!1,Duration:5,Width:300,Height:250},Header:{Enabled:!1,Duration:5,Width:320,Height:50},Footer:{Enabled:!1,Duration:5,Width:320,Height:50},End:{Enabled:!1,Duration:1,Width:250,Height:250}}},Language:{Default:"en"},Branding:{Enabled:!1},Gamecenter:{Enabled:!0}};var MobileAdInGamePreroll={ad_duration:_SETTINGS.Ad.Mobile.Preroll.Duration,ad_width:_SETTINGS.Ad.Mobile.Preroll.Width,ad_height:_SETTINGS.Ad.Mobile.Preroll.Height,ready_in:_STRINGS.Ad.Mobile.Preroll.ReadyIn,loading:_STRINGS.Ad.Mobile.Preroll.Loading,close:_STRINGS.Ad.Mobile.Preroll.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){this.overlay=$("#MobileAdInGamePreroll");this.box=$("#MobileAdInGamePreroll-Box");this.game=$("#game");this.boxContents={footer:$("#MobileAdInGamePreroll-Box-Footer"),
header:$("#MobileAdInGamePreroll-Box-Header"),close:$("#MobileAdInGamePreroll-Box-Close"),body:$("#MobileAdInGamePreroll-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},Timer:function(a){var b=a,c=setInterval(function(){MobileAdInGamePreroll.boxContents.header.text(MobileAdInGamePreroll.ready_in+
b+"...");MobileAdInGamePreroll.boxContents.footer.text(MobileAdInGamePreroll.loading);b--;0>b&&(clearInterval(c),MobileAdInGamePreroll.boxContents.close.css("left",MobileAdInGamePreroll.boxContents.body.width()-23),MobileAdInGamePreroll.boxContents.close.show(),MobileAdInGamePreroll.boxContents.header.html(MobileAdInGamePreroll.close),MobileAdInGamePreroll.boxContents.footer.text(""))},1E3)},Close:function(){this.overlay.hide()}};var MobileAdInGameHeader={ad_duration:_SETTINGS.Ad.Mobile.Header.Duration,ad_width:_SETTINGS.Ad.Mobile.Header.Width,ad_height:_SETTINGS.Ad.Mobile.Header.Height,Initialize:function(){this.div=$("#MobileAdInGameHeader");this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",0);this.div.show(this.Timer(this.ad_duration))},Timer:function(a){var b=setInterval(function(){a--;
0>a&&(MobileAdInGameHeader.div.hide(),clearInterval(b))},1E3)}};var MobileAdInGameFooter={ad_duration:_SETTINGS.Ad.Mobile.Footer.Duration,ad_width:_SETTINGS.Ad.Mobile.Footer.Width,ad_height:_SETTINGS.Ad.Mobile.Footer.Height,Initialize:function(){this.div=$("#MobileAdInGameFooter");this.game=$("#game");this.div.width(this.ad_width);this.div.height(this.ad_height);this.div.css("left",this.game.position().left+(this.game.width()-this.div.width())/2);this.div.css("top",this.game.height()-this.div.height()-5);this.div.show(this.Timer(this.ad_duration))},Timer:function(a){var b=
setInterval(function(){a--;0>a&&(MobileAdInGameFooter.div.hide(),clearInterval(b))},1E3)}};var MobileAdInGameEnd={ad_duration:_SETTINGS.Ad.Mobile.End.Duration,ad_width:_SETTINGS.Ad.Mobile.End.Width,ad_height:_SETTINGS.Ad.Mobile.End.Height,ready_in:_STRINGS.Ad.Mobile.Preroll.ReadyIn,loading:_STRINGS.Ad.Mobile.Preroll.Loading,close:_STRINGS.Ad.Mobile.Preroll.Close+"&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;",Initialize:function(){this.overlay=$("#MobileAdInGameEnd");this.box=$("#MobileAdInGameEnd-Box");this.game=$("#game");this.boxContents={footer:$("#MobileAdInGameEnd-Box-Footer"),
header:$("#MobileAdInGameEnd-Box-Header"),close:$("#MobileAdInGameEnd-Box-Close"),body:$("#MobileAdInGameEnd-Box-Body")};this.box.width(this.ad_width);this.box.height(this.ad_height);this.box.css("left",(this.overlay.width()-this.box.width())/2);this.box.css("top",(this.overlay.height()-this.box.height()-this.boxContents.header.height()-this.boxContents.footer.height())/2);this.overlay.show(this.Timer(this.ad_duration))},Timer:function(a){var b=a,c=setInterval(function(){MobileAdInGameEnd.boxContents.header.text(MobileAdInGameEnd.ready_in+
b+"...");MobileAdInGameEnd.boxContents.footer.text(MobileAdInGameEnd.loading);b--;0>b&&(clearInterval(c),MobileAdInGameEnd.boxContents.close.css("left",MobileAdInGameEnd.boxContents.body.width()-23),MobileAdInGameEnd.boxContents.close.show(),MobileAdInGameEnd.boxContents.header.html(MobileAdInGameEnd.close),MobileAdInGameEnd.boxContents.footer.text(""))},1E3)},Close:function(){this.overlay.hide()}};(function(a,b){function c(j,a,f){if(f===b&&1===j.nodeType)if(f="data-"+a.replace(tc,"-$1").toLowerCase(),f=j.getAttribute(f),"string"==typeof f){try{f="true"===f?!0:"false"===f?!1:"null"===f?null:+f+""===f?+f:uc.test(f)?e.parseJSON(f):f}catch(E){}e.data(j,a,f)}else f=b;return f}function g(j){for(var a in j)if(!("data"===a&&e.isEmptyObject(j[a]))&&"toJSON"!==a)return!1;return!0}function d(){return!1}function l(){return!0}function p(j){return!j||!j.parentNode||11===j.parentNode.nodeType}function q(j,
a){do j=j[a];while(j&&1!==j.nodeType);return j}function m(j,a,f){a=a||0;if(e.isFunction(a))return e.grep(j,function(j,e){return!!a.call(j,e,j)===f});if(a.nodeType)return e.grep(j,function(j){return j===a===f});if("string"==typeof a){var b=e.grep(j,function(j){return 1===j.nodeType});if(vc.test(a))return e.filter(a,b,!f);a=e.filter(a,b)}return e.grep(j,function(j){return 0<=e.inArray(j,a)===f})}function s(j){var a=sb.split("|");j=j.createDocumentFragment();if(j.createElement)for(;a.length;)j.createElement(a.pop());
return j}function u(j,a){if(1===a.nodeType&&e.hasData(j)){var f,b,W;b=e._data(j);var d=e._data(a,b),v=b.events;if(v)for(f in delete d.handle,d.events={},v){b=0;for(W=v[f].length;b<W;b++)e.event.add(a,f,v[f][b])}d.data&&(d.data=e.extend({},d.data))}}function t(j,a){var f;1===a.nodeType&&(a.clearAttributes&&a.clearAttributes(),a.mergeAttributes&&a.mergeAttributes(j),f=a.nodeName.toLowerCase(),"object"===f?(a.parentNode&&(a.outerHTML=j.outerHTML),e.support.html5Clone&&j.innerHTML&&!e.trim(a.innerHTML)&&
(a.innerHTML=j.innerHTML)):"input"===f&&tb.test(j.type)?(a.defaultChecked=a.checked=j.checked,a.value!==j.value&&(a.value=j.value)):"option"===f?a.selected=j.defaultSelected:"input"===f||"textarea"===f?a.defaultValue=j.defaultValue:"script"===f&&a.text!==j.text&&(a.text=j.text),a.removeAttribute(e.expando))}function r(j){return"undefined"!=typeof j.getElementsByTagName?j.getElementsByTagName("*"):"undefined"!=typeof j.querySelectorAll?j.querySelectorAll("*"):[]}function z(j){tb.test(j.type)&&(j.defaultChecked=
j.checked)}function L(j,a){if(a in j)return a;for(var f=a.charAt(0).toUpperCase()+a.slice(1),e=a,b=ub.length;b--;)if(a=ub[b]+f,a in j)return a;return e}function I(j,a){return j=a||j,"none"===e.css(j,"display")||!e.contains(j.ownerDocument,j)}function F(j,a){for(var f,b,W=[],d=0,v=j.length;d<v;d++)f=j[d],f.style&&(W[d]=e._data(f,"olddisplay"),a?(!W[d]&&"none"===f.style.display&&(f.style.display=""),""===f.style.display&&I(f)&&(W[d]=e._data(f,"olddisplay",vb(f.nodeName)))):(b=N(f,"display"),!W[d]&&
"none"!==b&&e._data(f,"olddisplay",b)));for(d=0;d<v;d++)if(f=j[d],f.style&&(!a||"none"===f.style.display||""===f.style.display))f.style.display=a?W[d]||"":"none";return j}function B(j,a,f){return(j=wc.exec(a))?Math.max(0,j[1]-(f||0))+(j[2]||"px"):a}function wb(j,a,f,b){a=f===(b?"border":"content")?4:"width"===a?1:0;for(var d=0;4>a;a+=2)"margin"===f&&(d+=e.css(j,f+ca[a],!0)),b?("content"===f&&(d-=parseFloat(N(j,"padding"+ca[a]))||0),"margin"!==f&&(d-=parseFloat(N(j,"border"+ca[a]+"Width"))||0)):(d+=
parseFloat(N(j,"padding"+ca[a]))||0,"padding"!==f&&(d+=parseFloat(N(j,"border"+ca[a]+"Width"))||0));return d}function xb(j,a,f){var b="width"===a?j.offsetWidth:j.offsetHeight,d=!0,c=e.support.boxSizing&&"border-box"===e.css(j,"boxSizing");if(0>=b||null==b){b=N(j,a);if(0>b||null==b)b=j.style[a];if(ua.test(b))return b;d=c&&(e.support.boxSizingReliable||b===j.style[a]);b=parseFloat(b)||0}return b+wb(j,a,f||(c?"border":"content"),d)+"px"}function vb(j){if(Ta[j])return Ta[j];var a=e("<"+j+">").appendTo(x.body),
f=a.css("display");a.remove();if("none"===f||""===f){ja=x.body.appendChild(ja||e.extend(x.createElement("iframe"),{frameBorder:0,width:0,height:0}));if(!ka||!ja.createElement)ka=(ja.contentWindow||ja.contentDocument).document,ka.write("<!doctype html><html><body>"),ka.close();a=ka.body.appendChild(ka.createElement(j));f=N(a,"display");x.body.removeChild(ja)}return Ta[j]=f,f}function Ua(j,a,f,b){var d;if(e.isArray(a))e.each(a,function(a,n){f||xc.test(j)?b(j,n):Ua(j+"["+("object"==typeof n?a:"")+"]",
n,f,b)});else if(!f&&"object"===e.type(a))for(d in a)Ua(j+"["+d+"]",a[d],f,b);else b(j,a)}function yb(j){return function(a,f){"string"!=typeof a&&(f=a,a="*");var b,d,c=a.toLowerCase().split(da),v=0,g=c.length;if(e.isFunction(f))for(;v<g;v++)b=c[v],(d=/^\+/.test(b))&&(b=b.substr(1)||"*"),b=j[b]=j[b]||[],b[d?"unshift":"push"](f)}}function va(j,a,f,e,d,c){d=d||a.dataTypes[0];c=c||{};c[d]=!0;var v;d=j[d];for(var g=0,l=d?d.length:0,m=j===Va;g<l&&(m||!v);g++)v=d[g](a,f,e),"string"==typeof v&&(!m||c[v]?
v=b:(a.dataTypes.unshift(v),v=va(j,a,f,e,v,c)));return(m||!v)&&!c["*"]&&(v=va(j,a,f,e,"*",c)),v}function zb(j,a){var f,E,d=e.ajaxSettings.flatOptions||{};for(f in a)a[f]!==b&&((d[f]?j:E||(E={}))[f]=a[f]);E&&e.extend(!0,j,E)}function Ab(){try{return new a.XMLHttpRequest}catch(j){}}function Bb(){return setTimeout(function(){wa=b},0),wa=e.now()}function Cb(j,a,f){var b,d=0,c=xa.length,v=e.Deferred().always(function(){delete g.elem}),g=function(){for(var a=wa||Bb(),a=Math.max(0,l.startTime+l.duration-
a),n=1-(a/l.duration||0),f=0,e=l.tweens.length;f<e;f++)l.tweens[f].run(n);return v.notifyWith(j,[l,n,a]),1>n&&e?a:(v.resolveWith(j,[l]),!1)},l=v.promise({elem:j,props:e.extend({},a),opts:e.extend(!0,{specialEasing:{}},f),originalProperties:a,originalOptions:f,startTime:wa||Bb(),duration:f.duration,tweens:[],createTween:function(a,n){var f=e.Tween(j,l.opts,a,n,l.opts.specialEasing[a]||l.opts.easing);return l.tweens.push(f),f},stop:function(a){for(var n=0,f=a?l.tweens.length:0;n<f;n++)l.tweens[n].run(1);
return a?v.resolveWith(j,[l,a]):v.rejectWith(j,[l,a]),this}});a=l.props;f=l.opts.specialEasing;var m,p,y,t;for(b in a)if(m=e.camelCase(b),p=f[m],y=a[b],e.isArray(y)&&(p=y[1],y=a[b]=y[0]),b!==m&&(a[m]=y,delete a[b]),(t=e.cssHooks[m])&&"expand"in t)for(b in y=t.expand(y),delete a[m],y)b in a||(a[b]=y[b],f[b]=p);else f[m]=p;for(;d<c;d++)if(b=xa[d].call(l,j,a,l.opts))return b;var s=l;e.each(a,function(j,a){for(var n=(pa[j]||[]).concat(pa["*"]),f=0,e=n.length;f<e&&!n[f].call(s,j,a);f++);});return e.isFunction(l.opts.start)&&
l.opts.start.call(j,l),e.fx.timer(e.extend(g,{anim:l,queue:l.opts.queue,elem:j})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}function M(j,a,f,e,b){return new M.prototype.init(j,a,f,e,b)}function ya(j,a){var f,e={height:j},b=0;for(a=a?1:0;4>b;b+=2-a)f=ca[b],e["margin"+f]=e["padding"+f]=j;return a&&(e.opacity=e.width=j),e}function Db(j){return e.isWindow(j)?j:9===j.nodeType?j.defaultView||j.parentWindow:!1}var Eb,za,x=a.document,zc=a.location,
Ac=a.navigator,Bc=a.jQuery,Cc=a.$,Fb=Array.prototype.push,Y=Array.prototype.slice,Gb=Array.prototype.indexOf,Dc=Object.prototype.toString,Wa=Object.prototype.hasOwnProperty,Xa=String.prototype.trim,e=function(j,a){return new e.fn.init(j,a,Eb)},Aa=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,Ec=/\S/,da=/\s+/,Fc=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,Gc=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Hb=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,Hc=/^[\],:{}\s]*$/,Ic=/(?:^|:|,)(?:\s*\[)+/g,Jc=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,
Kc=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,Lc=/^-ms-/,Mc=/-([\da-z])/gi,Nc=function(j,a){return(a+"").toUpperCase()},Ba=function(){x.addEventListener?(x.removeEventListener("DOMContentLoaded",Ba,!1),e.ready()):"complete"===x.readyState&&(x.detachEvent("onreadystatechange",Ba),e.ready())},Ib={};e.fn=e.prototype={constructor:e,init:function(j,a,f){var E,d;if(!j)return this;if(j.nodeType)return this.context=this[0]=j,this.length=1,this;if("string"==typeof j){"<"===j.charAt(0)&&
">"===j.charAt(j.length-1)&&3<=j.length?E=[null,j,null]:E=Gc.exec(j);if(E&&(E[1]||!a)){if(E[1])return a=a instanceof e?a[0]:a,d=a&&a.nodeType?a.ownerDocument||a:x,j=e.parseHTML(E[1],d,!0),Hb.test(E[1])&&e.isPlainObject(a)&&this.attr.call(j,a,!0),e.merge(this,j);if((a=x.getElementById(E[2]))&&a.parentNode){if(a.id!==E[2])return f.find(j);this.length=1;this[0]=a}return this.context=x,this.selector=j,this}return!a||a.jquery?(a||f).find(j):this.constructor(a).find(j)}return e.isFunction(j)?f.ready(j):
(j.selector!==b&&(this.selector=j.selector,this.context=j.context),e.makeArray(j,this))},selector:"",jquery:"1.8.2",length:0,size:function(){return this.length},toArray:function(){return Y.call(this)},get:function(j){return null==j?this.toArray():0>j?this[this.length+j]:this[j]},pushStack:function(j,a,f){j=e.merge(this.constructor(),j);return j.prevObject=this,j.context=this.context,"find"===a?j.selector=this.selector+(this.selector?" ":"")+f:a&&(j.selector=this.selector+"."+a+"("+f+")"),j},each:function(j,
a){return e.each(this,j,a)},ready:function(j){return e.ready.promise().done(j),this},eq:function(j){return j=+j,-1===j?this.slice(j):this.slice(j,j+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(Y.apply(this,arguments),"slice",Y.call(arguments).join(","))},map:function(j){return this.pushStack(e.map(this,function(a,f){return j.call(a,f,a)}))},end:function(){return this.prevObject||this.constructor(null)},push:Fb,sort:[].sort,splice:[].splice};
e.fn.init.prototype=e.fn;e.extend=e.fn.extend=function(){var j,a,f,E,d,c,v=arguments[0]||{},g=1,l=arguments.length,m=!1;"boolean"==typeof v&&(m=v,v=arguments[1]||{},g=2);"object"!=typeof v&&!e.isFunction(v)&&(v={});for(l===g&&(v=this,--g);g<l;g++)if(null!=(j=arguments[g]))for(a in j)f=v[a],E=j[a],v!==E&&(m&&E&&(e.isPlainObject(E)||(d=e.isArray(E)))?(d?(d=!1,c=f&&e.isArray(f)?f:[]):c=f&&e.isPlainObject(f)?f:{},v[a]=e.extend(m,c,E)):E!==b&&(v[a]=E));return v};e.extend({noConflict:function(j){return a.$===
e&&(a.$=Cc),j&&a.jQuery===e&&(a.jQuery=Bc),e},isReady:!1,readyWait:1,holdReady:function(j){j?e.readyWait++:e.ready(!0)},ready:function(j){if(!(!0===j?--e.readyWait:e.isReady)){if(!x.body)return setTimeout(e.ready,1);e.isReady=!0;!0!==j&&0<--e.readyWait||(za.resolveWith(x,[e]),e.fn.trigger&&e(x).trigger("ready").off("ready"))}},isFunction:function(j){return"function"===e.type(j)},isArray:Array.isArray||function(j){return"array"===e.type(j)},isWindow:function(j){return null!=j&&j==j.window},isNumeric:function(j){return!isNaN(parseFloat(j))&&
isFinite(j)},type:function(j){return null==j?String(j):Ib[Dc.call(j)]||"object"},isPlainObject:function(j){if(!j||"object"!==e.type(j)||j.nodeType||e.isWindow(j))return!1;try{if(j.constructor&&!Wa.call(j,"constructor")&&!Wa.call(j.constructor.prototype,"isPrototypeOf"))return!1}catch(a){return!1}for(var f in j);return f===b||Wa.call(j,f)},isEmptyObject:function(j){for(var a in j)return!1;return!0},error:function(j){throw Error(j);},parseHTML:function(j,a,f){var b;return!j||"string"!=typeof j?null:
("boolean"==typeof a&&(f=a,a=0),a=a||x,(b=Hb.exec(j))?[a.createElement(b[1])]:(b=e.buildFragment([j],a,f?null:[]),e.merge([],(b.cacheable?e.clone(b.fragment):b.fragment).childNodes)))},parseJSON:function(j){if(!j||"string"!=typeof j)return null;j=e.trim(j);if(a.JSON&&a.JSON.parse)return a.JSON.parse(j);if(Hc.test(j.replace(Jc,"@").replace(Kc,"]").replace(Ic,"")))return(new Function("return "+j))();e.error("Invalid JSON: "+j)},parseXML:function(j){var n,f;if(!j||"string"!=typeof j)return null;try{a.DOMParser?
(f=new DOMParser,n=f.parseFromString(j,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(j))}catch(E){n=b}return(!n||!n.documentElement||n.getElementsByTagName("parsererror").length)&&e.error("Invalid XML: "+j),n},noop:function(){},globalEval:function(j){j&&Ec.test(j)&&(a.execScript||function(j){a.eval.call(a,j)})(j)},camelCase:function(j){return j.replace(Lc,"ms-").replace(Mc,Nc)},nodeName:function(j,a){return j.nodeName&&j.nodeName.toLowerCase()===a.toLowerCase()},
each:function(j,a,f){var E,d=0,c=j.length,v=c===b||e.isFunction(j);if(f)if(v)for(E in j){if(!1===a.apply(j[E],f))break}else for(;d<c&&!1!==a.apply(j[d++],f););else if(v)for(E in j){if(!1===a.call(j[E],E,j[E]))break}else for(;d<c&&!1!==a.call(j[d],d,j[d++]););return j},trim:Xa&&!Xa.call("\ufeff\u00a0")?function(j){return null==j?"":Xa.call(j)}:function(j){return null==j?"":(j+"").replace(Fc,"")},makeArray:function(j,a){var f,b=a||[];return null!=j&&(f=e.type(j),null==j.length||"string"===f||"function"===
f||"regexp"===f||e.isWindow(j)?Fb.call(b,j):e.merge(b,j)),b},inArray:function(j,a,f){var e;if(a){if(Gb)return Gb.call(a,j,f);e=a.length;for(f=f?0>f?Math.max(0,e+f):f:0;f<e;f++)if(f in a&&a[f]===j)return f}return-1},merge:function(j,a){var f=a.length,e=j.length,d=0;if("number"==typeof f)for(;d<f;d++)j[e++]=a[d];else for(;a[d]!==b;)j[e++]=a[d++];return j.length=e,j},grep:function(j,a,f){var e,b=[],d=0,c=j.length;for(f=!!f;d<c;d++)e=!!a(j[d],d),f!==e&&b.push(j[d]);return b},map:function(j,a,f){var d,
c,g=[],v=0,l=j.length;if(j instanceof e||l!==b&&"number"==typeof l&&(0<l&&j[0]&&j[l-1]||0===l||e.isArray(j)))for(;v<l;v++)d=a(j[v],v,f),null!=d&&(g[g.length]=d);else for(c in j)d=a(j[c],c,f),null!=d&&(g[g.length]=d);return g.concat.apply([],g)},guid:1,proxy:function(j,a){var f,d,c;return"string"==typeof a&&(f=j[a],a=j,j=f),e.isFunction(j)?(d=Y.call(arguments,2),c=function(){return j.apply(a,d.concat(Y.call(arguments)))},c.guid=j.guid=j.guid||e.guid++,c):b},access:function(j,a,f,d,c,g,v){var l,m=null==
f,p=0,t=j.length;if(f&&"object"==typeof f){for(p in f)e.access(j,a,p,f[p],1,g,d);c=1}else if(d!==b){l=v===b&&e.isFunction(d);m&&(l?(l=a,a=function(j,a,n){return l.call(e(j),n)}):(a.call(j,d),a=null));if(a)for(;p<t;p++)a(j[p],f,l?d.call(j[p],p,a(j[p],f)):d,v);c=1}return c?j:m?a.call(j):t?a(j[0],f):g},now:function(){return(new Date).getTime()}});e.ready.promise=function(j){if(!za)if(za=e.Deferred(),"complete"===x.readyState)setTimeout(e.ready,1);else if(x.addEventListener)x.addEventListener("DOMContentLoaded",
Ba,!1),a.addEventListener("load",e.ready,!1);else{x.attachEvent("onreadystatechange",Ba);a.attachEvent("onload",e.ready);var n=!1;try{n=null==a.frameElement&&x.documentElement}catch(f){}n&&n.doScroll&&function W(){if(!e.isReady){try{n.doScroll("left")}catch(j){return setTimeout(W,50)}e.ready()}}()}return za.promise(j)};e.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(j,a){Ib["[object "+a+"]"]=a.toLowerCase()});Eb=e(x);var Jb={};e.Callbacks=function(j){var a;if("string"==
typeof j){if(!(a=Jb[j])){a=j;var f=Jb[a]={};a=(e.each(a.split(da),function(j,a){f[a]=!0}),f)}}else a=e.extend({},j);j=a;var d,c,g,v,l,m,p=[],t=!j.once&&[],y=function(a){d=j.memory&&a;c=!0;m=v||0;v=0;l=p.length;for(g=!0;p&&m<l;m++)if(!1===p[m].apply(a[0],a[1])&&j.stopOnFalse){d=!1;break}g=!1;p&&(t?t.length&&y(t.shift()):d?p=[]:s.disable())},s={add:function(){if(p){var a=p.length;(function yc(a){e.each(a,function(a,n){var f=e.type(n);"function"===f&&(!j.unique||!s.has(n))?p.push(n):n&&n.length&&"string"!==
f&&yc(n)})})(arguments);g?l=p.length:d&&(v=a,y(d))}return this},remove:function(){return p&&e.each(arguments,function(j,a){for(var n;-1<(n=e.inArray(a,p,n));)p.splice(n,1),g&&(n<=l&&l--,n<=m&&m--)}),this},has:function(j){return-1<e.inArray(j,p)},empty:function(){return p=[],this},disable:function(){return p=t=d=b,this},disabled:function(){return!p},lock:function(){return t=b,d||s.disable(),this},locked:function(){return!t},fireWith:function(j,a){return a=a||[],a=[j,a.slice?a.slice():a],p&&(!c||t)&&
(g?t.push(a):y(a)),this},fire:function(){return s.fireWith(this,arguments),this},fired:function(){return!!c}};return s};e.extend({Deferred:function(j){var a=[["resolve","done",e.Callbacks("once memory"),"resolved"],["reject","fail",e.Callbacks("once memory"),"rejected"],["notify","progress",e.Callbacks("memory")]],f="pending",b={state:function(){return f},always:function(){return d.done(arguments).fail(arguments),this},then:function(){var j=arguments;return e.Deferred(function(f){e.each(a,function(a,
n){var b=n[0],E=j[a];d[n[1]](e.isFunction(E)?function(){var j=E.apply(this,arguments);j&&e.isFunction(j.promise)?j.promise().done(f.resolve).fail(f.reject).progress(f.notify):f[b+"With"](this===d?f:this,[j])}:f[b])});j=null}).promise()},promise:function(j){return null!=j?e.extend(j,b):b}},d={};return b.pipe=b.then,e.each(a,function(j,e){var c=e[2],g=e[3];b[e[1]]=c.add;g&&c.add(function(){f=g},a[j^1][2].disable,a[2][2].lock);d[e[0]]=c.fire;d[e[0]+"With"]=c.fireWith}),b.promise(d),j&&j.call(d,d),d},
when:function(j){var a=0,f=Y.call(arguments),b=f.length,d=1!==b||j&&e.isFunction(j.promise)?b:0,c=1===d?j:e.Deferred(),v=function(j,a,n){return function(f){a[j]=this;n[j]=1<arguments.length?Y.call(arguments):f;n===g?c.notifyWith(a,n):--d||c.resolveWith(a,n)}},g,l,m;if(1<b){g=Array(b);l=Array(b);for(m=Array(b);a<b;a++)f[a]&&e.isFunction(f[a].promise)?f[a].promise().done(v(a,m,f)).fail(c.reject).progress(v(a,l,g)):--d}return d||c.resolveWith(m,f),c.promise()}});var Oc=e,Ya,G,Ca,ea,Da,Ea,O,fa,Fa,Za,
qa,Kb,C=x.createElement("div");C.setAttribute("className","t");C.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>";Ca=C.getElementsByTagName("*");ea=C.getElementsByTagName("a")[0];ea.style.cssText="top:1px;float:left;opacity:.5";if(!Ca||!Ca.length)Ya={};else{Da=x.createElement("select");Ea=Da.appendChild(x.createElement("option"));O=C.getElementsByTagName("input")[0];G={leadingWhitespace:3===C.firstChild.nodeType,tbody:!C.getElementsByTagName("tbody").length,htmlSerialize:!!C.getElementsByTagName("link").length,
style:/top/.test(ea.getAttribute("style")),hrefNormalized:"/a"===ea.getAttribute("href"),opacity:/^0.5/.test(ea.style.opacity),cssFloat:!!ea.style.cssFloat,checkOn:"on"===O.value,optSelected:Ea.selected,getSetAttribute:"t"!==C.className,enctype:!!x.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==x.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===x.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,
shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1};O.checked=!0;G.noCloneChecked=O.cloneNode(!0).checked;Da.disabled=!0;G.optDisabled=!Ea.disabled;try{delete C.test}catch(Qd){G.deleteExpando=!1}!C.addEventListener&&C.attachEvent&&C.fireEvent&&(C.attachEvent("onclick",Kb=function(){G.noCloneEvent=!1}),C.cloneNode(!0).fireEvent("onclick"),C.detachEvent("onclick",Kb));O=x.createElement("input");O.value="t";O.setAttribute("type","radio");G.radioValue="t"===O.value;O.setAttribute("checked",
"checked");O.setAttribute("name","t");C.appendChild(O);fa=x.createDocumentFragment();fa.appendChild(C.lastChild);G.checkClone=fa.cloneNode(!0).cloneNode(!0).lastChild.checked;G.appendChecked=O.checked;fa.removeChild(O);fa.appendChild(C);if(C.attachEvent)for(Za in{submit:!0,change:!0,focusin:!0})Fa="on"+Za,(qa=Fa in C)||(C.setAttribute(Fa,"return;"),qa="function"==typeof C[Fa]),G[Za+"Bubbles"]=qa;Ya=(e(function(){var j,n,f,e,b=x.getElementsByTagName("body")[0];b&&(j=x.createElement("div"),j.style.cssText=
"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",b.insertBefore(j,b.firstChild),n=x.createElement("div"),j.appendChild(n),n.innerHTML="<table><tr><td></td><td>t</td></tr></table>",f=n.getElementsByTagName("td"),f[0].style.cssText="padding:0;margin:0;border:0;display:none",qa=0===f[0].offsetHeight,f[0].style.display="",f[1].style.display="none",G.reliableHiddenOffsets=qa&&0===f[0].offsetHeight,n.innerHTML="",n.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",
G.boxSizing=4===n.offsetWidth,G.doesNotIncludeMarginInBodyOffset=1!==b.offsetTop,a.getComputedStyle&&(G.pixelPosition="1%"!==(a.getComputedStyle(n,null)||{}).top,G.boxSizingReliable="4px"===(a.getComputedStyle(n,null)||{width:"4px"}).width,e=x.createElement("div"),e.style.cssText=n.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;",e.style.marginRight=e.style.width="0",n.style.width="1px",n.appendChild(e),G.reliableMarginRight=!parseFloat((a.getComputedStyle(e,null)||{}).marginRight)),
"undefined"!=typeof n.style.zoom&&(n.innerHTML="",n.style.cssText="padding:0;margin:0;border:0;display:block;overflow:hidden;width:1px;padding:1px;display:inline;zoom:1",G.inlineBlockNeedsLayout=3===n.offsetWidth,n.style.display="block",n.style.overflow="visible",n.innerHTML="<div></div>",n.firstChild.style.width="5px",G.shrinkWrapBlocks=3!==n.offsetWidth,j.style.zoom=1),b.removeChild(j))}),fa.removeChild(C),Ca=ea=Da=Ea=O=fa=C=null,G)}Oc.support=Ya;var uc=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,tc=/([A-Z])/g;
e.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(e.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(j){return j=j.nodeType?e.cache[j[e.expando]]:j[e.expando],!!j&&!g(j)},data:function(j,a,f,d){if(e.acceptData(j)){var c,g,v=e.expando,l="string"==typeof a,m=j.nodeType,p=m?e.cache:j,t=m?j[v]:j[v]&&v;if(t&&p[t]&&(d||p[t].data)||!(l&&f===b)){t||(m?j[v]=t=e.deletedIds.pop()||e.guid++:t=v);p[t]||(p[t]={},
m||(p[t].toJSON=e.noop));if("object"==typeof a||"function"==typeof a)d?p[t]=e.extend(p[t],a):p[t].data=e.extend(p[t].data,a);return c=p[t],d||(c.data||(c.data={}),c=c.data),f!==b&&(c[e.camelCase(a)]=f),l?(g=c[a],null==g&&(g=c[e.camelCase(a)])):g=c,g}}},removeData:function(j,a,f){if(e.acceptData(j)){var b,d,c,v=j.nodeType,l=v?e.cache:j,m=v?j[e.expando]:e.expando;if(l[m]){if(a&&(b=f?l[m]:l[m].data)){e.isArray(a)||(a in b?a=[a]:(a=e.camelCase(a),a in b?a=[a]:a=a.split(" ")));d=0;for(c=a.length;d<c;d++)delete b[a[d]];
if(!(f?g:e.isEmptyObject)(b))return}if(f||!(delete l[m].data,!g(l[m])))v?e.cleanData([j],!0):e.support.deleteExpando||l!=l.window?delete l[m]:l[m]=null}}},_data:function(j,a,f){return e.data(j,a,f,!0)},acceptData:function(j){var a=j.nodeName&&e.noData[j.nodeName.toLowerCase()];return!a||!0!==a&&j.getAttribute("classid")===a}});e.fn.extend({data:function(j,a){var f,d,g,l,v,m=this[0],p=0,t=null;if(j===b){if(this.length&&(t=e.data(m),1===m.nodeType&&!e._data(m,"parsedAttrs"))){g=m.attributes;for(v=g.length;p<
v;p++)l=g[p].name,l.indexOf("data-")||(l=e.camelCase(l.substring(5)),c(m,l,t[l]));e._data(m,"parsedAttrs",!0)}return t}return"object"==typeof j?this.each(function(){e.data(this,j)}):(f=j.split(".",2),f[1]=f[1]?"."+f[1]:"",d=f[1]+"!",e.access(this,function(a){if(a===b)return t=this.triggerHandler("getData"+d,[f[0]]),t===b&&m&&(t=e.data(m,j),t=c(m,j,t)),t===b&&f[1]?this.data(f[0]):t;f[1]=a;this.each(function(){var n=e(this);n.triggerHandler("setData"+d,f);e.data(this,j,a);n.triggerHandler("changeData"+
d,f)})},null,a,1<arguments.length,null,!1))},removeData:function(j){return this.each(function(){e.removeData(this,j)})}});e.extend({queue:function(j,a,f){var b;if(j)return a=(a||"fx")+"queue",b=e._data(j,a),f&&(!b||e.isArray(f)?b=e._data(j,a,e.makeArray(f)):b.push(f)),b||[]},dequeue:function(j,a){a=a||"fx";var f=e.queue(j,a),b=f.length,d=f.shift(),c=e._queueHooks(j,a),v=function(){e.dequeue(j,a)};"inprogress"===d&&(d=f.shift(),b--);d&&("fx"===a&&f.unshift("inprogress"),delete c.stop,d.call(j,v,c));
!b&&c&&c.empty.fire()},_queueHooks:function(j,a){var f=a+"queueHooks";return e._data(j,f)||e._data(j,f,{empty:e.Callbacks("once memory").add(function(){e.removeData(j,a+"queue",!0);e.removeData(j,f,!0)})})}});e.fn.extend({queue:function(j,a){var f=2;return"string"!=typeof j&&(a=j,j="fx",f--),arguments.length<f?e.queue(this[0],j):a===b?this:this.each(function(){var f=e.queue(this,j,a);e._queueHooks(this,j);"fx"===j&&"inprogress"!==f[0]&&e.dequeue(this,j)})},dequeue:function(j){return this.each(function(){e.dequeue(this,
j)})},delay:function(j,a){return j=e.fx?e.fx.speeds[j]||j:j,a=a||"fx",this.queue(a,function(a,n){var b=setTimeout(a,j);n.stop=function(){clearTimeout(b)}})},clearQueue:function(j){return this.queue(j||"fx",[])},promise:function(j,a){var f,d=1,c=e.Deferred(),g=this,v=this.length,l=function(){--d||c.resolveWith(g,[g])};"string"!=typeof j&&(a=j,j=b);for(j=j||"fx";v--;)(f=e._data(g[v],j+"queueHooks"))&&f.empty&&(d++,f.empty.add(l));return l(),c.promise(a)}});var Z,Lb,Mb,Nb=/[\t\r\n]/g,Pc=/\r/g,Qc=/^(?:button|input)$/i,
Rc=/^(?:button|input|object|select|textarea)$/i,Sc=/^a(?:rea|)$/i,Ob=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,Pb=e.support.getSetAttribute;e.fn.extend({attr:function(j,a){return e.access(this,e.attr,j,a,1<arguments.length)},removeAttr:function(j){return this.each(function(){e.removeAttr(this,j)})},prop:function(j,a){return e.access(this,e.prop,j,a,1<arguments.length)},removeProp:function(j){return j=e.propFix[j]||
j,this.each(function(){try{this[j]=b,delete this[j]}catch(a){}})},addClass:function(j){var a,f,b,d,c,v,g;if(e.isFunction(j))return this.each(function(a){e(this).addClass(j.call(this,a,this.className))});if(j&&"string"==typeof j){a=j.split(da);f=0;for(b=this.length;f<b;f++)if(d=this[f],1===d.nodeType)if(!d.className&&1===a.length)d.className=j;else{c=" "+d.className+" ";v=0;for(g=a.length;v<g;v++)0>c.indexOf(" "+a[v]+" ")&&(c+=a[v]+" ");d.className=e.trim(c)}}return this},removeClass:function(j){var a,
f,d,c,g,v,l;if(e.isFunction(j))return this.each(function(a){e(this).removeClass(j.call(this,a,this.className))});if(j&&"string"==typeof j||j===b){a=(j||"").split(da);v=0;for(l=this.length;v<l;v++)if(d=this[v],1===d.nodeType&&d.className){f=(" "+d.className+" ").replace(Nb," ");c=0;for(g=a.length;c<g;c++)for(;0<=f.indexOf(" "+a[c]+" ");)f=f.replace(" "+a[c]+" "," ");d.className=j?e.trim(f):""}}return this},toggleClass:function(a,n){var f=typeof a,b="boolean"==typeof n;return e.isFunction(a)?this.each(function(f){e(this).toggleClass(a.call(this,
f,this.className,n),n)}):this.each(function(){if("string"===f)for(var d,c=0,g=e(this),l=n,m=a.split(da);d=m[c++];)l=b?l:!g.hasClass(d),g[l?"addClass":"removeClass"](d);else if("undefined"===f||"boolean"===f)this.className&&e._data(this,"__className__",this.className),this.className=this.className||!1===a?"":e._data(this,"__className__")||""})},hasClass:function(a){a=" "+a+" ";for(var n=0,f=this.length;n<f;n++)if(1===this[n].nodeType&&0<=(" "+this[n].className+" ").replace(Nb," ").indexOf(a))return!0;
return!1},val:function(a){var n,f,d,c=this[0];if(arguments.length)return d=e.isFunction(a),this.each(function(f){var c,g=e(this);if(1===this.nodeType&&(d?c=a.call(this,f,g.val()):c=a,null==c?c="":"number"==typeof c?c+="":e.isArray(c)&&(c=e.map(c,function(a){return null==a?"":a+""})),n=e.valHooks[this.type]||e.valHooks[this.nodeName.toLowerCase()],!n||!("set"in n)||n.set(this,c,"value")===b))this.value=c});if(c)return n=e.valHooks[c.type]||e.valHooks[c.nodeName.toLowerCase()],n&&"get"in n&&(f=n.get(c,
"value"))!==b?f:(f=c.value,"string"==typeof f?f.replace(Pc,""):null==f?"":f)}});e.extend({valHooks:{option:{get:function(a){var n=a.attributes.value;return!n||n.specified?a.value:a.text}},select:{get:function(a){var n,f,b=a.selectedIndex,d=[],c=a.options,g="select-one"===a.type;if(0>b)return null;a=g?b:0;for(f=g?b+1:c.length;a<f;a++)if(n=c[a],n.selected&&(e.support.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!e.nodeName(n.parentNode,"optgroup"))){n=e(n).val();
if(g)return n;d.push(n)}return g&&!d.length&&c.length?e(c[b]).val():d},set:function(a,n){var f=e.makeArray(n);return e(a).find("option").each(function(){this.selected=0<=e.inArray(e(this).val(),f)}),f.length||(a.selectedIndex=-1),f}}},attrFn:{},attr:function(a,n,f,d){var c,g,v=a.nodeType;if(a&&!(3===v||8===v||2===v)){if(d&&e.isFunction(e.fn[n]))return e(a)[n](f);if("undefined"==typeof a.getAttribute)return e.prop(a,n,f);(d=1!==v||!e.isXMLDoc(a))&&(n=n.toLowerCase(),g=e.attrHooks[n]||(Ob.test(n)?Lb:
Z));if(f!==b){if(null===f){e.removeAttr(a,n);return}return g&&"set"in g&&d&&(c=g.set(a,f,n))!==b?c:(a.setAttribute(n,f+""),f)}return g&&"get"in g&&d&&null!==(c=g.get(a,n))?c:(c=a.getAttribute(n),null===c?b:c)}},removeAttr:function(a,n){var f,b,d,c,g=0;if(n&&1===a.nodeType)for(b=n.split(da);g<b.length;g++)(d=b[g])&&(f=e.propFix[d]||d,c=Ob.test(d),c||e.attr(a,d,""),a.removeAttribute(Pb?d:f),c&&f in a&&(a[f]=!1))},attrHooks:{type:{set:function(a,n){if(Qc.test(a.nodeName)&&a.parentNode)e.error("type property can't be changed");
else if(!e.support.radioValue&&"radio"===n&&e.nodeName(a,"input")){var f=a.value;return a.setAttribute("type",n),f&&(a.value=f),n}}},value:{get:function(a,n){return Z&&e.nodeName(a,"button")?Z.get(a,n):n in a?a.value:null},set:function(a,n,f){if(Z&&e.nodeName(a,"button"))return Z.set(a,n,f);a.value=n}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",
frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(a,n,f){var d,c,g,v=a.nodeType;if(a&&!(3===v||8===v||2===v))return g=1!==v||!e.isXMLDoc(a),g&&(n=e.propFix[n]||n,c=e.propHooks[n]),f!==b?c&&"set"in c&&(d=c.set(a,f,n))!==b?d:a[n]=f:c&&"get"in c&&null!==(d=c.get(a,n))?d:a[n]},propHooks:{tabIndex:{get:function(a){var n=a.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):Rc.test(a.nodeName)||Sc.test(a.nodeName)&&a.href?0:b}}}});Lb={get:function(a,n){var f,
d=e.prop(a,n);return!0===d||"boolean"!=typeof d&&(f=a.getAttributeNode(n))&&!1!==f.nodeValue?n.toLowerCase():b},set:function(a,n,f){var b;return!1===n?e.removeAttr(a,f):(b=e.propFix[f]||f,b in a&&(a[b]=!0),a.setAttribute(f,f.toLowerCase())),f}};Pb||(Mb={name:!0,id:!0,coords:!0},Z=e.valHooks.button={get:function(a,n){var f;return f=a.getAttributeNode(n),f&&(Mb[n]?""!==f.value:f.specified)?f.value:b},set:function(a,n,f){var b=a.getAttributeNode(f);return b||(b=x.createAttribute(f),a.setAttributeNode(b)),
b.value=n+""}},e.each(["width","height"],function(a,n){e.attrHooks[n]=e.extend(e.attrHooks[n],{set:function(a,j){if(""===j)return a.setAttribute(n,"auto"),j}})}),e.attrHooks.contenteditable={get:Z.get,set:function(a,n,f){""===n&&(n="false");Z.set(a,n,f)}});e.support.hrefNormalized||e.each(["href","src","width","height"],function(a,n){e.attrHooks[n]=e.extend(e.attrHooks[n],{get:function(a){a=a.getAttribute(n,2);return null===a?b:a}})});e.support.style||(e.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||
b},set:function(a,n){return a.style.cssText=n+""}});e.support.optSelected||(e.propHooks.selected=e.extend(e.propHooks.selected,{get:function(a){a=a.parentNode;return a&&(a.selectedIndex,a.parentNode&&a.parentNode.selectedIndex),null}}));e.support.enctype||(e.propFix.enctype="encoding");e.support.checkOn||e.each(["radio","checkbox"],function(){e.valHooks[this]={get:function(a){return null===a.getAttribute("value")?"on":a.value}}});e.each(["radio","checkbox"],function(){e.valHooks[this]=e.extend(e.valHooks[this],
{set:function(a,n){if(e.isArray(n))return a.checked=0<=e.inArray(e(a).val(),n)}})});var $a=/^(?:textarea|input|select)$/i,Qb=/^([^\.]*|)(?:\.(.+)|)$/,Tc=/(?:^|\s)hover(\.\S+|)\b/,Uc=/^key/,Vc=/^(?:mouse|contextmenu)|click/,Rb=/^(?:focusinfocus|focusoutblur)$/,Sb=function(a){return e.event.special.hover?a:a.replace(Tc,"mouseenter$1 mouseleave$1")};e.event={add:function(a,n,f,d,c){var g,v,l,m,p,t,y,s,q;if(!(3===a.nodeType||8===a.nodeType||!n||!f||!(g=e._data(a)))){f.handler&&(y=f,f=y.handler,c=y.selector);
f.guid||(f.guid=e.guid++);(l=g.events)||(g.events=l={});(v=g.handle)||(g.handle=v=function(a){return"undefined"!=typeof e&&(!a||e.event.triggered!==a.type)?e.event.dispatch.apply(v.elem,arguments):b},v.elem=a);n=e.trim(Sb(n)).split(" ");for(g=0;g<n.length;g++){m=Qb.exec(n[g])||[];p=m[1];t=(m[2]||"").split(".").sort();q=e.event.special[p]||{};p=(c?q.delegateType:q.bindType)||p;q=e.event.special[p]||{};m=e.extend({type:p,origType:m[1],data:d,handler:f,guid:f.guid,selector:c,needsContext:c&&e.expr.match.needsContext.test(c),
namespace:t.join(".")},y);s=l[p];if(!s&&(s=l[p]=[],s.delegateCount=0,!q.setup||!1===q.setup.call(a,d,t,v)))a.addEventListener?a.addEventListener(p,v,!1):a.attachEvent&&a.attachEvent("on"+p,v);q.add&&(q.add.call(a,m),m.handler.guid||(m.handler.guid=f.guid));c?s.splice(s.delegateCount++,0,m):s.push(m);e.event.global[p]=!0}a=null}},global:{},remove:function(a,n,f,b,d){var c,g,l,m,p,t,s,q,u,r,z=e.hasData(a)&&e._data(a);if(z&&(s=z.events)){n=e.trim(Sb(n||"")).split(" ");for(c=0;c<n.length;c++)if(g=Qb.exec(n[c])||
[],l=m=g[1],g=g[2],l){q=e.event.special[l]||{};l=(b?q.delegateType:q.bindType)||l;u=s[l]||[];p=u.length;g=g?RegExp("(^|\\.)"+g.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null;for(t=0;t<u.length;t++)r=u[t],(d||m===r.origType)&&(!f||f.guid===r.guid)&&(!g||g.test(r.namespace))&&(!b||b===r.selector||"**"===b&&r.selector)&&(u.splice(t--,1),r.selector&&u.delegateCount--,q.remove&&q.remove.call(a,r));0===u.length&&p!==u.length&&((!q.teardown||!1===q.teardown.call(a,g,z.handle))&&e.removeEvent(a,
l,z.handle),delete s[l])}else for(l in s)e.event.remove(a,l+n[c],f,b,!0);e.isEmptyObject(s)&&(delete z.handle,e.removeData(a,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(j,n,f,d){if(!f||3!==f.nodeType&&8!==f.nodeType){var c,g,l,m,p,t,s,y=j.type||j;m=[];if(!Rb.test(y+e.event.triggered)&&(0<=y.indexOf("!")&&(y=y.slice(0,-1),c=!0),0<=y.indexOf(".")&&(m=y.split("."),y=m.shift(),m.sort()),f&&!e.event.customEvent[y]||e.event.global[y]))if(j="object"==typeof j?j[e.expando]?
j:new e.Event(y,j):new e.Event(y),j.type=y,j.isTrigger=!0,j.exclusive=c,j.namespace=m.join("."),j.namespace_re=j.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,m=0>y.indexOf(":")?"on"+y:"",f){if(j.result=b,j.target||(j.target=f),n=null!=n?e.makeArray(n):[],n.unshift(j),p=e.event.special[y]||{},!(p.trigger&&!1===p.trigger.apply(f,n))){s=[[f,p.bindType||y]];if(!d&&!p.noBubble&&!e.isWindow(f)){g=p.delegateType||y;c=Rb.test(g+y)?f:f.parentNode;for(l=f;c;c=c.parentNode)s.push([c,g]),
l=c;l===(f.ownerDocument||x)&&s.push([l.defaultView||l.parentWindow||a,g])}for(g=0;g<s.length&&!j.isPropagationStopped();g++)c=s[g][0],j.type=s[g][1],(t=(e._data(c,"events")||{})[j.type]&&e._data(c,"handle"))&&t.apply(c,n),(t=m&&c[m])&&e.acceptData(c)&&t.apply&&!1===t.apply(c,n)&&j.preventDefault();return j.type=y,!d&&!j.isDefaultPrevented()&&(!p._default||!1===p._default.apply(f.ownerDocument,n))&&("click"!==y||!e.nodeName(f,"a"))&&e.acceptData(f)&&m&&f[y]&&("focus"!==y&&"blur"!==y||0!==j.target.offsetWidth)&&
!e.isWindow(f)&&(l=f[m],l&&(f[m]=null),e.event.triggered=y,f[y](),e.event.triggered=b,l&&(f[m]=l)),j.result}}else for(g in f=e.cache,f)f[g].events&&f[g].events[y]&&e.event.trigger(j,n,f[g].handle.elem,!0)}},dispatch:function(j){j=e.event.fix(j||a.event);var n,f,d,c,g,l,m=(e._data(this,"events")||{})[j.type]||[],p=m.delegateCount,t=Y.call(arguments),s=!j.exclusive&&!j.namespace,y=e.event.special[j.type]||{},q=[];t[0]=j;j.delegateTarget=this;if(!(y.preDispatch&&!1===y.preDispatch.call(this,j))){if(p&&
(!j.button||"click"!==j.type))for(f=j.target;f!=this;f=f.parentNode||this)if(!0!==f.disabled||"click"!==j.type){c={};g=[];for(n=0;n<p;n++)d=m[n],l=d.selector,c[l]===b&&(c[l]=d.needsContext?0<=e(l,this).index(f):e.find(l,this,null,[f]).length),c[l]&&g.push(d);g.length&&q.push({elem:f,matches:g})}m.length>p&&q.push({elem:this,matches:m.slice(p)});for(n=0;n<q.length&&!j.isPropagationStopped();n++){c=q[n];j.currentTarget=c.elem;for(f=0;f<c.matches.length&&!j.isImmediatePropagationStopped();f++)if(d=c.matches[f],
s||!j.namespace&&!d.namespace||j.namespace_re&&j.namespace_re.test(d.namespace))j.data=d.data,j.handleObj=d,d=((e.event.special[d.origType]||{}).handle||d.handler).apply(c.elem,t),d!==b&&(j.result=d,!1===d&&(j.preventDefault(),j.stopPropagation()))}return y.postDispatch&&y.postDispatch.call(this,j),j.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},
keyHooks:{props:["char","charCode","key","keyCode"],filter:function(a,n){return null==a.which&&(a.which=null!=n.charCode?n.charCode:n.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,n){var f,e,d,c=n.button,g=n.fromElement;return null==a.pageX&&null!=n.clientX&&(f=a.target.ownerDocument||x,e=f.documentElement,d=f.body,a.pageX=n.clientX+(e&&e.scrollLeft||d&&d.scrollLeft||0)-(e&&e.clientLeft||
d&&d.clientLeft||0),a.pageY=n.clientY+(e&&e.scrollTop||d&&d.scrollTop||0)-(e&&e.clientTop||d&&d.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?n.toElement:g),!a.which&&c!==b&&(a.which=c&1?1:c&2?3:c&4?2:0),a}},fix:function(a){if(a[e.expando])return a;var n,f,b=a,d=e.event.fixHooks[a.type]||{},c=d.props?this.props.concat(d.props):this.props;a=e.Event(b);for(n=c.length;n;)f=c[--n],a[f]=b[f];return a.target||(a.target=b.srcElement||x),3===a.target.nodeType&&(a.target=a.target.parentNode),
a.metaKey=!!a.metaKey,d.filter?d.filter(a,b):a},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(a,n,f){e.isWindow(this)&&(this.onbeforeunload=f)},teardown:function(a,n){this.onbeforeunload===n&&(this.onbeforeunload=null)}}},simulate:function(a,n,f,b){a=e.extend(new e.Event,f,{type:a,isSimulated:!0,originalEvent:{}});b?e.event.trigger(a,null,n):e.event.dispatch.call(n,a);a.isDefaultPrevented()&&f.preventDefault()}};e.event.handle=
e.event.dispatch;e.removeEvent=x.removeEventListener?function(a,n,f){a.removeEventListener&&a.removeEventListener(n,f,!1)}:function(a,n,f){n="on"+n;a.detachEvent&&("undefined"==typeof a[n]&&(a[n]=null),a.detachEvent(n,f))};e.Event=function(a,n){if(this instanceof e.Event)a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||!1===a.returnValue||a.getPreventDefault&&a.getPreventDefault()?l:d):this.type=a,n&&e.extend(this,n),this.timeStamp=a&&a.timeStamp||e.now(),
this[e.expando]=!0;else return new e.Event(a,n)};e.Event.prototype={preventDefault:function(){this.isDefaultPrevented=l;var a=this.originalEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=l;var a=this.originalEvent;a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l;this.stopPropagation()},isDefaultPrevented:d,isPropagationStopped:d,isImmediatePropagationStopped:d};
e.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(a,n){e.event.special[a]={delegateType:n,bindType:n,handle:function(a){var j,b=a.relatedTarget,d=a.handleObj;if(!b||b!==this&&!e.contains(this,b))a.type=d.origType,j=d.handler.apply(this,arguments),a.type=n;return j}}});e.support.submitBubbles||(e.event.special.submit={setup:function(){if(e.nodeName(this,"form"))return!1;e.event.add(this,"click._submit keypress._submit",function(a){a=a.target;(a=e.nodeName(a,"input")||e.nodeName(a,"button")?
a.form:b)&&!e._data(a,"_submit_attached")&&(e.event.add(a,"submit._submit",function(a){a._submit_bubble=!0}),e._data(a,"_submit_attached",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&e.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){if(e.nodeName(this,"form"))return!1;e.event.remove(this,"._submit")}});e.support.changeBubbles||(e.event.special.change={setup:function(){if($a.test(this.nodeName)){if("checkbox"===this.type||
"radio"===this.type)e.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),e.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1);e.event.simulate("change",this,a,!0)});return!1}e.event.add(this,"beforeactivate._change",function(a){a=a.target;$a.test(a.nodeName)&&!e._data(a,"_change_attached")&&(e.event.add(a,"change._change",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&
e.event.simulate("change",this.parentNode,a,!0)}),e._data(a,"_change_attached",!0))})},handle:function(a){var n=a.target;if(this!==n||a.isSimulated||a.isTrigger||"radio"!==n.type&&"checkbox"!==n.type)return a.handleObj.handler.apply(this,arguments)},teardown:function(){return e.event.remove(this,"._change"),!$a.test(this.nodeName)}});e.support.focusinBubbles||e.each({focus:"focusin",blur:"focusout"},function(a,n){var f=0,b=function(a){e.event.simulate(n,a.target,e.event.fix(a),!0)};e.event.special[n]=
{setup:function(){0===f++&&x.addEventListener(a,b,!0)},teardown:function(){0===--f&&x.removeEventListener(a,b,!0)}}});e.fn.extend({on:function(a,n,f,c,g){var l,v;if("object"==typeof a){"string"!=typeof n&&(f=f||n,n=b);for(v in a)this.on(v,n,f,a[v],g);return this}null==f&&null==c?(c=n,f=n=b):null==c&&("string"==typeof n?(c=f,f=b):(c=f,f=n,n=b));if(!1===c)c=d;else if(!c)return this;return 1===g&&(l=c,c=function(a){return e().off(a),l.apply(this,arguments)},c.guid=l.guid||(l.guid=e.guid++)),this.each(function(){e.event.add(this,
a,c,f,n)})},one:function(a,n,f,b){return this.on(a,n,f,b,1)},off:function(a,n,f){var c,g;if(a&&a.preventDefault&&a.handleObj)return c=a.handleObj,e(a.delegateTarget).off(c.namespace?c.origType+"."+c.namespace:c.origType,c.selector,c.handler),this;if("object"==typeof a){for(g in a)this.off(g,n,a[g]);return this}if(!1===n||"function"==typeof n)f=n,n=b;return!1===f&&(f=d),this.each(function(){e.event.remove(this,a,f,n)})},bind:function(a,n,f){return this.on(a,null,n,f)},unbind:function(a,n){return this.off(a,
null,n)},live:function(a,n,f){return e(this.context).on(a,this.selector,n,f),this},die:function(a,n){return e(this.context).off(a,this.selector||"**",n),this},delegate:function(a,n,f,b){return this.on(n,a,f,b)},undelegate:function(a,n,f){return 1===arguments.length?this.off(a,"**"):this.off(n,a||"**",f)},trigger:function(a,n){return this.each(function(){e.event.trigger(a,n,this)})},triggerHandler:function(a,n){if(this[0])return e.event.trigger(a,n,this[0],!0)},toggle:function(a){var n=arguments,f=
a.guid||e.guid++,b=0,d=function(f){var d=(e._data(this,"lastToggle"+a.guid)||0)%b;return e._data(this,"lastToggle"+a.guid,d+1),f.preventDefault(),n[d].apply(this,arguments)||!1};for(d.guid=f;b<n.length;)n[b++].guid=f;return this.click(d)},hover:function(a,n){return this.mouseenter(a).mouseleave(n||a)}});e.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),
function(a,n){e.fn[n]=function(a,j){return null==j&&(j=a,a=null),0<arguments.length?this.on(n,null,a,j):this.trigger(n)};Uc.test(n)&&(e.event.fixHooks[n]=e.event.keyHooks);Vc.test(n)&&(e.event.fixHooks[n]=e.event.mouseHooks)});var Wc=a,A=function(a,n,f,b){f=f||[];n=n||U;var e,d,c,g,l=n.nodeType;if(!a||"string"!=typeof a)return f;if(1!==l&&9!==l)return[];c=Ga(n);if(!c&&!b&&(e=Xc.exec(a)))if(g=e[1])if(9===l){d=n.getElementById(g);if(!d||!d.parentNode)return f;if(d.id===g)return f.push(d),f}else{if(n.ownerDocument&&
(d=n.ownerDocument.getElementById(g))&&Tb(n,d)&&d.id===g)return f.push(d),f}else{if(e[2])return la.apply(f,ma.call(n.getElementsByTagName(a),0)),f;if((g=e[3])&&Ub&&n.getElementsByClassName)return la.apply(f,ma.call(n.getElementsByClassName(g),0)),f}return ab(a.replace(Ha,"$1"),n,f,b,c)},ra=function(a){return function(n){return"input"===n.nodeName.toLowerCase()&&n.type===a}},Vb=function(a){return function(n){var f=n.nodeName.toLowerCase();return("input"===f||"button"===f)&&n.type===a}},ga=function(a){return V(function(n){return n=
+n,V(function(f,b){for(var e,d=a([],f.length,n),c=d.length;c--;)f[e=d[c]]&&(f[e]=!(b[e]=f[e]))})})},Ia=function(a,n,f){if(a===n)return f;for(a=a.nextSibling;a;){if(a===n)return-1;a=a.nextSibling}return 1},Ka=function(a,n){var f,b,e,d,c,g,l;if(c=Wb[J][a])return n?0:c.slice(0);c=a;g=[];for(l=H.preFilter;c;){if(!f||(b=Yc.exec(c)))b&&(c=c.slice(b[0].length)),g.push(e=[]);f=!1;if(b=Zc.exec(c))e.push(f=new Xb(b.shift())),c=c.slice(f.length),f.type=b[0].replace(Ha," ");for(d in H.filter)(b=Ja[d].exec(c))&&
(!l[d]||(b=l[d](b,U,!0)))&&(e.push(f=new Xb(b.shift())),c=c.slice(f.length),f.type=d,f.matches=b);if(!f)break}return n?c.length:c?A.error(a):Wb(a,g).slice(0)},cb=function(a,b,f){var e=b.dir,d=f&&"parentNode"===b.dir,c=$c++;return b.first?function(f,b,n){for(;f=f[e];)if(d||1===f.nodeType)return a(f,b,n)}:function(f,b,n){if(n)for(;f=f[e];){if((d||1===f.nodeType)&&a(f,b,n))return f}else for(var g,l=sa+" "+c+" ",m=l+bb;f=f[e];)if(d||1===f.nodeType){if((g=f[J])===m)return f.sizset;if("string"==typeof g&&
0===g.indexOf(l)){if(f.sizset)return f}else{f[J]=m;if(a(f,b,n))return f.sizset=!0,f;f.sizset=!1}}}},db=function(a){return 1<a.length?function(b,f,e){for(var d=a.length;d--;)if(!a[d](b,f,e))return!1;return!0}:a[0]},La=function(a,b,f,e,d){for(var c,g=[],l=0,m=a.length,p=null!=b;l<m;l++)if(c=a[l])if(!f||f(c,e,d))g.push(c),p&&b.push(l);return g},eb=function(a,b,f,e,d,c){return e&&!e[J]&&(e=eb(e)),d&&!d[J]&&(d=eb(d,c)),V(function(c,g,l,m){if(!c||!d){var p,t,K=[],s=[],q=g.length;if(!(t=c)){t=b||"*";var u=
l.nodeType?[l]:l,r=[];p=0;for(var z=u.length;p<z;p++)A(t,u[p],r,c);t=r}u=a&&(c||!b)?La(t,K,a,l,m):t;r=f?d||(c?a:q||e)?[]:g:u;f&&f(u,r,l,m);if(e){t=La(r,s);e(t,[],l,m);for(l=t.length;l--;)if(p=t[l])r[s[l]]=!(u[s[l]]=p)}if(c)for(l=a&&r.length;l--;){if(p=r[l])c[K[l]]=!(g[K[l]]=p)}else r=La(r===g?r.splice(q,r.length):r),d?d(null,g,r,m):la.apply(g,r)}})},fb=function(a){var b,f,e,d=a.length,c=H.relative[a[0].type];f=c||H.relative[" "];for(var g=c?1:0,l=cb(function(a){return a===b},f,!0),m=cb(function(a){return-1<
Yb.call(b,a)},f,!0),p=[function(a,j,f){return!c&&(f||j!==Ma)||((b=j).nodeType?l(a,j,f):m(a,j,f))}];g<d;g++)if(f=H.relative[a[g].type])p=[cb(db(p),f)];else{f=H.filter[a[g].type].apply(null,a[g].matches);if(f[J]){for(e=++g;e<d&&!H.relative[a[e].type];e++);return eb(1<g&&db(p),1<g&&a.slice(0,g-1).join("").replace(Ha,"$1"),f,g<e&&fb(a.slice(g,e)),e<d&&fb(a=a.slice(e)),e<d&&a.join(""))}p.push(f)}return db(p)},ab=function(a,b,f,e,d){var c,g,l,m,p=Ka(a);if(!e&&1===p.length){g=p[0]=p[0].slice(0);if(2<g.length&&
"ID"===(l=g[0]).type&&9===b.nodeType&&!d&&H.relative[g[1].type]){b=H.find.ID(l.matches[0].replace(ha,""),b,d)[0];if(!b)return f;a=a.slice(g.shift().length)}for(c=Ja.POS.test(a)?-1:g.length-1;0<=c;c--){l=g[c];if(H.relative[m=l.type])break;if(m=H.find[m])if(e=m(l.matches[0].replace(ha,""),gb.test(g[0].type)&&b.parentNode||b,d)){g.splice(c,1);a=e.length&&g.join("");if(!a)return la.apply(f,ma.call(e,0)),f;break}}}return hb(a,p)(e,b,d,f,gb.test(a)),f},Zb=function(){},bb,ib,H,Na,Ga,Tb,hb,jb,ta,Ma,$b=!0,
J=("sizcache"+Math.random()).replace(".",""),Xb=String,U=Wc.document,T=U.documentElement,sa=0,$c=0,ad=[].pop,la=[].push,ma=[].slice,Yb=[].indexOf||function(a){for(var b=0,f=this.length;b<f;b++)if(this[b]===a)return b;return-1},V=function(a,b){return a[J]=null==b||b,a},kb=function(){var a={},b=[];return V(function(f,e){return b.push(f)>H.cacheLength&&delete a[b.shift()],a[f]=e},a)},ac=kb(),Wb=kb(),bc=kb(),cc="\\[[\\x20\\t\\r\\n\\f]*((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)[\\x20\\t\\r\\n\\f]*(?:([*^$|!~]?=)[\\x20\\t\\r\\n\\f]*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+
"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w#")+")|)|)[\\x20\\t\\r\\n\\f]*\\]",lb=":((?:\\\\.|[-\\w]|[^\\x00-\\xa0])+)(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+cc+")|[^:]|\\\\.)*|.*))\\)|)",Ha=/^[\x20\t\r\n\f]+|((?:^|[^\\])(?:\\.)*)[\x20\t\r\n\f]+$/g,Yc=/^[\x20\t\r\n\f]*,[\x20\t\r\n\f]*/,Zc=/^[\x20\t\r\n\f]*([\x20\t\r\n\f>+~])[\x20\t\r\n\f]*/,bd=RegExp(lb),Xc=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,gb=/[\x20\t\r\n\f]*[+~]/,cd=/h\d/i,dd=/input|select|textarea|button/i,ha=/\\(?!\\)/g,
Ja={ID:/^#((?:\\.|[-\w]|[^\x00-\xa0])+)/,CLASS:/^\.((?:\\.|[-\w]|[^\x00-\xa0])+)/,NAME:/^\[name=['"]?((?:\\.|[-\w]|[^\x00-\xa0])+)['"]?\]/,TAG:RegExp("^("+"(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+".replace("w","w*")+")"),ATTR:RegExp("^"+cc),PSEUDO:RegExp("^"+lb),POS:/:(even|odd|eq|gt|lt|nth|first|last)(?:\([\x20\t\r\n\f]*((?:-\d)?\d*)[\x20\t\r\n\f]*\)|)(?=[^-]|$)/i,CHILD:RegExp("^:(only|nth|first|last)-child(?:\\([\\x20\\t\\r\\n\\f]*(even|odd|(([+-]|)(\\d*)n|)[\\x20\\t\\r\\n\\f]*(?:([+-]|)[\\x20\\t\\r\\n\\f]*(\\d+)|))[\\x20\\t\\r\\n\\f]*\\)|)",
"i"),needsContext:RegExp("^[\\x20\\t\\r\\n\\f]*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\([\\x20\\t\\r\\n\\f]*((?:-\\d)?\\d*)[\\x20\\t\\r\\n\\f]*\\)|)(?=[^-]|$)","i")},aa=function(a){var b=U.createElement("div");try{return a(b)}catch(f){return!1}finally{}},ed=aa(function(a){return a.appendChild(U.createComment("")),!a.getElementsByTagName("*").length}),fd=aa(function(a){return a.innerHTML="<a href='#'></a>",a.firstChild&&"undefined"!==typeof a.firstChild.getAttribute&&"#"===a.firstChild.getAttribute("href")}),
gd=aa(function(a){a.innerHTML="<select></select>";a=typeof a.lastChild.getAttribute("multiple");return"boolean"!==a&&"string"!==a}),Ub=aa(function(a){return a.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!a.getElementsByClassName||!a.getElementsByClassName("e").length?!1:(a.lastChild.className="e",2===a.getElementsByClassName("e").length)}),hd=aa(function(a){a.id=J+0;a.innerHTML="<a name='"+J+"'></a><div name='"+J+"'></div>";T.insertBefore(a,T.firstChild);var b=U.getElementsByName&&
U.getElementsByName(J).length===2+U.getElementsByName(J+0).length;return ib=!U.getElementById(J),T.removeChild(a),b});try{ma.call(T.childNodes,0)[0].nodeType}catch(Rd){ma=function(a){for(var b,f=[];b=this[a];a++)f.push(b);return f}}A.matches=function(a,b){return A(a,null,null,b)};A.matchesSelector=function(a,b){return 0<A(b,null,null,[a]).length};Na=A.getText=function(a){var b,f="",e=0;if(b=a.nodeType)if(1===b||9===b||11===b){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=
a.nextSibling)f+=Na(a)}else{if(3===b||4===b)return a.nodeValue}else for(;b=a[e];e++)f+=Na(b);return f};Ga=A.isXML=function(a){return(a=a&&(a.ownerDocument||a).documentElement)?"HTML"!==a.nodeName:!1};Tb=A.contains=T.contains?function(a,b){var f=9===a.nodeType?a.documentElement:a,e=b&&b.parentNode;return a===e||!(!e||!(1===e.nodeType&&f.contains&&f.contains(e)))}:T.compareDocumentPosition?function(a,b){return b&&!!(a.compareDocumentPosition(b)&16)}:function(a,b){for(;b=b.parentNode;)if(b===a)return!0;
return!1};A.attr=function(a,b){var f,e=Ga(a);return e||(b=b.toLowerCase()),(f=H.attrHandle[b])?f(a):e||gd?a.getAttribute(b):(f=a.getAttributeNode(b),f?"boolean"==typeof a[b]?a[b]?b:null:f.specified?f.value:null:null)};H=A.selectors={cacheLength:50,createPseudo:V,match:Ja,attrHandle:fd?{}:{href:function(a){return a.getAttribute("href",2)},type:function(a){return a.getAttribute("type")}},find:{ID:ib?function(a,b,f){if("undefined"!==typeof b.getElementById&&!f)return(a=b.getElementById(a))&&a.parentNode?
[a]:[]}:function(a,b,f){if("undefined"!==typeof b.getElementById&&!f)return(b=b.getElementById(a))?b.id===a||"undefined"!==typeof b.getAttributeNode&&b.getAttributeNode("id").value===a?[b]:void 0:[]},TAG:ed?function(a,b){if("undefined"!==typeof b.getElementsByTagName)return b.getElementsByTagName(a)}:function(a,b){var f=b.getElementsByTagName(a);if("*"===a){for(var e,d=[],c=0;e=f[c];c++)1===e.nodeType&&d.push(e);return d}return f},NAME:hd&&function(a,b){if("undefined"!==typeof b.getElementsByName)return b.getElementsByName(name)},
CLASS:Ub&&function(a,b,f){if("undefined"!==typeof b.getElementsByClassName&&!f)return b.getElementsByClassName(a)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ha,""),a[3]=(a[4]||a[5]||"").replace(ha,""),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1]?(a[2]||A.error(a[0]),a[3]=+(a[3]?a[4]+(a[5]||1):
2*("even"===a[2]||"odd"===a[2])),a[4]=+(a[6]+a[7]||"odd"===a[2])):a[2]&&A.error(a[0]),a},PSEUDO:function(a){var b,f;if(Ja.CHILD.test(a[0]))return null;if(a[3])a[2]=a[3];else if(b=a[4])bd.test(b)&&(f=Ka(b,!0))&&(f=b.indexOf(")",b.length-f)-b.length)&&(b=b.slice(0,f),a[0]=a[0].slice(0,f)),a[2]=b;return a.slice(0,3)}},filter:{ID:ib?function(a){return a=a.replace(ha,""),function(b){return b.getAttribute("id")===a}}:function(a){return a=a.replace(ha,""),function(b){return(b="undefined"!==typeof b.getAttributeNode&&
b.getAttributeNode("id"))&&b.value===a}},TAG:function(a){return"*"===a?function(){return!0}:(a=a.replace(ha,"").toLowerCase(),function(b){return b.nodeName&&b.nodeName.toLowerCase()===a})},CLASS:function(a){var b=ac[J][a];return b||(b=ac(a,RegExp("(^|[\\x20\\t\\r\\n\\f])"+a+"([\\x20\\t\\r\\n\\f]|$)"))),function(a){return b.test(a.className||"undefined"!==typeof a.getAttribute&&a.getAttribute("class")||"")}},ATTR:function(a,b,f){return function(e){e=A.attr(e,a);return null==e?"!="===b:b?(e+="","="===
b?e===f:"!="===b?e!==f:"^="===b?f&&0===e.indexOf(f):"*="===b?f&&-1<e.indexOf(f):"$="===b?f&&e.substr(e.length-f.length)===f:"~="===b?-1<(" "+e+" ").indexOf(f):"|="===b?e===f||e.substr(0,f.length+1)===f+"-":!1):!0}},CHILD:function(a,b,f,e){return"nth"===a?function(a){var j,b;j=a.parentNode;if(1===f&&0===e)return!0;if(j){b=0;for(j=j.firstChild;j&&!(1===j.nodeType&&(b++,a===j));j=j.nextSibling);}return b-=e,b===f||0===b%f&&0<=b/f}:function(b){var f=b;switch(a){case "only":case "first":for(;f=f.previousSibling;)if(1===
f.nodeType)return!1;if("first"===a)return!0;f=b;case "last":for(;f=f.nextSibling;)if(1===f.nodeType)return!1;return!0}}},PSEUDO:function(a,b){var f,e=H.pseudos[a]||H.setFilters[a.toLowerCase()]||A.error("unsupported pseudo: "+a);return e[J]?e(b):1<e.length?(f=[a,a,"",b],H.setFilters.hasOwnProperty(a.toLowerCase())?V(function(a,j){for(var f,d=e(a,b),c=d.length;c--;)f=Yb.call(a,d[c]),a[f]=!(j[f]=d[c])}):function(a){return e(a,0,f)}):e}},pseudos:{not:V(function(a){var b=[],f=[],e=hb(a.replace(Ha,"$1"));
return e[J]?V(function(a,j,b,f){f=e(a,null,f,[]);for(var d=a.length;d--;)if(b=f[d])a[d]=!(j[d]=b)}):function(a,j,d){return b[0]=a,e(b,null,d,f),!f.pop()}}),has:V(function(a){return function(b){return 0<A(a,b).length}}),contains:V(function(a){return function(b){return-1<(b.textContent||b.innerText||Na(b)).indexOf(a)}}),enabled:function(a){return!1===a.disabled},disabled:function(a){return!0===a.disabled},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===
b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,!0===a.selected},parent:function(a){return!H.pseudos.empty(a)},empty:function(a){var b;for(a=a.firstChild;a;){if("@"<a.nodeName||3===(b=a.nodeType)||4===b)return!1;a=a.nextSibling}return!0},header:function(a){return cd.test(a.nodeName)},text:function(a){var b,f;return"input"===a.nodeName.toLowerCase()&&"text"===(b=a.type)&&(null==(f=a.getAttribute("type"))||f.toLowerCase()===b)},radio:ra("radio"),checkbox:ra("checkbox"),
file:ra("file"),password:ra("password"),image:ra("image"),submit:Vb("submit"),reset:Vb("reset"),button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},input:function(a){return dd.test(a.nodeName)},focus:function(a){var b=a.ownerDocument;return a===b.activeElement&&(!b.hasFocus||b.hasFocus())&&(!!a.type||!!a.href)},active:function(a){return a===a.ownerDocument.activeElement},first:ga(function(){return[0]}),last:ga(function(a,b){return[b-1]}),eq:ga(function(a,
b,f){return[0>f?f+b:f]}),even:ga(function(a,b){for(var f=0;f<b;f+=2)a.push(f);return a}),odd:ga(function(a,b){for(var f=1;f<b;f+=2)a.push(f);return a}),lt:ga(function(a,b,f){for(b=0>f?f+b:f;0<=--b;)a.push(b);return a}),gt:ga(function(a,b,f){for(f=0>f?f+b:f;++f<b;)a.push(f);return a})}};jb=T.compareDocumentPosition?function(a,b){return a===b?(ta=!0,0):(!a.compareDocumentPosition||!b.compareDocumentPosition?a.compareDocumentPosition:a.compareDocumentPosition(b)&4)?-1:1}:function(a,b){if(a===b)return ta=
!0,0;if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var f,e,d=[],c=[];f=a.parentNode;e=b.parentNode;var g=f;if(f===e)return Ia(a,b);if(!f)return-1;if(!e)return 1;for(;g;)d.unshift(g),g=g.parentNode;for(g=e;g;)c.unshift(g),g=g.parentNode;f=d.length;e=c.length;for(g=0;g<f&&g<e;g++)if(d[g]!==c[g])return Ia(d[g],c[g]);return g===f?Ia(a,c[g],-1):Ia(d[g],b,1)};[0,0].sort(jb);$b=!ta;A.uniqueSort=function(a){var b,f=1;ta=$b;a.sort(jb);if(ta)for(;b=a[f];f++)b===a[f-1]&&a.splice(f--,1);
return a};A.error=function(a){throw Error("Syntax error, unrecognized expression: "+a);};hb=A.compile=function(a,b){var f,e=[],d=[],c=bc[J][a];if(!c){b||(b=Ka(a));for(f=b.length;f--;)c=fb(b[f]),c[J]?e.push(c):d.push(c);var g=0<e.length,l=0<d.length,m=function(a,j,b,f,c){var n,p,t=[],s=0,q="0",K=a&&[],u=null!=c,r=Ma,z=a||l&&H.find.TAG("*",c&&j.parentNode||j),x=sa+=null==r?1:Math.E;for(u&&(Ma=j!==U&&j,bb=m.el);null!=(c=z[q]);q++){if(l&&c){for(n=0;p=d[n];n++)if(p(c,j,b)){f.push(c);break}u&&(sa=x,bb=
++m.el)}g&&((c=!p&&c)&&s--,a&&K.push(c))}s+=q;if(g&&q!==s){for(n=0;p=e[n];n++)p(K,t,j,b);if(a){if(0<s)for(;q--;)!K[q]&&!t[q]&&(t[q]=ad.call(f));t=La(t)}la.apply(f,t);u&&!a&&0<t.length&&1<s+e.length&&A.uniqueSort(f)}return u&&(sa=x,Ma=r),K};f=(m.el=0,g?V(m):m);c=bc(a,f)}return c};if(U.querySelectorAll){var dc,id=ab,jd=/'|\\/g,kd=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,X=[":focus"],Oa=[":active",":focus"],Pa=T.matchesSelector||T.mozMatchesSelector||T.webkitMatchesSelector||T.oMatchesSelector||
T.msMatchesSelector;aa(function(a){a.innerHTML="<select><option selected=''></option></select>";a.querySelectorAll("[selected]").length||X.push("\\[[\\x20\\t\\r\\n\\f]*(?:checked|disabled|ismap|multiple|readonly|selected|value)");a.querySelectorAll(":checked").length||X.push(":checked")});aa(function(a){a.innerHTML="<p test=''></p>";a.querySelectorAll("[test^='']").length&&X.push("[*^$]=[\\x20\\t\\r\\n\\f]*(?:\"\"|'')");a.innerHTML="<input type='hidden'/>";a.querySelectorAll(":enabled").length||X.push(":enabled",
":disabled")});X=RegExp(X.join("|"));ab=function(a,b,f,e,d){if(!e&&!d&&(!X||!X.test(a))){var c,g,l=!0,m=J;g=b;c=9===b.nodeType&&a;if(1===b.nodeType&&"object"!==b.nodeName.toLowerCase()){c=Ka(a);(l=b.getAttribute("id"))?m=l.replace(jd,"\\$&"):b.setAttribute("id",m);m="[id='"+m+"'] ";for(g=c.length;g--;)c[g]=m+c[g].join("");g=gb.test(a)&&b.parentNode||b;c=c.join(",")}if(c)try{return la.apply(f,ma.call(g.querySelectorAll(c),0)),f}catch(p){}finally{l||b.removeAttribute("id")}}return id(a,b,f,e,d)};Pa&&
(aa(function(a){dc=Pa.call(a,"div");try{Pa.call(a,"[test!='']:sizzle"),Oa.push("!=",lb)}catch(b){}}),Oa=RegExp(Oa.join("|")),A.matchesSelector=function(a,b){b=b.replace(kd,"='$1']");if(!Ga(a)&&!Oa.test(b)&&(!X||!X.test(b)))try{var f=Pa.call(a,b);if(f||dc||a.document&&11!==a.document.nodeType)return f}catch(e){}return 0<A(b,null,null,[a]).length})}H.pseudos.nth=H.pseudos.eq;H.filters=Zb.prototype=H.pseudos;H.setFilters=new Zb;A.attr=e.attr;e.find=A;e.expr=A.selectors;e.expr[":"]=e.expr.pseudos;e.unique=
A.uniqueSort;e.text=A.getText;e.isXMLDoc=A.isXML;e.contains=A.contains;var ld=/Until$/,md=/^(?:parents|prev(?:Until|All))/,vc=/^.[^:#\[\.,]*$/,ec=e.expr.match.needsContext,nd={children:!0,contents:!0,next:!0,prev:!0};e.fn.extend({find:function(a){var b,f,d,c,g,l,m=this;if("string"!=typeof a)return e(a).filter(function(){b=0;for(f=m.length;b<f;b++)if(e.contains(m[b],this))return!0});l=this.pushStack("","find",a);b=0;for(f=this.length;b<f;b++)if(d=l.length,e.find(a,this[b],l),0<b)for(c=d;c<l.length;c++)for(g=
0;g<d;g++)if(l[g]===l[c]){l.splice(c--,1);break}return l},has:function(a){var b,f=e(a,this),d=f.length;return this.filter(function(){for(b=0;b<d;b++)if(e.contains(this,f[b]))return!0})},not:function(a){return this.pushStack(m(this,a,!1),"not",a)},filter:function(a){return this.pushStack(m(this,a,!0),"filter",a)},is:function(a){return!!a&&("string"==typeof a?ec.test(a)?0<=e(a,this.context).index(this[0]):0<e.filter(a,this).length:0<this.filter(a).length)},closest:function(a,b){for(var f,d=0,c=this.length,
g=[],l=ec.test(a)||"string"!=typeof a?e(a,b||this.context):0;d<c;d++)for(f=this[d];f&&f.ownerDocument&&f!==b&&11!==f.nodeType;){if(l?-1<l.index(f):e.find.matchesSelector(f,a)){g.push(f);break}f=f.parentNode}return g=1<g.length?e.unique(g):g,this.pushStack(g,"closest",a)},index:function(a){return a?"string"==typeof a?e.inArray(this[0],e(a)):e.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(a,b){var f="string"==typeof a?e(a,b):e.makeArray(a&&a.nodeType?
[a]:a),d=e.merge(this.get(),f);return this.pushStack(p(f[0])||p(d[0])?d:e.unique(d))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});e.fn.andSelf=e.fn.addBack;e.each({parent:function(a){return(a=a.parentNode)&&11!==a.nodeType?a:null},parents:function(a){return e.dir(a,"parentNode")},parentsUntil:function(a,b,f){return e.dir(a,"parentNode",f)},next:function(a){return q(a,"nextSibling")},prev:function(a){return q(a,"previousSibling")},nextAll:function(a){return e.dir(a,
"nextSibling")},prevAll:function(a){return e.dir(a,"previousSibling")},nextUntil:function(a,b,f){return e.dir(a,"nextSibling",f)},prevUntil:function(a,b,f){return e.dir(a,"previousSibling",f)},siblings:function(a){return e.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return e.sibling(a.firstChild)},contents:function(a){return e.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:e.merge([],a.childNodes)}},function(a,b){e.fn[a]=function(f,d){var c=e.map(this,b,f);return ld.test(a)||
(d=f),d&&"string"==typeof d&&(c=e.filter(d,c)),c=1<this.length&&!nd[a]?e.unique(c):c,1<this.length&&md.test(a)&&(c=c.reverse()),this.pushStack(c,a,Y.call(arguments).join(","))}});e.extend({filter:function(a,b,f){return f&&(a=":not("+a+")"),1===b.length?e.find.matchesSelector(b[0],a)?[b[0]]:[]:e.find.matches(a,b)},dir:function(a,d,f){var c=[];for(a=a[d];a&&9!==a.nodeType&&(f===b||1!==a.nodeType||!e(a).is(f));)1===a.nodeType&&c.push(a),a=a[d];return c},sibling:function(a,b){for(var f=[];a;a=a.nextSibling)1===
a.nodeType&&a!==b&&f.push(a);return f}});var sb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",od=/ jQuery\d+="(?:null|\d+)"/g,mb=/^\s+/,fc=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,gc=/<([\w:]+)/,pd=/<tbody/i,qd=/<|&#?\w+;/,rd=/<(?:script|style|link)/i,sd=/<(?:script|object|embed|option|style)/i,nb=RegExp("<(?:"+sb+")[\\s/>]","i"),tb=/^(?:checkbox|radio)$/,
hc=/checked\s*(?:[^=]|=\s*.checked.)/i,td=/\/(java|ecma)script/i,ud=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,S={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},ic=s(x),ob=ic.appendChild(x.createElement("div"));S.optgroup=
S.option;S.tbody=S.tfoot=S.colgroup=S.caption=S.thead;S.th=S.td;e.support.htmlSerialize||(S._default=[1,"X<div>","</div>"]);e.fn.extend({text:function(a){return e.access(this,function(a){return a===b?e.text(this):this.empty().append((this[0]&&this[0].ownerDocument||x).createTextNode(a))},null,a,arguments.length)},wrapAll:function(a){if(e.isFunction(a))return this.each(function(b){e(this).wrapAll(a.call(this,b))});if(this[0]){var b=e(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]);
b.map(function(){for(var a=this;a.firstChild&&1===a.firstChild.nodeType;)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){return e.isFunction(a)?this.each(function(b){e(this).wrapInner(a.call(this,b))}):this.each(function(){var b=e(this),f=b.contents();f.length?f.wrapAll(a):b.append(a)})},wrap:function(a){var b=e.isFunction(a);return this.each(function(f){e(this).wrapAll(b?a.call(this,f):a)})},unwrap:function(){return this.parent().each(function(){e.nodeName(this,"body")||
e(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(a,this.firstChild)})},before:function(){if(!p(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(a,
this),"before",this.selector)}},after:function(){if(!p(this[0]))return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=e.clean(arguments);return this.pushStack(e.merge(this,a),"after",this.selector)}},remove:function(a,b){for(var f,d=0;null!=(f=this[d]);d++)if(!a||e.filter(a,[f]).length)!b&&1===f.nodeType&&(e.cleanData(f.getElementsByTagName("*")),e.cleanData([f])),f.parentNode&&f.parentNode.removeChild(f);return this},empty:function(){for(var a,
b=0;null!=(a=this[b]);b++)for(1===a.nodeType&&e.cleanData(a.getElementsByTagName("*"));a.firstChild;)a.removeChild(a.firstChild);return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return e.clone(this,a,b)})},html:function(a){return e.access(this,function(a){var j=this[0]||{},d=0,c=this.length;if(a===b)return 1===j.nodeType?j.innerHTML.replace(od,""):b;if("string"==typeof a&&!rd.test(a)&&(e.support.htmlSerialize||!nb.test(a))&&(e.support.leadingWhitespace||!mb.test(a))&&
!S[(gc.exec(a)||["",""])[1].toLowerCase()]){a=a.replace(fc,"<$1></$2>");try{for(;d<c;d++)j=this[d]||{},1===j.nodeType&&(e.cleanData(j.getElementsByTagName("*")),j.innerHTML=a);j=0}catch(g){}}j&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(a){return p(this[0])?this.length?this.pushStack(e(e.isFunction(a)?a():a),"replaceWith",a):this:e.isFunction(a)?this.each(function(b){var f=e(this),d=f.html();f.replaceWith(a.call(this,b,d))}):("string"!=typeof a&&(a=e(a).detach()),this.each(function(){var b=
this.nextSibling,f=this.parentNode;e(this).remove();b?e(b).before(a):e(f).append(a)}))},detach:function(a){return this.remove(a,!0)},domManip:function(a,d,f){a=[].concat.apply([],a);var c,g,l,m=0,p=a[0],t=[],s=this.length;if(!e.support.checkClone&&1<s&&"string"==typeof p&&hc.test(p))return this.each(function(){e(this).domManip(a,d,f)});if(e.isFunction(p))return this.each(function(c){var g=e(this);a[0]=p.call(this,c,d?g.html():b);g.domManip(a,d,f)});if(this[0]){c=e.buildFragment(a,this,t);l=c.fragment;
g=l.firstChild;1===l.childNodes.length&&(l=g);if(g){d=d&&e.nodeName(g,"tr");for(c=c.cacheable||s-1;m<s;m++)f.call(d&&e.nodeName(this[m],"table")?this[m].getElementsByTagName("tbody")[0]||this[m].appendChild(this[m].ownerDocument.createElement("tbody")):this[m],m===c?l:e.clone(l,!0,!0))}l=g=null;t.length&&e.each(t,function(a,b){b.src?e.ajax?e.ajax({url:b.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):e.error("no ajax"):e.globalEval((b.text||b.textContent||b.innerHTML||"").replace(ud,
""));b.parentNode&&b.parentNode.removeChild(b)})}return this}});e.buildFragment=function(a,d,f){var c,g,l,m=a[0];return d=d||x,d=!d.nodeType&&d[0]||d,d=d.ownerDocument||d,1===a.length&&"string"==typeof m&&512>m.length&&d===x&&"<"===m.charAt(0)&&!sd.test(m)&&(e.support.checkClone||!hc.test(m))&&(e.support.html5Clone||!nb.test(m))&&(g=!0,c=e.fragments[m],l=c!==b),c||(c=d.createDocumentFragment(),e.clean(a,d,c,f),g&&(e.fragments[m]=l&&c)),{fragment:c,cacheable:g}};e.fragments={};e.each({appendTo:"append",
prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){e.fn[a]=function(f){var d,c=0,g=[];f=e(f);var l=f.length;d=1===this.length&&this[0].parentNode;if((null==d||d&&11===d.nodeType&&1===d.childNodes.length)&&1===l)return f[b](this[0]),this;for(;c<l;c++)d=(0<c?this.clone(!0):this).get(),e(f[c])[b](d),g=g.concat(d);return this.pushStack(g,a,f.selector)}});e.extend({clone:function(a,b,f){var d,c,g,l;e.support.html5Clone||e.isXMLDoc(a)||!nb.test("<"+a.nodeName+
">")?l=a.cloneNode(!0):(ob.innerHTML=a.outerHTML,ob.removeChild(l=ob.firstChild));if((!e.support.noCloneEvent||!e.support.noCloneChecked)&&(1===a.nodeType||11===a.nodeType)&&!e.isXMLDoc(a)){t(a,l);d=r(a);c=r(l);for(g=0;d[g];++g)c[g]&&t(d[g],c[g])}if(b&&(u(a,l),f)){d=r(a);c=r(l);for(g=0;d[g];++g)u(d[g],c[g])}return l},clean:function(a,b,f,d){var c,g,l,m,p,t,q,u=b===x&&ic,r=[];if(!b||"undefined"==typeof b.createDocumentFragment)b=x;for(c=0;null!=(l=a[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==
typeof l)if(qd.test(l)){u=u||s(b);t=b.createElement("div");u.appendChild(t);l=l.replace(fc,"<$1></$2>");g=(gc.exec(l)||["",""])[1].toLowerCase();m=S[g]||S._default;p=m[0];for(t.innerHTML=m[1]+l+m[2];p--;)t=t.lastChild;if(!e.support.tbody){p=pd.test(l);m="table"===g&&!p?t.firstChild&&t.firstChild.childNodes:"<table>"===m[1]&&!p?t.childNodes:[];for(g=m.length-1;0<=g;--g)e.nodeName(m[g],"tbody")&&!m[g].childNodes.length&&m[g].parentNode.removeChild(m[g])}!e.support.leadingWhitespace&&mb.test(l)&&t.insertBefore(b.createTextNode(mb.exec(l)[0]),
t.firstChild);l=t.childNodes;t.parentNode.removeChild(t)}else l=b.createTextNode(l);l.nodeType?r.push(l):e.merge(r,l)}t&&(l=t=u=null);if(!e.support.appendChecked)for(c=0;null!=(l=r[c]);c++)e.nodeName(l,"input")?z(l):"undefined"!=typeof l.getElementsByTagName&&e.grep(l.getElementsByTagName("input"),z);if(f){a=function(a){if(!a.type||td.test(a.type))return d?d.push(a.parentNode?a.parentNode.removeChild(a):a):f.appendChild(a)};for(c=0;null!=(l=r[c]);c++)if(!e.nodeName(l,"script")||!a(l))f.appendChild(l),
"undefined"!=typeof l.getElementsByTagName&&(q=e.grep(e.merge([],l.getElementsByTagName("script")),a),r.splice.apply(r,[c+1,0].concat(q)),c+=q.length)}return r},cleanData:function(a,b){for(var f,d,c,g,l=0,m=e.expando,p=e.cache,t=e.support.deleteExpando,s=e.event.special;null!=(c=a[l]);l++)if(b||e.acceptData(c))if(f=(d=c[m])&&p[d]){if(f.events)for(g in f.events)s[g]?e.event.remove(c,g):e.removeEvent(c,g,f.handle);p[d]&&(delete p[d],t?delete c[m]:c.removeAttribute?c.removeAttribute(m):c[m]=null,e.deletedIds.push(d))}}});
var Qa,ba;e.uaMatch=function(a){a=a.toLowerCase();a=/(chrome)[ \/]([\w.]+)/.exec(a)||/(webkit)[ \/]([\w.]+)/.exec(a)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(a)||/(msie) ([\w.]+)/.exec(a)||0>a.indexOf("compatible")&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(a)||[];return{browser:a[1]||"",version:a[2]||"0"}};Qa=e.uaMatch(Ac.userAgent);ba={};Qa.browser&&(ba[Qa.browser]=!0,ba.version=Qa.version);ba.chrome?ba.webkit=!0:ba.webkit&&(ba.safari=!0);e.browser=ba;e.sub=function(){function a(b,e){return new a.fn.init(b,
e)}e.extend(!0,a,this);a.superclass=this;a.fn=a.prototype=this();a.fn.constructor=a;a.sub=this.sub;a.fn.init=function(f,d){return d&&d instanceof e&&!(d instanceof a)&&(d=a(d)),e.fn.init.call(this,f,d,b)};a.fn.init.prototype=a.fn;var b=a(x);return a};var N,ja,ka,pb=/alpha\([^)]*\)/i,vd=/opacity=([^)]*)/,wd=/^(top|right|bottom|left)$/,xd=/^(none|table(?!-c[ea]).+)/,jc=/^margin/,wc=RegExp("^("+Aa+")(.*)$","i"),ua=RegExp("^("+Aa+")(?!px)[a-z%]+$","i"),yd=RegExp("^([-+])=("+Aa+")","i"),Ta={},zd={position:"absolute",
visibility:"hidden",display:"block"},kc={letterSpacing:0,fontWeight:400},ca=["Top","Right","Bottom","Left"],ub=["Webkit","O","Moz","ms"],Ad=e.fn.toggle;e.fn.extend({css:function(a,d){return e.access(this,function(a,d,j){return j!==b?e.style(a,d,j):e.css(a,d)},a,d,1<arguments.length)},show:function(){return F(this,!0)},hide:function(){return F(this)},toggle:function(a,b){var f="boolean"==typeof a;return e.isFunction(a)&&e.isFunction(b)?Ad.apply(this,arguments):this.each(function(){(f?a:I(this))?e(this).show():
e(this).hide()})}});e.extend({cssHooks:{opacity:{get:function(a,b){if(b){var e=N(a,"opacity");return""===e?"1":e}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":e.support.cssFloat?"cssFloat":"styleFloat"},style:function(a,d,f,c){if(a&&!(3===a.nodeType||8===a.nodeType||!a.style)){var g,l,m,p=e.camelCase(d),t=a.style;d=e.cssProps[p]||(e.cssProps[p]=L(t,p));m=e.cssHooks[d]||e.cssHooks[p];if(f===b)return m&&"get"in m&&(g=m.get(a,
!1,c))!==b?g:t[d];l=typeof f;"string"===l&&(g=yd.exec(f))&&(f=(g[1]+1)*g[2]+parseFloat(e.css(a,d)),l="number");if(!(null==f||"number"===l&&isNaN(f)))if("number"===l&&!e.cssNumber[p]&&(f+="px"),!m||!("set"in m)||(f=m.set(a,f,c))!==b)try{t[d]=f}catch(s){}}},css:function(a,d,f,c){var g,l,m,p=e.camelCase(d);return d=e.cssProps[p]||(e.cssProps[p]=L(a.style,p)),m=e.cssHooks[d]||e.cssHooks[p],m&&"get"in m&&(g=m.get(a,!0,c)),g===b&&(g=N(a,d)),"normal"===g&&d in kc&&(g=kc[d]),f||c!==b?(l=parseFloat(g),f||
e.isNumeric(l)?l||0:g):g},swap:function(a,b,e){var d,c={};for(d in b)c[d]=a.style[d],a.style[d]=b[d];e=e.call(a);for(d in b)a.style[d]=c[d];return e}});a.getComputedStyle?N=function(b,d){var f,c,g,l,m=a.getComputedStyle(b,null),p=b.style;return m&&(f=m[d],""===f&&!e.contains(b.ownerDocument,b)&&(f=e.style(b,d)),ua.test(f)&&jc.test(d)&&(c=p.width,g=p.minWidth,l=p.maxWidth,p.minWidth=p.maxWidth=p.width=f,f=m.width,p.width=c,p.minWidth=g,p.maxWidth=l)),f}:x.documentElement.currentStyle&&(N=function(a,
b){var e,d,c=a.currentStyle&&a.currentStyle[b],g=a.style;return null==c&&g&&g[b]&&(c=g[b]),ua.test(c)&&!wd.test(b)&&(e=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left="fontSize"===b?"1em":c,c=g.pixelLeft+"px",g.left=e,d&&(a.runtimeStyle.left=d)),""===c?"auto":c});e.each(["height","width"],function(a,b){e.cssHooks[b]={get:function(a,d,j){if(d)return 0===a.offsetWidth&&xd.test(N(a,"display"))?e.swap(a,zd,function(){return xb(a,b,j)}):xb(a,b,j)},set:function(a,
d,j){return B(a,d,j?wb(a,b,j,e.support.boxSizing&&"border-box"===e.css(a,"boxSizing")):0)}}});e.support.opacity||(e.cssHooks.opacity={get:function(a,b){return vd.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var d=a.style,c=a.currentStyle,g=e.isNumeric(b)?"alpha(opacity="+100*b+")":"",l=c&&c.filter||d.filter||"";d.zoom=1;if(!(1<=b&&""===e.trim(l.replace(pb,""))&&d.removeAttribute&&(d.removeAttribute("filter"),c&&!c.filter)))d.filter=
pb.test(l)?l.replace(pb,g):l+" "+g}});e(function(){e.support.reliableMarginRight||(e.cssHooks.marginRight={get:function(a,b){return e.swap(a,{display:"inline-block"},function(){if(b)return N(a,"marginRight")})}});!e.support.pixelPosition&&e.fn.position&&e.each(["top","left"],function(a,b){e.cssHooks[b]={get:function(a,d){if(d){var c=N(a,b);return ua.test(c)?e(a).position()[b]+"px":c}}}})});e.expr&&e.expr.filters&&(e.expr.filters.hidden=function(a){return 0===a.offsetWidth&&0===a.offsetHeight||!e.support.reliableHiddenOffsets&&
"none"===(a.style&&a.style.display||N(a,"display"))},e.expr.filters.visible=function(a){return!e.expr.filters.hidden(a)});e.each({margin:"",padding:"",border:"Width"},function(a,b){e.cssHooks[a+b]={expand:function(d){var e="string"==typeof d?d.split(" "):[d],c={};for(d=0;4>d;d++)c[a+ca[d]+b]=e[d]||e[d-2]||e[0];return c}};jc.test(a)||(e.cssHooks[a+b].set=B)});var Bd=/%20/g,xc=/\[\]$/,lc=/\r?\n/g,Cd=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,
Dd=/^(?:select|textarea)/i;e.fn.extend({serialize:function(){return e.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?e.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Dd.test(this.nodeName)||Cd.test(this.type))}).map(function(a,b){var d=e(this).val();return null==d?null:e.isArray(d)?e.map(d,function(a){return{name:b.name,value:a.replace(lc,"\r\n")}}):{name:b.name,value:d.replace(lc,"\r\n")}}).get()}});
e.param=function(a,d){var f,c=[],g=function(a,b){b=e.isFunction(b)?b():null==b?"":b;c[c.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};d===b&&(d=e.ajaxSettings&&e.ajaxSettings.traditional);if(e.isArray(a)||a.jquery&&!e.isPlainObject(a))e.each(a,function(){g(this.name,this.value)});else for(f in a)Ua(f,a[f],d,g);return c.join("&").replace(Bd,"+")};var na,ia,Ed=/#.*$/,Fd=/^(.*?):[ \t]*([^\r\n]*)\r?$/mg,Gd=/^(?:GET|HEAD)$/,Hd=/^\/\//,mc=/\?/,Id=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,
Jd=/([?&])_=[^&]*/,nc=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,oc=e.fn.load,Va={},pc={},qc=["*/"]+["*"];try{ia=zc.href}catch(Sd){ia=x.createElement("a"),ia.href="",ia=ia.href}na=nc.exec(ia.toLowerCase())||[];e.fn.load=function(a,d,f){if("string"!=typeof a&&oc)return oc.apply(this,arguments);if(!this.length)return this;var c,g,l,m=this,p=a.indexOf(" ");return 0<=p&&(c=a.slice(p,a.length),a=a.slice(0,p)),e.isFunction(d)?(f=d,d=b):d&&"object"==typeof d&&(g="POST"),e.ajax({url:a,type:g,dataType:"html",
data:d,complete:function(a,b){f&&m.each(f,l||[a.responseText,b,a])}}).done(function(a){l=arguments;m.html(c?e("<div>").append(a.replace(Id,"")).find(c):a)}),this};e.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(a,b){e.fn[b]=function(a){return this.on(b,a)}});e.each(["get","post"],function(a,d){e[d]=function(a,c,j,g){return e.isFunction(c)&&(g=g||j,j=c,c=b),e.ajax({type:d,url:a,data:c,success:j,dataType:g})}});e.extend({getScript:function(a,d){return e.get(a,
b,d,"script")},getJSON:function(a,b,d){return e.get(a,b,d,"json")},ajaxSetup:function(a,b){return b?zb(a,e.ajaxSettings):(b=a,a=e.ajaxSettings),zb(a,b),a},ajaxSettings:{url:ia,isLocal:/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/.test(na[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":qc},contents:{xml:/xml/,
html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":a.String,"text html":!0,"text json":e.parseJSON,"text xml":e.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:yb(Va),ajaxTransport:yb(pc),ajax:function(a,d){function c(a,d,f,j){var n,m,s,u,K,Q=d;if(2!==C){C=2;t&&clearTimeout(t);p=b;l=j||"";D.readyState=0<a?4:0;if(f){u=r;j=D;var R,A,F,H,J=u.contents,G=u.dataTypes,N=u.responseFields;for(A in N)A in f&&(j[N[A]]=f[A]);for(;"*"===G[0];)G.shift(),
R===b&&(R=u.mimeType||j.getResponseHeader("content-type"));if(R)for(A in J)if(J[A]&&J[A].test(R)){G.unshift(A);break}if(G[0]in f)F=G[0];else{for(A in f){if(!G[0]||u.converters[A+" "+G[0]]){F=A;break}H||(H=A)}F=F||H}u=f=F?(F!==G[0]&&G.unshift(F),f[F]):void 0}if(200<=a&&300>a||304===a)if(r.ifModified&&(K=D.getResponseHeader("Last-Modified"),K&&(e.lastModified[g]=K),K=D.getResponseHeader("Etag"),K&&(e.etag[g]=K)),304===a)Q="notmodified",n=!0;else{var P;a:{n=r;m=u;var M,Q=n.dataTypes.slice();f=Q[0];R=
{};A=0;n.dataFilter&&(m=n.dataFilter(m,n.dataType));if(Q[1])for(P in n.converters)R[P.toLowerCase()]=n.converters[P];for(;s=Q[++A];)if("*"!==s){if("*"!==f&&f!==s){P=R[f+" "+s]||R["* "+s];if(!P)for(M in R)if(K=M.split(" "),K[1]===s&&(P=R[f+" "+K[0]]||R["* "+K[0]])){!0===P?P=R[M]:!0!==R[M]&&(s=K[0],Q.splice(A--,0,s));break}if(!0!==P)if(P&&n["throws"])m=P(m);else try{m=P(m)}catch(O){P={state:"parsererror",error:P?O:"No conversion from "+f+" to "+s};break a}}f=s}P={state:"success",data:m}}n=P;Q=n.state;
m=n.data;s=n.error;n=!s}else if(s=Q,!Q||a)Q="error",0>a&&(a=0);D.status=a;D.statusText=(d||Q)+"";n?B.resolveWith(z,[m,Q,D]):B.rejectWith(z,[D,Q,s]);D.statusCode(L);L=b;q&&x.trigger("ajax"+(n?"Success":"Error"),[D,r,n?m:s]);I.fireWith(z,[D,Q]);q&&(x.trigger("ajaxComplete",[D,r]),--e.active||e.event.trigger("ajaxStop"))}}"object"==typeof a&&(d=a,a=b);d=d||{};var g,l,m,p,t,s,q,u,r=e.ajaxSetup({},d),z=r.context||r,x=z!==r&&(z.nodeType||z instanceof e)?e(z):e.event,B=e.Deferred(),I=e.Callbacks("once memory"),
L=r.statusCode||{},A={},F={},C=0,H="canceled",D={readyState:0,setRequestHeader:function(a,b){if(!C){var d=a.toLowerCase();a=F[d]=F[d]||a;A[a]=b}return this},getAllResponseHeaders:function(){return 2===C?l:null},getResponseHeader:function(a){var d;if(2===C){if(!m)for(m={};d=Fd.exec(l);)m[d[1].toLowerCase()]=d[2];d=m[a.toLowerCase()]}return d===b?null:d},overrideMimeType:function(a){return C||(r.mimeType=a),this},abort:function(a){return a=a||H,p&&p.abort(a),c(0,a),this}};B.promise(D);D.success=D.done;
D.error=D.fail;D.complete=I.add;D.statusCode=function(a){if(a){var b;if(2>C)for(b in a)L[b]=[L[b],a[b]];else b=a[D.status],D.always(b)}return this};r.url=((a||r.url)+"").replace(Ed,"").replace(Hd,na[1]+"//");r.dataTypes=e.trim(r.dataType||"*").toLowerCase().split(da);null==r.crossDomain&&(s=nc.exec(r.url.toLowerCase())||!1,r.crossDomain=s&&s.join(":")+(s[3]?"":"http:"===s[1]?80:443)!==na.join(":")+(na[3]?"":"http:"===na[1]?80:443));r.data&&r.processData&&"string"!=typeof r.data&&(r.data=e.param(r.data,
r.traditional));va(Va,r,d,D);if(2===C)return D;q=r.global;r.type=r.type.toUpperCase();r.hasContent=!Gd.test(r.type);q&&0===e.active++&&e.event.trigger("ajaxStart");if(!r.hasContent&&(r.data&&(r.url+=(mc.test(r.url)?"&":"?")+r.data,delete r.data),g=r.url,!1===r.cache)){s=e.now();var J=r.url.replace(Jd,"$1_="+s);r.url=J+(J===r.url?(mc.test(r.url)?"&":"?")+"_="+s:"")}(r.data&&r.hasContent&&!1!==r.contentType||d.contentType)&&D.setRequestHeader("Content-Type",r.contentType);r.ifModified&&(g=g||r.url,
e.lastModified[g]&&D.setRequestHeader("If-Modified-Since",e.lastModified[g]),e.etag[g]&&D.setRequestHeader("If-None-Match",e.etag[g]));D.setRequestHeader("Accept",r.dataTypes[0]&&r.accepts[r.dataTypes[0]]?r.accepts[r.dataTypes[0]]+("*"!==r.dataTypes[0]?", "+qc+"; q=0.01":""):r.accepts["*"]);for(u in r.headers)D.setRequestHeader(u,r.headers[u]);if(!r.beforeSend||!1!==r.beforeSend.call(z,D,r)&&2!==C){H="abort";for(u in{success:1,error:1,complete:1})D[u](r[u]);if(p=va(pc,r,d,D)){D.readyState=1;q&&x.trigger("ajaxSend",
[D,r]);r.async&&0<r.timeout&&(t=setTimeout(function(){D.abort("timeout")},r.timeout));try{C=1,p.send(A,c)}catch(G){if(2>C)c(-1,G);else throw G;}}else c(-1,"No Transport");return D}return D.abort()},active:0,lastModified:{},etag:{}});var rc=[],Kd=/\?/,Ra=/(=)\?(?=&|$)|\?\?/,Ld=e.now();e.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=rc.pop()||e.expando+"_"+Ld++;return this[a]=!0,a}});e.ajaxPrefilter("json jsonp",function(d,c,f){var g,l,m,p=d.data,t=d.url,s=!1!==d.jsonp,r=s&&Ra.test(t),
q=s&&!r&&"string"==typeof p&&!(d.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ra.test(p);if("jsonp"===d.dataTypes[0]||r||q)return g=d.jsonpCallback=e.isFunction(d.jsonpCallback)?d.jsonpCallback():d.jsonpCallback,l=a[g],r?d.url=t.replace(Ra,"$1"+g):q?d.data=p.replace(Ra,"$1"+g):s&&(d.url+=(Kd.test(t)?"&":"?")+d.jsonp+"="+g),d.converters["script json"]=function(){return m||e.error(g+" was not called"),m[0]},d.dataTypes[0]="json",a[g]=function(){m=arguments},f.always(function(){a[g]=
l;d[g]&&(d.jsonpCallback=c.jsonpCallback,rc.push(g));m&&e.isFunction(l)&&l(m[0]);m=l=b}),"script"});e.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(a){return e.globalEval(a),a}}});e.ajaxPrefilter("script",function(a){a.cache===b&&(a.cache=!1);a.crossDomain&&(a.type="GET",a.global=!1)});e.ajaxTransport("script",function(a){if(a.crossDomain){var d,e=
x.head||x.getElementsByTagName("head")[0]||x.documentElement;return{send:function(c,g){d=x.createElement("script");d.async="async";a.scriptCharset&&(d.charset=a.scriptCharset);d.src=a.url;d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,"success")};e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var oa,qb=a.ActiveXObject?function(){for(var a in oa)oa[a](0,
1)}:!1,Md=0;e.ajaxSettings.xhr=a.ActiveXObject?function(){var b;if(!(b=!this.isLocal&&Ab()))a:{try{b=new a.ActiveXObject("Microsoft.XMLHTTP");break a}catch(d){}b=void 0}return b}:Ab;var rb=e.ajaxSettings.xhr();e.extend(e.support,{ajax:!!rb,cors:!!rb&&"withCredentials"in rb});e.support.ajax&&e.ajaxTransport(function(d){if(!d.crossDomain||e.support.cors){var c;return{send:function(f,g){var l,m,p=d.xhr();d.username?p.open(d.type,d.url,d.async,d.username,d.password):p.open(d.type,d.url,d.async);if(d.xhrFields)for(m in d.xhrFields)p[m]=
d.xhrFields[m];d.mimeType&&p.overrideMimeType&&p.overrideMimeType(d.mimeType);!d.crossDomain&&!f["X-Requested-With"]&&(f["X-Requested-With"]="XMLHttpRequest");try{for(m in f)p.setRequestHeader(m,f[m])}catch(t){}p.send(d.hasContent&&d.data||null);c=function(a,f){var m,t,s,r,q;try{if(c&&(f||4===p.readyState))if(c=b,l&&(p.onreadystatechange=e.noop,qb&&delete oa[l]),f)4!==p.readyState&&p.abort();else{m=p.status;s=p.getAllResponseHeaders();r={};(q=p.responseXML)&&q.documentElement&&(r.xml=q);try{r.text=
p.responseText}catch(u){}try{t=p.statusText}catch(z){t=""}!m&&d.isLocal&&!d.crossDomain?m=r.text?200:404:1223===m&&(m=204)}}catch(K){f||g(-1,K)}r&&g(m,t,r,s)};d.async?4===p.readyState?setTimeout(c,0):(l=++Md,qb&&(oa||(oa={},e(a).unload(qb)),oa[l]=c),p.onreadystatechange=c):c()},abort:function(){c&&c(0,1)}}}});var wa,Sa,Nd=/^(?:toggle|show|hide)$/,Od=RegExp("^(?:([-+])=|)("+Aa+")([a-z%]*)$","i"),Pd=/queueHooks$/,xa=[function(a,b,d){var c,g,l,m,p,t,s=this,r=a.style,q={},u=[],z=a.nodeType&&I(a);d.queue||
(p=e._queueHooks(a,"fx"),null==p.unqueued&&(p.unqueued=0,t=p.empty.fire,p.empty.fire=function(){p.unqueued||t()}),p.unqueued++,s.always(function(){s.always(function(){p.unqueued--;e.queue(a,"fx").length||p.empty.fire()})}));1===a.nodeType&&("height"in b||"width"in b)&&(d.overflow=[r.overflow,r.overflowX,r.overflowY],"inline"===e.css(a,"display")&&"none"===e.css(a,"float")&&(!e.support.inlineBlockNeedsLayout||"inline"===vb(a.nodeName)?r.display="inline-block":r.zoom=1));d.overflow&&(r.overflow="hidden",
e.support.shrinkWrapBlocks||s.done(function(){r.overflow=d.overflow[0];r.overflowX=d.overflow[1];r.overflowY=d.overflow[2]}));for(c in b)g=b[c],Nd.exec(g)&&(delete b[c],g!==(z?"hide":"show")&&u.push(c));if(g=u.length){l=e._data(a,"fxshow")||e._data(a,"fxshow",{});z?e(a).show():s.done(function(){e(a).hide()});s.done(function(){var b;e.removeData(a,"fxshow",!0);for(b in q)e.style(a,b,q[b])});for(c=0;c<g;c++)b=u[c],m=s.createTween(b,z?l[b]:0),q[b]=l[b]||e.style(a,b),b in l||(l[b]=m.start,z&&(m.end=m.start,
m.start="width"===b||"height"===b?1:0))}}],pa={"*":[function(a,b){var d,c,g=this.createTween(a,b),l=Od.exec(b),m=g.cur(),p=+m||0,t=1,s=20;if(l){d=+l[2];c=l[3]||(e.cssNumber[a]?"":"px");if("px"!==c&&p){p=e.css(g.elem,a,!0)||d||1;do t=t||".5",p/=t,e.style(g.elem,a,p+c);while(t!==(t=g.cur()/m)&&1!==t&&--s)}g.unit=c;g.start=p;g.end=l[1]?p+(l[1]+1)*d:d}return g}]};e.Animation=e.extend(Cb,{tweener:function(a,b){e.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var d,c=0,g=a.length;c<g;c++)d=a[c],pa[d]=pa[d]||
[],pa[d].unshift(b)},prefilter:function(a,b){b?xa.unshift(a):xa.push(a)}});e.Tween=M;M.prototype={constructor:M,init:function(a,b,d,c,g,l){this.elem=a;this.prop=d;this.easing=g||"swing";this.options=b;this.start=this.now=this.cur();this.end=c;this.unit=l||(e.cssNumber[d]?"":"px")},cur:function(){var a=M.propHooks[this.prop];return a&&a.get?a.get(this):M.propHooks._default.get(this)},run:function(a){var b,d=M.propHooks[this.prop];return this.options.duration?this.pos=b=e.easing[this.easing](a,this.options.duration*
a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),d&&d.set?d.set(this):M.propHooks._default.set(this),this}};M.prototype.init.prototype=M.prototype;M.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=e.css(a.elem,a.prop,!1,""),!b||"auto"===b?0:b):a.elem[a.prop]},set:function(a){e.fx.step[a.prop]?e.fx.step[a.prop](a):a.elem.style&&
(null!=a.elem.style[e.cssProps[a.prop]]||e.cssHooks[a.prop])?e.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}};M.propHooks.scrollTop=M.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}};e.each(["toggle","show","hide"],function(a,b){var d=e.fn[b];e.fn[b]=function(c,g,l){return null==c||"boolean"==typeof c||!a&&e.isFunction(c)&&e.isFunction(g)?d.apply(this,arguments):this.animate(ya(b,!0),c,g,l)}});e.fn.extend({fadeTo:function(a,b,d,e){return this.filter(I).css("opacity",
0).show().end().animate({opacity:b},a,d,e)},animate:function(a,b,d,c){var g=e.isEmptyObject(a),l=e.speed(b,d,c);b=function(){var b=Cb(this,e.extend({},a),l);g&&b.stop(!0)};return g||!1===l.queue?this.each(b):this.queue(l.queue,b)},stop:function(a,d,c){var g=function(a){var b=a.stop;delete a.stop;b(c)};return"string"!=typeof a&&(c=d,d=a,a=b),d&&!1!==a&&this.queue(a||"fx",[]),this.each(function(){var b=!0,d=null!=a&&a+"queueHooks",l=e.timers,m=e._data(this);if(d)m[d]&&m[d].stop&&g(m[d]);else for(d in m)m[d]&&
m[d].stop&&Pd.test(d)&&g(m[d]);for(d=l.length;d--;)l[d].elem===this&&(null==a||l[d].queue===a)&&(l[d].anim.stop(c),b=!1,l.splice(d,1));(b||!c)&&e.dequeue(this,a)})}});e.each({slideDown:ya("show"),slideUp:ya("hide"),slideToggle:ya("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){e.fn[a]=function(a,d,e){return this.animate(b,a,d,e)}});e.speed=function(a,b,d){var c=a&&"object"==typeof a?e.extend({},a):{complete:d||!d&&b||e.isFunction(a)&&a,duration:a,
easing:d&&b||b&&!e.isFunction(b)&&b};c.duration=e.fx.off?0:"number"==typeof c.duration?c.duration:c.duration in e.fx.speeds?e.fx.speeds[c.duration]:e.fx.speeds._default;if(null==c.queue||!0===c.queue)c.queue="fx";return c.old=c.complete,c.complete=function(){e.isFunction(c.old)&&c.old.call(this);c.queue&&e.dequeue(this,c.queue)},c};e.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}};e.timers=[];e.fx=M.prototype.init;e.fx.tick=function(){for(var a,b=e.timers,
d=0;d<b.length;d++)a=b[d],!a()&&b[d]===a&&b.splice(d--,1);b.length||e.fx.stop()};e.fx.timer=function(a){a()&&e.timers.push(a)&&!Sa&&(Sa=setInterval(e.fx.tick,e.fx.interval))};e.fx.interval=13;e.fx.stop=function(){clearInterval(Sa);Sa=null};e.fx.speeds={slow:600,fast:200,_default:400};e.fx.step={};e.expr&&e.expr.filters&&(e.expr.filters.animated=function(a){return e.grep(e.timers,function(b){return a===b.elem}).length});var sc=/^(?:body|html)$/i;e.fn.offset=function(a){if(arguments.length)return a===
b?this:this.each(function(b){e.offset.setOffset(this,a,b)});var d,c,g,l,m,p,t,s={top:0,left:0},r=this[0],q=r&&r.ownerDocument;if(q)return(c=q.body)===r?e.offset.bodyOffset(r):(d=q.documentElement,e.contains(d,r)?("undefined"!=typeof r.getBoundingClientRect&&(s=r.getBoundingClientRect()),g=Db(q),l=d.clientTop||c.clientTop||0,m=d.clientLeft||c.clientLeft||0,p=g.pageYOffset||d.scrollTop,t=g.pageXOffset||d.scrollLeft,{top:s.top+p-l,left:s.left+t-m}):s)};e.offset={bodyOffset:function(a){var b=a.offsetTop,
d=a.offsetLeft;return e.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(e.css(a,"marginTop"))||0,d+=parseFloat(e.css(a,"marginLeft"))||0),{top:b,left:d}},setOffset:function(a,b,d){var c=e.css(a,"position");"static"===c&&(a.style.position="relative");var g=e(a),l=g.offset(),m=e.css(a,"top"),p=e.css(a,"left"),t={},s={},r,q;("absolute"===c||"fixed"===c)&&-1<e.inArray("auto",[m,p])?(s=g.position(),r=s.top,q=s.left):(r=parseFloat(m)||0,q=parseFloat(p)||0);e.isFunction(b)&&(b=b.call(a,d,l));null!=
b.top&&(t.top=b.top-l.top+r);null!=b.left&&(t.left=b.left-l.left+q);"using"in b?b.using.call(a,t):g.css(t)}};e.fn.extend({position:function(){if(this[0]){var a=this[0],b=this.offsetParent(),d=this.offset(),c=sc.test(b[0].nodeName)?{top:0,left:0}:b.offset();return d.top-=parseFloat(e.css(a,"marginTop"))||0,d.left-=parseFloat(e.css(a,"marginLeft"))||0,c.top+=parseFloat(e.css(b[0],"borderTopWidth"))||0,c.left+=parseFloat(e.css(b[0],"borderLeftWidth"))||0,{top:d.top-c.top,left:d.left-c.left}}},offsetParent:function(){return this.map(function(){for(var a=
this.offsetParent||x.body;a&&!sc.test(a.nodeName)&&"static"===e.css(a,"position");)a=a.offsetParent;return a||x.body})}});e.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,d){var c=/Y/.test(d);e.fn[a]=function(g){return e.access(this,function(a,g,l){var j=Db(a);if(l===b)return j?d in j?j[d]:j.document.documentElement[g]:a[g];j?j.scrollTo(c?e(j).scrollLeft():l,c?l:e(j).scrollTop()):a[g]=l},a,g,arguments.length,null)}});e.each({Height:"height",Width:"width"},function(a,d){e.each({padding:"inner"+
a,content:d,"":"outer"+a},function(c,g){e.fn[g]=function(g,l){var m=arguments.length&&(c||"boolean"!=typeof g),p=c||(!0===g||!0===l?"margin":"border");return e.access(this,function(d,c,f){var g;return e.isWindow(d)?d.document.documentElement["client"+a]:9===d.nodeType?(g=d.documentElement,Math.max(d.body["scroll"+a],g["scroll"+a],d.body["offset"+a],g["offset"+a],g["client"+a])):f===b?e.css(d,c,f,p):e.style(d,c,f,p)},d,m?g:b,m,null)}})});a.jQuery=a.$=e;"function"==typeof define&&define.amd&&define.amd.jQuery&&
define("jquery",[],function(){return e})})(window);
var portraitMode,mobilePortraitWidth=480,mobilePortraitHeight=640,mobileLandscapeWidth=640,mobileLandscapeHeight=480,mobileWidth=mobilePortraitWidth,mobileHeight=mobilePortraitHeight,desktopWidth=640,desktopHeight=480,w,h,multiplier,destW,destH,dynamicClickableEntityDivs={},coreDivsToResize=["game","play","orientate"],advancedDivsToResize={MobileAdInGamePreroll:{"box-width":_SETTINGS.Ad.Mobile.Preroll.Width+2,"box-height":_SETTINGS.Ad.Mobile.Preroll.Height+20},MobileAdInGameEnd:{"box-width":_SETTINGS.Ad.Mobile.End.Width+
2,"box-height":_SETTINGS.Ad.Mobile.End.Height+20}};
function adjustLayers(a){for(key in dynamicClickableEntityDivs){$("#"+key).width(dynamicClickableEntityDivs[key].width*multiplier);$("#"+key).height(dynamicClickableEntityDivs[key].height*multiplier);var b=w/2-destW/2,c=h/2-destH/2;$("#"+key).css("left",b+dynamicClickableEntityDivs[key].entity_pos_x*multiplier);$("#"+key).css("top",c+dynamicClickableEntityDivs[key].entity_pos_y*multiplier)}for(i=0;i<coreDivsToResize.length;i++)ig.ua.mobile?($("#"+coreDivsToResize[i]).width(w),$("#"+coreDivsToResize[i]).height(h)):
($("#"+coreDivsToResize[i]).width(destW),$("#"+coreDivsToResize[i]).height(destH),$("#"+coreDivsToResize[i]).css("left",a?0:w/2-destW/2));for(key in advancedDivsToResize)$("#"+key).width(w),$("#"+key).height(h),$("#"+key+"-Box").css("left",(w-advancedDivsToResize[key]["box-width"])/2),$("#"+key+"-Box").css("top",(h-advancedDivsToResize[key]["box-height"])/2);$("#ajaxbar").width(w);$("#ajaxbar").height(h)}
function sizeHandler(){$("#game")&&(w=window.innerWidth,h=window.innerHeight,ig.ua.mobile?(multiplier=Math.min(h/mobileHeight,w/mobileWidth),destW=mobileWidth*multiplier,destH=mobileHeight*multiplier):(multiplier=Math.min(h/desktopHeight,w/desktopWidth),destW=desktopWidth*multiplier,destH=desktopHeight*multiplier),adjustLayers(),window.scrollTo(0,1))}
function orientationHandler(){console.log("changing orientation ...");switch(window.orientation){case 0:$("#orientate").hide();$("#game").show();break;case 90:$("#orientate").show();$("#game").hide();break;case -90:$("#orientate").show();$("#game").hide();break;case 180:$("#orientate").hide(),$("#game").show()}sizeHandler()}window.addEventListener("resize",function(){sizeHandler()},!1);window.addEventListener("orientationchange",function(){orientationHandler();sizeHandler()},!1);
document.ontouchmove=function(){window.scrollTo(0,1)};var ie=function(){for(var a=3,b=document.createElement("div"),c=b.getElementsByTagName("i");b.innerHTML="\x3c!--[if gt IE "+ ++a+"]><i></i><![endif]--\x3e",c[0];);return 4<a?a:void 0}();function getQueryVariable(a){for(var b=window.location.search.substring(1).split("&"),c=0;c<b.length;c++){var g=b[c].split("=");if(decodeURIComponent(g[0])==a)return decodeURIComponent(g[1])}}
var nohtml5_message={en:'This game is best experienced with HTML5 capable browsers. We recommend downloading <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, or <a href="http://www.mozilla.org" target="_blank">Mozilla Firefox</a>',hk:'\u6b64\u7a0b\u5f0f\u53ea\u80fd\u652f\u63f4 HTML5 \u7684\u700f\u89bd\u5668\u4e0a\u904b\u884c\uff0c\u5982\u672a\u80fd\u958b\u59cb\u904a\u6232\uff0c\u8acb\u6309\u6b64\u4e0b\u8f09 <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, or <a href="http://www.mozilla.org" target="_blank">Mozilla Firefox</a>',
tw:'\u6b64\u7a0b\u5f0f\u53ea\u80fd\u652f\u63f4 HTML5 \u7684\u700f\u89bd\u5668\u4e0a\u904b\u884c\uff0c\u5982\u672a\u80fd\u958b\u59cb\u904a\u6232\uff0c\u8acb\u6309\u6b64\u4e0b\u8f09 <a href="http://www.google.com/chrome" target="_blank">Google Chrome</a>, or <a href="http://www.mozilla.org" target="_blank">Mozilla Firefox</a>'};
if(9>ie){var message,lang=getQueryVariable("lang");if(lang)switch(lang.toLowerCase()){case "en":message=nohtml5_message.en;break;case "hk":message=nohtml5_message.hk;break;case "tw":message=nohtml5_message.tw;break;default:message=nohtml5_message.en}else message=nohtml5_message.en;document.getElementById("nohtml5-text").innerHTML=message;document.getElementById("nohtml5").style.visibility="visible"}this.jukebox={};
jukebox.Player=function(a,b){this.id=++jukebox.__jukeboxId;this.origin=b||null;this.settings={};for(var c in this.defaults)this.settings[c]=this.defaults[c];if("[object Object]"===Object.prototype.toString.call(a))for(var g in a)this.settings[g]=a[g];"[object Function]"===Object.prototype.toString.call(jukebox.Manager)&&(jukebox.Manager=new jukebox.Manager);this.resource=this.isPlaying=null;this.resource="[object Object]"===Object.prototype.toString.call(jukebox.Manager)?jukebox.Manager.getPlayableResource(this.settings.resources):
this.settings.resources[0]||null;if(null===this.resource)throw"Your browser can't playback the given resources - or you have missed to include jukebox.Manager";this.__init();return this};jukebox.__jukeboxId=0;
jukebox.Player.prototype={defaults:{resources:[],autoplay:!1,spritemap:{},flashMediaElement:"./swf/FlashMediaElement.swf",timeout:1E3},__addToManager:function(){!0!==this.__wasAddedToManager&&(jukebox.Manager.add(this),this.__wasAddedToManager=!0)},__init:function(){var a=this,b=this.settings,c={},g;jukebox.Manager&&void 0!==jukebox.Manager.features&&(c=jukebox.Manager.features);if(!0===c.html5audio){this.context=new Audio;this.context.src=this.resource;if(null===this.origin){var d=function(b){a.__addToManager(b)};
this.context.addEventListener("canplaythrough",d,!0);window.setTimeout(function(){a.context.removeEventListener("canplaythrough",d,!0);d("timeout")},b.timeout)}this.context.autobuffer=!0;this.context.preload=!0;for(g in this.HTML5API)this[g]=this.HTML5API[g];1<c.channels?!0===b.autoplay?this.context.autoplay=!0:void 0!==b.spritemap[b.autoplay]&&this.play(b.autoplay):1===c.channels&&void 0!==b.spritemap[b.autoplay]&&(this.backgroundMusic=b.spritemap[b.autoplay],this.backgroundMusic.started=Date.now?
Date.now():+new Date,this.play(b.autoplay));1==c.channels&&!0!==b.canPlayBackground&&(window.addEventListener("pagehide",function(){null!==a.isPlaying&&(a.pause(),a.__wasAutoPaused=!0)}),window.addEventListener("pageshow",function(){a.__wasAutoPaused&&(a.resume(),delete a._wasAutoPaused)}))}else if(!0===c.flashaudio){for(g in this.FLASHAPI)this[g]=this.FLASHAPI[g];c=["id=jukebox-flashstream-"+this.id,"autoplay="+b.autoplay,"file="+window.encodeURIComponent(this.resource)];this.__initFlashContext(c);
!0===b.autoplay?this.play(0):b.spritemap[b.autoplay]&&this.play(b.autoplay)}else throw"Your Browser does not support Flash Audio or HTML5 Audio.";},__initFlashContext:function(a){var b,c=this.settings.flashMediaElement,g,d={flashvars:a.join("&"),quality:"high",bgcolor:"#000000",wmode:"transparent",allowscriptaccess:"always",allowfullscreen:"true"};if(navigator.userAgent.match(/MSIE/)){b=document.createElement("div");document.getElementsByTagName("body")[0].appendChild(b);var l=document.createElement("object");
l.id="jukebox-flashstream-"+this.id;l.setAttribute("type","application/x-shockwave-flash");l.setAttribute("classid","clsid:d27cdb6e-ae6d-11cf-96b8-444553540000");l.setAttribute("width","0");l.setAttribute("height","0");d.movie=c+"?x="+(Date.now?Date.now():+new Date);d.flashvars=a.join("&amp;");for(g in d)a=document.createElement("param"),a.setAttribute("name",g),a.setAttribute("value",d[g]),l.appendChild(a);b.outerHTML=l.outerHTML;this.context=document.getElementById("jukebox-flashstream-"+this.id)}else{b=
document.createElement("embed");b.id="jukebox-flashstream-"+this.id;b.setAttribute("type","application/x-shockwave-flash");b.setAttribute("width","100");b.setAttribute("height","100");d.play=!1;d.loop=!1;d.src=c+"?x="+(Date.now?Date.now():+new Date);for(g in d)b.setAttribute(g,d[g]);document.getElementsByTagName("body")[0].appendChild(b);this.context=b}},backgroundHackForiOS:function(){if(void 0!==this.backgroundMusic){var a=Date.now?Date.now():+new Date;void 0===this.backgroundMusic.started?(this.backgroundMusic.started=
a,this.setCurrentTime(this.backgroundMusic.start)):(this.backgroundMusic.lastPointer=(a-this.backgroundMusic.started)/1E3%(this.backgroundMusic.end-this.backgroundMusic.start)+this.backgroundMusic.start,this.play(this.backgroundMusic.lastPointer))}},play:function(a,b){if(null!==this.isPlaying&&!0!==b)void 0!==jukebox.Manager&&jukebox.Manager.addToQueue(a,this.id);else{var c=this.settings.spritemap,g;if(void 0!==c[a])g=c[a].start;else if("number"===typeof a){g=a;for(var d in c)if(g>=c[d].start&&g<=
c[d].end){a=d;break}}void 0!==g&&"[object Object]"===Object.prototype.toString.call(c[a])&&(this.isPlaying=this.settings.spritemap[a],this.context.play&&this.context.play(),this.wasReady=this.setCurrentTime(g))}},stop:function(){this.__lastPosition=0;this.isPlaying=null;this.backgroundMusic?this.backgroundHackForiOS():this.context.pause();return!0},pause:function(){this.isPlaying=null;this.__lastPosition=this.getCurrentTime();this.context.pause();return this.__lastPosition},resume:function(a){a="number"===
typeof a?a:this.__lastPosition;if(null!==a)return this.play(a),this.__lastPosition=null,!0;this.context.play();return!1},HTML5API:{getVolume:function(){return this.context.volume||1},setVolume:function(a){this.context.volume=a;return 1E-4>Math.abs(this.context.volume-a)?!0:!1},getCurrentTime:function(){return this.context.currentTime||0},setCurrentTime:function(a){try{return this.context.currentTime=a,!0}catch(b){return!1}}},FLASHAPI:{getVolume:function(){return this.context&&"function"===typeof this.context.getVolume?
this.context.getVolume():1},setVolume:function(a){return this.context&&"function"===typeof this.context.setVolume?(this.context.setVolume(a),!0):!1},getCurrentTime:function(){return this.context&&"function"===typeof this.context.getCurrentTime?this.context.getCurrentTime():0},setCurrentTime:function(a){return this.context&&"function"===typeof this.context.setCurrentTime?this.context.setCurrentTime(a):!1}}};
if(void 0===this.jukebox)throw"jukebox.Manager requires jukebox.Player (Player.js) to run properly.";
jukebox.Manager=function(a){this.features={};this.codecs={};this.__players={};this.__playersLength=0;this.__clones={};this.__queue=[];this.settings={};for(var b in this.defaults)this.settings[b]=this.defaults[b];if("[object Object]"===Object.prototype.toString.call(a))for(var c in a)this.settings[c]=a[c];this.__detectFeatures();jukebox.Manager.__initialized=!1===this.settings.useGameLoop?window.setInterval(function(){jukebox.Manager.loop()},20):!0};
jukebox.Manager.prototype={defaults:{useFlash:!1,useGameLoop:!1},__detectFeatures:function(){var a=window.Audio&&new Audio;if(a&&a.canPlayType&&!1===this.settings.useFlash){for(var b=[{e:"3gp",m:["audio/3gpp","audio/amr"]},{e:"aac",m:["audio/aac","audio/aacp"]},{e:"amr",m:["audio/amr","audio/3gpp"]},{e:"caf",m:["audio/IMA-ADPCM","audio/x-adpcm",'audio/x-aiff; codecs="IMA-ADPCM, ADPCM"']},{e:"m4a",m:'audio/mp4{audio/mp4; codecs="mp4a.40.2,avc1.42E01E"{audio/mpeg4{audio/mpeg4-generic{audio/mp4a-latm{audio/MP4A-LATM{audio/x-m4a'.split("{")},
{e:"mp3",m:["audio/mp3","audio/mpeg",'audio/mpeg; codecs="mp3"',"audio/MPA","audio/mpa-robust"]},{e:"mpga",m:["audio/MPA","audio/mpa-robust","audio/mpeg","video/mpeg"]},{e:"mp4",m:["audio/mp4","video/mp4"]},{e:"ogg",m:["application/ogg","audio/ogg",'audio/ogg; codecs="theora, vorbis"',"video/ogg",'video/ogg; codecs="theora, vorbis"']},{e:"wav",m:["audio/wave","audio/wav",'audio/wav; codecs="1"',"audio/x-wav","audio/x-pn-wav"]},{e:"webm",m:["audio/webm",'audio/webm; codecs="vorbis"',"video/webm"]}],
c,g,d=0,l=b.length;d<l;d++)if(g=b[d].e,b[d].m.length&&"object"===typeof b[d].m)for(var p=0,q=b[d].m.length;p<q;p++)if(c=b[d].m[p],""!==a.canPlayType(c)){this.codecs[g]=c;break}else this.codecs[g]||(this.codecs[g]=!1);this.features.html5audio=!(!this.codecs.mp3&&!this.codecs.ogg&&!this.codecs.webm&&!this.codecs.wav);this.features.channels=8;a.volume=0.1337;this.features.volume=!!(1E-4>Math.abs(a.volume-0.1337));navigator.userAgent.match(/iPhone|iPod|iPad/i)&&(this.features.channels=1)}this.features.flashaudio=
!!navigator.mimeTypes["application/x-shockwave-flash"]||!!navigator.plugins["Shockwave Flash"]||!1;if(window.ActiveXObject)try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash.10"),this.features.flashaudio=!0}catch(m){}!0===this.settings.useFlash&&(this.features.flashaudio=!0);!0===this.features.flashaudio&&!this.features.html5audio&&(this.codecs.mp3="audio/mp3",this.codecs.mpga="audio/mpeg",this.codecs.mp4="audio/mp4",this.codecs.m4a="audio/mp4",this.codecs["3gp"]="audio/3gpp",this.codecs.amr="audio/amr",
this.features.volume=!0,this.features.channels=1)},__getPlayerById:function(a){return this.__players&&void 0!==this.__players[a]?this.__players[a]:null},__getClone:function(a,b){for(var c in this.__clones){var g=this.__clones[c];if(null===g.isPlaying&&g.origin===a)return g}if("[object Object]"===Object.prototype.toString.call(b)){c={};for(var d in b)c[d]=b[d];c.autoplay=!1;d=new jukebox.Player(c,a);d.isClone=!0;d.wasReady=!1;return this.__clones[d.id]=d}return null},loop:function(){if(0!==this.__playersLength)if(this.__queue.length&&
this.__playersLength<this.features.channels){var a=this.__queue[0],b=this.__getPlayerById(a.origin);if(null!==b){var c=this.__getClone(a.origin,b.settings);null!==c&&(!0===this.features.volume&&(b=this.__players[a.origin])&&c.setVolume(b.getVolume()),this.add(c),c.play(a.pointer,!0))}this.__queue.splice(0,1)}else for(c in this.__queue.length&&1===this.features.channels&&(a=this.__queue[0],b=this.__getPlayerById(a.origin),null!==b&&b.play(a.pointer,!0),this.__queue.splice(0,1)),this.__players)a=this.__players[c],
b=a.getCurrentTime()||0,a.isPlaying&&!1===a.wasReady?a.wasReady=a.setCurrentTime(a.isPlaying.start):a.isPlaying&&!0===a.wasReady?b>a.isPlaying.end&&(!0===a.isPlaying.loop?a.play(a.isPlaying.start,!0):a.stop()):a.isClone&&null===a.isPlaying?this.remove(a):void 0!==a.backgroundMusic&&null===a.isPlaying&&b>a.backgroundMusic.end&&a.backgroundHackForiOS()},getPlayableResource:function(a){"[object Array]"!==Object.prototype.toString.call(a)&&(a=[a]);for(var b=0,c=a.length;b<c;b++){var g=a[b],d=g.match(/\.([^\.]*)$/)[1];
if(d&&this.codecs[d])return g}return null},add:function(a){return a instanceof jukebox.Player&&void 0===this.__players[a.id]?(this.__playersLength++,this.__players[a.id]=a,!0):!1},remove:function(a){return a instanceof jukebox.Player&&void 0!==this.__players[a.id]?(this.__playersLength--,delete this.__players[a.id],!0):!1},addToQueue:function(a,b){return("string"===typeof a||"number"===typeof a)&&void 0!==this.__players[b]?(this.__queue.push({pointer:a,origin:b}),!0):!1}};var MarketJS={};
(function(){function a(a,d,l,p){var q=window.XDomainRequest?new XDomainRequest:new XMLHttpRequest,m;switch(a){case "single-metric-write":m=b+"/metric/write/"+c+"/"+d+"/"+l;break;case "single-metric-read":m=b+"/metric/read/single/"+c+"/"+d;break;case "multi-metric-write":m=b+"/metric/write";break;case "multi-metric-read":m=b+"/metric/read/multi/"+c+"?"+d;break;case "leaderboard-read":m=b+"/leaderboard/read/"+c+"?"+d;break;case "leaderboard-write":break;default:console.log("no mode found")}q.onerror=
function(){console.log(q.responseText)};q.onload=function(){var a=JSON.parse(q.responseText);p?(console.log("passing to callback ..."),p(a)):console.log(a)};window.XDomainRequest?q.open("GET",m):q.open("GET",m,!0);q.send()}var b="https://marketjs-gamecenter.appspot.com",c="";MarketJS.Initialize=function(a){c=a;MarketJS.SingleMetric.Write("InitializeGame","1")};MarketJS.SingleMetric={Write:function(b,d){a("single-metric-write",b,d)},Read:function(b){a("single-metric-read",b)}};MarketJS.MultiMetric=
{Write:function(a){var d={};d.data=JSON.stringify(a);d.game_key=c;$.post(b+"/metric/write",d,function(a){console.log("Response: "+a)})},Read:function(b,d,c){var p="";for(i=0;i<b.length;i++)p+="metric_name=",p+=b[i],i!=b.length-1&&(p+="&");p+=c?"&rank_ascending=yes":"&rank_ascending=no";console.log(p);a("multi-metric-read",p,0,d)}};MarketJS.Player={};MarketJS.Player.Read={Leaderboard:function(a,d,l){$.get(b+"/read/player/game/leaderboard/"+a+"/"+d+"/"+c,{},l,"json")}};MarketJS.Login={Basic:function(a,
d){var l={};l.game_key=c;l.login_method="basic";for(var p in a)l[p]=a[p];console.log("login payload:",l);$.post(b+"/login",l,d)}};MarketJS.Leaderboard={Write:function(a,d,l,p){var q={};q.game_key=c;q.player_key=a;q.metric_name=d;q.metric_value=l;q.cumulative=p?"true":"false";$.post(b+"/write/leaderboard",q,function(a){console.log("Response: "+a)})},Read:function(b,d,c,p){b="metric_name="+b+(d?"&rank_ascending=yes":"&rank_ascending=no");b+="&metric_count=";b+=c;a("leaderboard-read",b,0,p)}};MarketJS.Platform=
{Read:function(){var a=/iPhone/i.test(navigator.userAgent),b=/iPad/i.test(navigator.userAgent),c=/android/i.test(navigator.userAgent),p=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);return a?"iPhone":b?"iPad":c?"Android":p?"WebView":"Web"}}})();function localJsonpCallback(a){a.Error?console.log(a.Message):console.log(a)}this.JSON||(this.JSON={});
(function(){function a(a){return 10>a?"0"+a:a}function b(a){d.lastIndex=0;return d.test(a)?'"'+a.replace(d,function(a){var b=q[a];return"string"===typeof b?b:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+a+'"'}function c(a,d){var g,r,q,L,I=l,F,B=d[a];B&&"object"===typeof B&&"function"===typeof B.toJSON&&(B=B.toJSON(a));"function"===typeof m&&(B=m.call(d,a,B));switch(typeof B){case "string":return b(B);case "number":return isFinite(B)?String(B):"null";case "boolean":case "null":return String(B);
case "object":if(!B)return"null";l+=p;F=[];if("[object Array]"===Object.prototype.toString.apply(B)){L=B.length;for(g=0;g<L;g+=1)F[g]=c(g,B)||"null";q=0===F.length?"[]":l?"[\n"+l+F.join(",\n"+l)+"\n"+I+"]":"["+F.join(",")+"]";l=I;return q}if(m&&"object"===typeof m){L=m.length;for(g=0;g<L;g+=1)r=m[g],"string"===typeof r&&(q=c(r,B))&&F.push(b(r)+(l?": ":":")+q)}else for(r in B)Object.hasOwnProperty.call(B,r)&&(q=c(r,B))&&F.push(b(r)+(l?": ":":")+q);q=0===F.length?"{}":l?"{\n"+l+F.join(",\n"+l)+"\n"+
I+"}":"{"+F.join(",")+"}";l=I;return q}}"function"!==typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+a(this.getUTCMonth()+1)+"-"+a(this.getUTCDate())+"T"+a(this.getUTCHours())+":"+a(this.getUTCMinutes())+":"+a(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var g=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,
d=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,l,p,q={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},m;"function"!==typeof JSON.stringify&&(JSON.stringify=function(a,b,d){var g;p=l="";if("number"===typeof d)for(g=0;g<d;g+=1)p+=" ";else"string"===typeof d&&(p=d);if((m=b)&&"function"!==typeof b&&("object"!==typeof b||"number"!==typeof b.length))throw Error("JSON.stringify");return c("",{"":a})});
"function"!==typeof JSON.parse&&(JSON.parse=function(a,b){function d(a,c){var g,l,m=a[c];if(m&&"object"===typeof m)for(g in m)Object.hasOwnProperty.call(m,g)&&(l=d(m,g),void 0!==l?m[g]=l:delete m[g]);return b.call(a,c,m)}var c;a=String(a);g.lastIndex=0;g.test(a)&&(a=a.replace(g,function(a){return"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(a.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,
"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return c=eval("("+a+")"),"function"===typeof b?d({"":c},""):c;throw new SyntaxError("JSON.parse");})})();this.createjs=this.createjs||{};
(function(){var a=function(){this.initialize()},b=a.prototype;a.initialize=function(a){a.addEventListener=b.addEventListener;a.removeEventListener=b.removeEventListener;a.removeAllEventListeners=b.removeAllEventListeners;a.hasEventListener=b.hasEventListener;a.dispatchEvent=b.dispatchEvent};b._listeners=null;b.initialize=function(){};b.addEventListener=function(a,b){var d=this._listeners;d?this.removeEventListener(a,b):d=this._listeners={};var l=d[a];l||(l=d[a]=[]);l.push(b);return b};b.removeEventListener=
function(a,b){var d=this._listeners;if(d){var l=d[a];if(l)for(var p=0,q=l.length;p<q;p++)if(l[p]==b){1==q?delete d[a]:l.splice(p,1);break}}};b.removeAllEventListeners=function(a){a?this._listeners&&delete this._listeners[a]:this._listeners=null};b.dispatchEvent=function(a,b){var d=!1,l=this._listeners;if(a&&l){"string"==typeof a&&(a={type:a});a.target=b||this;l=l[a.type];if(!l)return d;for(var l=l.slice(),p=0,q=l.length;p<q;p++){var m=l[p];m instanceof Function?d=d||m.apply(null,[a]):m.handleEvent&&
(d=d||m.handleEvent(a))}}return!!d};b.hasEventListener=function(a){var b=this._listeners;return!(!b||!b[a])};b.toString=function(){return"[EventDispatcher]"};createjs.EventDispatcher=a})();this.createjs=this.createjs||{};
(function(){function a(){throw"Sound cannot be instantiated";}function b(a,b){this.init(a,b)}function c(){}a.DELIMITER="|";a.AUDIO_TIMEOUT=8E3;a.INTERRUPT_ANY="any";a.INTERRUPT_EARLY="early";a.INTERRUPT_LATE="late";a.INTERRUPT_NONE="none";a.PLAY_INITED="playInited";a.PLAY_SUCCEEDED="playSucceeded";a.PLAY_INTERRUPTED="playInterrupted";a.PLAY_FINISHED="playFinished";a.PLAY_FAILED="playFailed";a.SUPPORTED_EXTENSIONS="mp3 ogg mpeg wav m4a mp4 aiff wma mid".split(" ");a.EXTENSION_MAP={m4a:"mp4"};a.FILE_PATTERN=
/(\w+:\/{2})?((?:\w+\.){2}\w+)?(\/?[\S]+\/|\/)?([\w\-%\.]+)(?:\.)(\w+)?(\?\S+)?/i;a.defaultInterruptBehavior=a.INTERRUPT_NONE;a.lastId=0;a.activePlugin=null;a.pluginsRegistered=!1;a.masterVolume=1;a.masterMute=!1;a.instances=[];a.idHash={};a.preloadHash={};a.defaultSoundInstance=null;a.addEventListener=null;a.removeEventListener=null;a.removeAllEventListeners=null;a.dispatchEvent=null;a.hasEventListener=null;a._listeners=null;createjs.EventDispatcher.initialize(a);a.onLoadComplete=null;a.sendLoadComplete=
function(b){if(a.preloadHash[b])for(var c=0,g=a.preloadHash[b].length;c<g;c++){var q=a.preloadHash[b][c],q={target:this,type:"loadComplete",src:q.src,id:q.id,data:q.data};a.preloadHash[b][c]=!0;a.onLoadComplete&&a.onLoadComplete(q);a.dispatchEvent(q)}};a.getPreloadHandlers=function(){return{callback:createjs.proxy(a.initLoad,a),types:["sound"],extensions:a.SUPPORTED_EXTENSIONS}};a.registerPlugin=function(b){a.pluginsRegistered=!0;return null==b?!1:b.isSupported()?(a.activePlugin=new b,!0):!1};a.registerPlugins=
function(b){for(var c=0,g=b.length;c<g;c++)if(a.registerPlugin(b[c]))return!0;return!1};a.initializeDefaultPlugins=function(){return null!=a.activePlugin?!0:a.pluginsRegistered?!1:a.registerPlugins([createjs.WebAudioPlugin,createjs.HTMLAudioPlugin])?!0:!1};a.isReady=function(){return null!=a.activePlugin};a.getCapabilities=function(){return null==a.activePlugin?null:a.activePlugin.capabilities};a.getCapability=function(b){return null==a.activePlugin?null:a.activePlugin.capabilities[b]};a.initLoad=
function(b,c,g,q){b=a.registerSound(b,g,q,!1);return null==b?!1:b};a.registerSound=function(d,c,g,q){if(!a.initializeDefaultPlugins())return!1;d instanceof Object&&(d=d.src,c=d.id,g=d.data);var m=a.parsePath(d,"sound",c,g);if(null==m)return!1;null!=c&&(a.idHash[c]=m.src);var s=null;null!=g&&(isNaN(g.channels)?isNaN(g)||(s=parseInt(g)):s=parseInt(g.channels));var u=a.activePlugin.register(m.src,s);null!=u&&(null!=u.numChannels&&(s=u.numChannels),b.create(m.src,s),null==g||!isNaN(g)?g=m.data=s||b.maxPerChannel():
g.channels=m.data.channels=s||b.maxPerChannel(),null!=u.tag?m.tag=u.tag:u.src&&(m.src=u.src),null!=u.completeHandler&&(m.completeHandler=u.completeHandler),m.type=u.type);!1!=q&&(a.preloadHash[m.src]||(a.preloadHash[m.src]=[]),a.preloadHash[m.src].push({src:d,id:c,data:g}),1==a.preloadHash[m.src].length&&a.activePlugin.preload(m.src,u));return m};a.registerManifest=function(a){for(var b=[],c=0,g=a.length;c<g;c++)b[c]=createjs.Sound.registerSound(a[c].src,a[c].id,a[c].data,a[c].preload);return b};
a.loadComplete=function(b){var c=a.parsePath(b,"sound");b=c?a.getSrcById(c.src):a.getSrcById(b);return!0==a.preloadHash[b][0]};a.parsePath=function(b,c,g,q){"string"!=typeof b&&(b=b.toString());b=b.split(a.DELIMITER);c={type:c||"sound",id:g,data:q};g=a.getCapabilities();q=0;for(var m=b.length;q<m;q++){var s=b[q],u=s.match(a.FILE_PATTERN);if(null==u)return!1;var t=u[4],u=u[5];if(g[u]&&-1<a.SUPPORTED_EXTENSIONS.indexOf(u))return c.name=t,c.src=s,c.extension=u,c}return null};a.play=function(b,c,g,q,
m,s,u){b=a.createInstance(b);a.playInstance(b,c,g,q,m,s,u)||b.playFailed();return b};a.createInstance=function(d){if(!a.initializeDefaultPlugins())return a.defaultSoundInstance;var c=a.parsePath(d,"sound");d=c?a.getSrcById(c.src):a.getSrcById(d);var c=d.lastIndexOf("."),g=d.slice(c+1);-1!=c&&-1<a.SUPPORTED_EXTENSIONS.indexOf(g)?(b.create(d),d=a.activePlugin.create(d)):d=a.defaultSoundInstance;d.uniqueId=a.lastId++;return d};a.setVolume=function(b){if(null==Number(b))return!1;b=Math.max(0,Math.min(1,
b));a.masterVolume=b;if(!this.activePlugin||!this.activePlugin.setVolume||!this.activePlugin.setVolume(b))for(var c=this.instances,g=0,q=c.length;g<q;g++)c[g].setMasterVolume(b)};a.getVolume=function(){return a.masterVolume};a.mute=function(a){this.masterMute=a;if(!this.activePlugin||!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this.instances,c=0,g=b.length;c<g;c++)b[c].setMasterMute(a)};a.setMute=function(a){if(null==a||void 0==a)return!1;this.masterMute=a;if(!this.activePlugin||
!this.activePlugin.setMute||!this.activePlugin.setMute(a))for(var b=this.instances,c=0,g=b.length;c<g;c++)b[c].setMasterMute(a);return!0};a.getMute=function(){return this.masterMute};a.stop=function(){for(var a=this.instances,b=a.length;0<b;b--)a[b-1].stop()};a.playInstance=function(b,c,g,q,m,s,u){c=c||a.defaultInterruptBehavior;null==g&&(g=0);null==q&&(q=b.getPosition());null==m&&(m=0);null==s&&(s=b.getVolume());null==u&&(u=b.getPan());if(0==g){if(!a.beginPlaying(b,c,q,m,s,u))return!1}else g=setTimeout(function(){a.beginPlaying(b,
c,q,m,s,u)},g),b.delayTimeoutId=g;this.instances.push(b);return!0};a.beginPlaying=function(a,c,g,q,m,s){return!b.add(a,c)?!1:!a.beginPlaying(g,q,m,s)?(a=this.instances.indexOf(a),-1<a&&this.instances.splice(a,1),!1):!0};a.getSrcById=function(b){return null==a.idHash||null==a.idHash[b]?b:a.idHash[b]};a.playFinished=function(a){b.remove(a);a=this.instances.indexOf(a);-1<a&&this.instances.splice(a,1)};a.proxy=function(a,b){return function(){return a.apply(b,arguments)}};createjs.Sound=a;createjs.proxy=
function(a,b){var c=Array.prototype.slice.call(arguments,2);return function(){return a.apply(b,Array.prototype.slice.call(arguments,0).concat(c))}};b.channels={};b.create=function(a,c){return null==b.get(a)?(b.channels[a]=new b(a,c),!0):!1};b.add=function(a,c){var g=b.get(a.src);return null==g?!1:g.add(a,c)};b.remove=function(a){var c=b.get(a.src);if(null==c)return!1;c.remove(a);return!0};b.maxPerChannel=function(){return g.maxDefault};b.get=function(a){return b.channels[a]};var g=b.prototype={src:null,
max:null,maxDefault:100,length:0,init:function(a,b){this.src=a;this.max=b||this.maxDefault;-1==this.max&&this.max==this.maxDefault;this.instances=[]},get:function(a){return this.instances[a]},add:function(a,b){if(!this.getSlot(b,a))return!1;this.instances.push(a);this.length++;return!0},remove:function(a){a=this.instances.indexOf(a);if(-1==a)return!1;this.instances.splice(a,1);this.length--;return!0},getSlot:function(b){for(var c,g,q=0,m=this.max;q<m;q++){c=this.get(q);if(null==c)return!0;if(!(b==
a.INTERRUPT_NONE&&c.playState!=a.PLAY_FINISHED))if(0==q)g=c;else if(c.playState==a.PLAY_FINISHED||c==a.PLAY_INTERRUPTED||c==a.PLAY_FAILED)g=c;else if(b==a.INTERRUPT_EARLY&&c.getPosition()<g.getPosition()||b==a.INTERRUPT_LATE&&c.getPosition()>g.getPosition())g=c}return null!=g?(g.interrupt(),this.remove(g),!0):!1},toString:function(){return"[Sound SoundChannel]"}};a.defaultSoundInstance=new function(){this.isDefault=!0;this.addEventListener=this.removeEventListener=this.removeAllEventListener=this.dispatchEvent=
this.hasEventListener=this._listeners=this.interrupt=this.playFailed=this.pause=this.resume=this.play=this.beginPlaying=this.cleanUp=this.stop=this.setMasterVolume=this.setVolume=this.mute=this.setMute=this.getMute=this.setPan=this.getPosition=this.setPosition=function(){return!1};this.getVolume=this.getPan=this.getDuration=function(){return 0};this.playState=a.PLAY_FAILED;this.toString=function(){return"[Sound Default Sound Instance]"}};c.init=function(){var a=navigator.userAgent;c.isFirefox=-1<
a.indexOf("Firefox");c.isOpera=null!=window.opera;c.isChrome=-1<a.indexOf("Chrome");c.isIOS=-1<a.indexOf("iPod")||-1<a.indexOf("iPhone")||-1<a.indexOf("iPad");c.isAndroid=-1<a.indexOf("Android");c.isBlackberry=-1<a.indexOf("Blackberry")};c.init();createjs.Sound.BrowserDetect=c})();this.createjs=this.createjs||{};
(function(){function a(){this.init()}function b(a,b){this.init(a,b)}function c(a,b){this.init(a,b)}a.capabilities=null;a.isSupported=function(){if("file:"==location.protocol)return!1;a.generateCapabilities();return null==a.context?!1:!0};a.generateCapabilities=function(){if(null==a.capabilities){var b=document.createElement("audio");if(null==b.canPlayType)return null;if(window.webkitAudioContext)a.context=new webkitAudioContext;else if(window.AudioContext)a.context=new AudioContext;else return null;
a.capabilities={panning:!0,volume:!0,tracks:-1};for(var c=createjs.Sound.SUPPORTED_EXTENSIONS,l=createjs.Sound.EXTENSION_MAP,p=0,q=c.length;p<q;p++){var m=c[p],s=l[m]||m;a.capabilities[m]="no"!=b.canPlayType("audio/"+m)&&""!=b.canPlayType("audio/"+m)||"no"!=b.canPlayType("audio/"+s)&&""!=b.canPlayType("audio/"+s)}2>a.context.destination.numberOfChannels&&(a.capabilities.panning=!1);a.dynamicsCompressorNode=a.context.createDynamicsCompressor();a.dynamicsCompressorNode.connect(a.context.destination);
a.gainNode=a.context.createGainNode();a.gainNode.connect(a.dynamicsCompressorNode)}};a.prototype={capabilities:null,volume:1,context:null,dynamicsCompressorNode:null,gainNode:null,arrayBuffers:null,init:function(){this.capabilities=a.capabilities;this.arrayBuffers={};this.context=a.context;this.gainNode=a.gainNode;this.dynamicsCompressorNode=a.dynamicsCompressorNode},register:function(a){this.arrayBuffers[a]=!0;return{tag:new c(a,this)}},isPreloadStarted:function(a){return null!=this.arrayBuffers[a]},
isPreloadComplete:function(a){return!(null==this.arrayBuffers[a]||!0==this.arrayBuffers[a])},removeFromPreload:function(a){delete this.arrayBuffers[a]},addPreloadResults:function(a,b){this.arrayBuffers[a]=b},handlePreloadComplete:function(){createjs.Sound.sendLoadComplete(this.src)},preload:function(a){this.arrayBuffers[a]=!0;a=new c(a,this);a.onload=this.handlePreloadComplete;a.load()},create:function(a){this.isPreloadStarted(a)||this.preload(a);return new b(a,this)},setVolume:function(a){this.volume=
a;this.updateVolume();return!0},updateVolume:function(){var a=createjs.Sound.masterMute?0:this.volume;a!=this.gainNode.gain.value&&(this.gainNode.gain.value=a)},getVolume:function(){return this.volume},setMute:function(){this.updateVolume();return!0},toString:function(){return"[WebAudioPlugin]"}};createjs.WebAudioPlugin=a;b.prototype={src:null,uniqueId:-1,playState:null,owner:null,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,soundCompleteTimeout:null,panNode:null,
gainNode:null,sourceNode:null,muted:!1,paused:!1,startTime:0,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,endedHandler:null,readyHandler:null,stalledHandler:null,onReady:null,onPlaySucceeded:null,onPlayInterrupted:null,onPlayFailed:null,onComplete:null,onLoop:null,sendEvent:function(a){this.dispatchEvent({target:this,type:a})},init:function(a,b){this.owner=b;this.src=a;this.panNode=this.owner.context.createPanner();
this.gainNode=this.owner.context.createGainNode();this.gainNode.connect(this.panNode);this.owner.isPreloadComplete(this.src)&&(this.duration=1E3*this.owner.arrayBuffers[this.src].duration);this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},cleanUp:function(){this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode.noteOff(0),
this.sourceNode=null);0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(0);clearTimeout(this.delayTimeoutId);clearTimeout(this.soundCompleteTimeout);null!=window.createjs&&createjs.Sound.playFinished(this)},interrupt:function(){this.playState=createjs.Sound.PLAY_INTERRUPTED;if(this.onPlayInterrupted)this.onPlayInterrupted(this);this.sendEvent("interrupted");this.cleanUp();this.paused=!1},handleSoundStalled:function(){if(null!=this.onPlayFailed)this.onPlayFailed(this);this.sendEvent("failed")},
handleSoundReady:function(){null!=window.createjs&&(this.offset>this.getDuration()?this.playFailed():(0>this.offset&&(this.offset=0),this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.panNode.connect(this.owner.gainNode),this.sourceNode=this.owner.context.createBufferSource(),this.sourceNode.buffer=this.owner.arrayBuffers[this.src],this.duration=1E3*this.owner.arrayBuffers[this.src].duration,this.sourceNode.connect(this.gainNode),this.soundCompleteTimeout=setTimeout(this.endedHandler,
1E3*(this.sourceNode.buffer.duration-this.offset)),this.startTime=this.owner.context.currentTime-this.offset,this.sourceNode.noteGrainOn(0,this.offset,this.sourceNode.buffer.duration-this.offset)))},play:function(a,b,c,p,q,m){this.cleanUp();createjs.Sound.playInstance(this,a,b,c,p,q,m)},beginPlaying:function(a,b,c,p){if(null!=window.createjs&&this.src){this.offset=a/1E3;this.remainingLoops=b;this.setVolume(c);this.setPan(p);if(this.owner.isPreloadComplete(this.src))return this.handleSoundReady(null),
this.onPlaySucceeded&&this.onPlaySucceeded(this),this.sendEvent("succeeded"),1;this.playFailed()}},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED?(this.paused=!0,this.offset=this.owner.context.currentTime-this.startTime,this.sourceNode.noteOff(0),0!=this.panNode.numberOfOutputs&&this.panNode.disconnect(),clearTimeout(this.delayTimeoutId),clearTimeout(this.soundCompleteTimeout),!0):!1},resume:function(){if(!this.paused)return!1;this.handleSoundReady(null);return!0},
stop:function(){this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();this.offset=0;return!0},setVolume:function(a){if(null==Number(a))return!1;this.volume=Math.max(0,Math.min(1,a));this.updateVolume();return!0},updateVolume:function(){var a=this.muted?0:this.volume;return a!=this.gainNode.gain.value?(this.gainNode.gain.value=a,!0):!1},getVolume:function(){return this.volume},mute:function(a){this.muted=a;this.updateVolume();return!0},setMute:function(a){if(null==a||void 0==a)return!1;this.muted=
a;this.updateVolume();return!0},getMute:function(){return this.muted},setPan:function(a){if(this.owner.capabilities.panning)this.panNode.setPosition(a,0,-0.5),this.pan=a;else return!1},getPan:function(){return this.pan},getPosition:function(){return 1E3*(this.paused||null==this.sourceNode?this.offset:this.owner.context.currentTime-this.startTime)},setPosition:function(a){this.offset=a/1E3;this.sourceNode&&this.sourceNode.playbackState!=this.sourceNode.UNSCHEDULED_STATE&&(this.sourceNode.noteOff(0),
clearTimeout(this.soundCompleteTimeout));!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&this.handleSoundReady(null);return!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0;if(0!=this.remainingLoops){this.remainingLoops--;this.handleSoundReady(null);if(null!=this.onLoop)this.onLoop(this);this.sendEvent("loop")}else if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FINISHED;if(null!=this.onComplete)this.onComplete(this);this.sendEvent("complete");
this.cleanUp()}},playFailed:function(){if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FAILED;if(null!=this.onPlayFailed)this.onPlayFailed(this);this.sendEvent("failed");this.cleanUp()}},toString:function(){return"[WebAudioPlugin SoundInstance]"}};createjs.EventDispatcher.initialize(b.prototype);c.prototype={request:null,owner:null,progress:-1,src:null,result:null,onload:null,onprogress:null,onError:null,init:function(a,b){this.src=a;this.owner=b},load:function(a){null!=a&&(this.src=
a);this.request=new XMLHttpRequest;this.request.open("GET",this.src,!0);this.request.responseType="arraybuffer";this.request.onload=createjs.proxy(this.handleLoad,this);this.request.onError=createjs.proxy(this.handleError,this);this.request.onprogress=createjs.proxy(this.handleProgress,this);this.request.send()},handleProgress:function(a,b){this.progress=a/b;if(null!=this.onprogress)this.onprogress({loaded:a,total:b,progress:this.progress})},handleLoad:function(){a.context.decodeAudioData(this.request.response,
createjs.proxy(this.handleAudioDecoded,this),createjs.proxy(this.handleError,this))},handleAudioDecoded:function(a){this.progress=1;this.result=a;this.owner.addPreloadResults(this.src,this.result);this.onload&&this.onload()},handleError:function(a){this.owner.removeFromPreload(this.src);this.onerror&&this.onerror(a)},toString:function(){return"[WebAudioPlugin WebAudioLoader]"}}})();this.createjs=this.createjs||{};
(function(){function a(){this.init()}function b(a,b){this.init(a,b)}function c(a,b){this.init(a,b)}function g(a){this.init(a)}a.MAX_INSTANCES=30;a.capabilities=null;a.AUDIO_READY="canplaythrough";a.AUDIO_ENDED="ended";a.AUDIO_ERROR="error";a.AUDIO_STALLED="stalled";a.isSupported=function(){if(createjs.Sound.BrowserDetect.isIOS)return!1;a.generateCapabilities();return null==a.tag||null==a.capabilities?!1:!0};a.generateCapabilities=function(){if(null==a.capabilities){var b=a.tag=document.createElement("audio");
if(null==b.canPlayType)return null;a.capabilities={panning:!0,volume:!0,tracks:-1};for(var c=createjs.Sound.SUPPORTED_EXTENSIONS,g=createjs.Sound.EXTENSION_MAP,q=0,m=c.length;q<m;q++){var s=c[q],u=g[s]||s;a.capabilities[s]="no"!=b.canPlayType("audio/"+s)&&""!=b.canPlayType("audio/"+s)||"no"!=b.canPlayType("audio/"+u)&&""!=b.canPlayType("audio/"+u)}}};a.prototype={capabilities:null,audioSources:null,defaultNumChannels:2,init:function(){this.capabilities=a.capabilities;this.audioSources={}},register:function(a,
b){this.audioSources[a]=!0;for(var c=g.get(a),q=null,m=b||this.defaultNumChannels,s=0;s<m;s++)q=this.createTag(a),c.add(q);return{tag:q,numChannels:m}},createTag:function(a){var b=document.createElement("audio");b.autoplay=!1;b.preload="none";b.src=a;return b},create:function(a){if(!this.isPreloadStarted(a)){var c=g.get(a),p=this.createTag(a);c.add(p);this.preload(a,{tag:p})}return new b(a,this)},isPreloadStarted:function(a){return null!=this.audioSources[a]},preload:function(a,b){this.audioSources[a]=
!0;new c(a,b.tag)},toString:function(){return"[HTMLAudioPlugin]"}};createjs.HTMLAudioPlugin=a;b.prototype={src:null,uniqueId:-1,playState:null,owner:null,loaded:!1,offset:0,delay:0,volume:1,pan:0,duration:0,remainingLoops:0,delayTimeoutId:null,tag:null,muted:!1,paused:!1,addEventListener:null,removeEventListener:null,removeAllEventListeners:null,dispatchEvent:null,hasEventListener:null,_listeners:null,onComplete:null,onLoop:null,onReady:null,onPlayFailed:null,onPlayInterrupted:null,onPlaySucceeded:null,
endedHandler:null,readyHandler:null,stalledHandler:null,init:function(a,b){this.src=a;this.owner=b;this.endedHandler=createjs.proxy(this.handleSoundComplete,this);this.readyHandler=createjs.proxy(this.handleSoundReady,this);this.stalledHandler=createjs.proxy(this.handleSoundStalled,this)},sendEvent:function(a){this.dispatchEvent({target:this,type:a})},cleanUp:function(){var a=this.tag;if(null!=a){a.pause();try{a.currentTime=0}catch(b){}a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,
!1);a.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1);g.setInstance(this.src,a);this.tag=null}clearTimeout(this.delayTimeoutId);null!=window.createjs&&createjs.Sound.playFinished(this)},interrupt:function(){if(null!=this.tag){this.playState=createjs.Sound.PLAY_INTERRUPTED;if(this.onPlayInterrupted)this.onPlayInterrupted(this);this.sendEvent("interrupted");this.cleanUp();this.paused=!1}},play:function(a,b,c,g,m,s){this.cleanUp();createjs.Sound.playInstance(this,a,b,c,
g,m,s)},beginPlaying:function(a,b,c){if(null==window.createjs)return-1;var q=this.tag=g.getInstance(this.src);if(null==q)return this.playFailed(),-1;this.duration=1E3*this.tag.duration;q.addEventListener(createjs.HTMLAudioPlugin.AUDIO_ENDED,this.endedHandler,!1);this.offset=a;this.volume=c;this.updateVolume();this.remainingLoops=b;4!==q.readyState?(q.addEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),q.addEventListener(createjs.HTMLAudioPlugin.AUDIO_STALLED,this.stalledHandler,
!1),q.load()):this.handleSoundReady(null);this.onPlaySucceeded&&this.onPlaySucceeded(this);this.sendEvent("succeeded");return 1},handleSoundStalled:function(){if(null!=this.onPlayFailed)this.onPlayFailed(this);this.sendEvent("failed");this.cleanUp()},handleSoundReady:function(){null!=window.createjs&&(this.playState=createjs.Sound.PLAY_SUCCEEDED,this.paused=!1,this.tag.removeEventListener(createjs.HTMLAudioPlugin.AUDIO_READY,this.readyHandler,!1),this.offset>=this.getDuration()?this.playFailed():
(0<this.offset&&(this.tag.currentTime=0.0010*this.offset),-1==this.remainingLoops&&(this.tag.loop=!0),this.tag.play()))},pause:function(){return!this.paused&&this.playState==createjs.Sound.PLAY_SUCCEEDED&&null!=this.tag?(this.paused=!0,this.tag.pause(),clearTimeout(this.delayTimeoutId),!0):!1},resume:function(){if(!this.paused||null==this.tag)return!1;this.paused=!1;this.tag.play();return!0},stop:function(){this.offset=0;this.pause();this.playState=createjs.Sound.PLAY_FINISHED;this.cleanUp();return!0},
setMasterVolume:function(){this.updateVolume();return!0},setVolume:function(a){if(null==Number(a))return!1;this.volume=Math.max(0,Math.min(1,a));this.updateVolume();return!0},updateVolume:function(){if(null!=this.tag){var a=this.muted||createjs.Sound.masterMute?0:this.volume*createjs.Sound.masterVolume;a!=this.tag.volume&&(this.tag.volume=a);return!0}return!1},getVolume:function(){return this.volume},mute:function(a){this.muted=a;this.updateVolume();return!0},setMasterMute:function(){this.updateVolume();
return!0},setMute:function(a){if(null==a||void 0==a)return!1;this.muted=a;this.updateVolume();return!0},getMute:function(){return this.muted},setPan:function(){return!1},getPan:function(){return 0},getPosition:function(){return null==this.tag?this.offset:1E3*this.tag.currentTime},setPosition:function(a){if(null==this.tag)this.offset=a;else try{this.tag.currentTime=0.0010*a}catch(b){return!1}return!0},getDuration:function(){return this.duration},handleSoundComplete:function(){this.offset=0;if(0!=this.remainingLoops){this.remainingLoops--;
this.tag.play();if(null!=this.onLoop)this.onLoop(this);this.sendEvent("loop")}else if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FINISHED;if(null!=this.onComplete)this.onComplete(this);this.sendEvent("complete");this.cleanUp()}},playFailed:function(){if(null!=window.createjs){this.playState=createjs.Sound.PLAY_FAILED;if(null!=this.onPlayFailed)this.onPlayFailed(this);this.sendEvent("failed");this.cleanUp()}},toString:function(){return"[HTMLAudioPlugin SoundInstance]"}};createjs.EventDispatcher.initialize(b.prototype);
c.prototype={src:null,tag:null,preloadTimer:null,loadedHandler:null,init:function(a,b){this.src=a;this.tag=b;this.preloadTimer=setInterval(createjs.proxy(this.preloadTick,this),200);this.loadedHandler=createjs.proxy(this.sendLoadedEvent,this);this.tag.addEventListener&&this.tag.addEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=createjs.proxy(this.sendLoadedEvent,this);this.tag.preload="auto";this.tag.src=a;this.tag.load()},preloadTick:function(){var a=this.tag.buffered,
b=this.tag.duration;0<a.length&&a.end(0)>=b-1&&this.handleTagLoaded()},handleTagLoaded:function(){clearInterval(this.preloadTimer)},sendLoadedEvent:function(){this.tag.removeEventListener&&this.tag.removeEventListener("canplaythrough",this.loadedHandler);this.tag.onreadystatechange=null;createjs.Sound.sendLoadComplete(this.src)},toString:function(){return"[HTMLAudioPlugin HTMLAudioLoader]"}};g.tags={};g.get=function(a){var b=g.tags[a];null==b&&(b=g.tags[a]=new g(a));return b};g.getInstance=function(a){a=
g.tags[a];return null==a?null:a.get()};g.setInstance=function(a,b){var c=g.tags[a];return null==c?null:c.set(b)};g.prototype={src:null,length:0,available:0,tags:null,init:function(a){this.src=a;this.tags=[]},add:function(a){this.tags.push(a);this.length++;this.available++},get:function(){if(0==this.tags.length)return null;this.available=this.tags.length;var a=this.tags.pop();null==a.parentNode&&document.body.appendChild(a);return a},set:function(a){-1==this.tags.indexOf(a)&&this.tags.push(a);this.available=
this.tags.length},toString:function(){return"[HTMLAudioPlugin TagPool]"}}})();var manifest=[{src:"media/audio/opening/opening.ogg|media/audio/opening/opening.mp3",id:"opening"},{src:"media/audio/start.ogg|media/audio/start.mp3",id:"start"}];createjs.Sound.registerPlugins([createjs.HTMLAudioPlugin,createjs.WebAudioPlugin]);createjs.Sound.registerManifest(manifest);
(function(a){Number.prototype.map=function(a,b,c,d){return c+(d-c)*((this-a)/(b-a))};Number.prototype.limit=function(a,b){return Math.min(b,Math.max(a,this))};Number.prototype.round=function(a){a=Math.pow(10,a||0);return Math.round(this*a)/a};Number.prototype.floor=function(){return Math.floor(this)};Number.prototype.ceil=function(){return Math.ceil(this)};Number.prototype.toInt=function(){return this|0};Number.prototype.toRad=function(){return this/180*Math.PI};Number.prototype.toDeg=function(){return 180*
this/Math.PI};Array.prototype.erase=function(a){for(var b=this.length;b--;)this[b]===a&&this.splice(b,1);return this};Array.prototype.random=function(){return this[Math.floor(Math.random()*this.length)]};Function.prototype.bind=Function.prototype.bind||function(a){var b=this;return function(){var c=Array.prototype.slice.call(arguments);return b.apply(a||null,c)}};a.ig={game:null,debug:null,version:"1.20",global:a,modules:{},resources:[],ready:!1,baked:!1,nocache:"",ua:{},prefix:a.ImpactPrefix||"",
lib:"lib/",_current:null,_loadQueue:[],_waitForOnload:0,$:function(a){return"#"==a.charAt(0)?document.getElementById(a.substr(1)):document.getElementsByTagName(a)},$new:function(a){return document.createElement(a)},copy:function(a){if(!a||"object"!=typeof a||a instanceof HTMLElement||a instanceof ig.Class)return a;if(a instanceof Array)for(var b=[],c=0,d=a.length;c<d;c++)b[c]=ig.copy(a[c]);else for(c in b={},a)b[c]=ig.copy(a[c]);return b},merge:function(a,b){for(var c in b){var d=b[c];if("object"!=
typeof d||d instanceof HTMLElement||d instanceof ig.Class)a[c]=d;else{if(!a[c]||"object"!=typeof a[c])a[c]=d instanceof Array?[]:{};ig.merge(a[c],d)}}return a},ksort:function(a){if(!a||"object"!=typeof a)return[];var b=[],c=[],d;for(d in a)b.push(d);b.sort();for(d=0;d<b.length;d++)c.push(a[b[d]]);return c},module:function(a){if(ig._current)throw"Module '"+ig._current.name+"' defines nothing";if(ig.modules[a]&&ig.modules[a].body)throw"Module '"+a+"' is already defined";ig._current={name:a,requires:[],
loaded:!1,body:null};ig.modules[a]=ig._current;ig._loadQueue.push(ig._current);return ig},requires:function(){ig._current.requires=Array.prototype.slice.call(arguments);return ig},defines:function(a){ig._current.body=a;ig._current=null;ig._initDOMReady()},addResource:function(a){ig.resources.push(a)},setNocache:function(a){ig.nocache=a?"?"+Date.now():""},log:function(){},assert:function(){},show:function(){},mark:function(){},_loadScript:function(a,b){ig.modules[a]={name:a,requires:[],loaded:!1,body:null};
ig._waitForOnload++;var c=ig.prefix+ig.lib+a.replace(/\./g,"/")+".js"+ig.nocache,d=ig.$new("script");d.type="text/javascript";d.src=c;d.onload=function(){ig._waitForOnload--;ig._execModules()};d.onerror=function(){throw"Failed to load module "+a+" at "+c+" required from "+b;};ig.$("head")[0].appendChild(d)},_execModules:function(){for(var a=!1,b=0;b<ig._loadQueue.length;b++){for(var c=ig._loadQueue[b],d=!0,g=0;g<c.requires.length;g++){var l=c.requires[g];ig.modules[l]?ig.modules[l].loaded||(d=!1):
(d=!1,ig._loadScript(l,c.name))}d&&c.body&&(ig._loadQueue.splice(b,1),c.loaded=!0,c.body(),a=!0,b--)}if(a)ig._execModules();else if(!ig.baked&&0==ig._waitForOnload&&0!=ig._loadQueue.length){a=[];for(b=0;b<ig._loadQueue.length;b++){d=[];l=ig._loadQueue[b].requires;for(g=0;g<l.length;g++)c=ig.modules[l[g]],(!c||!c.loaded)&&d.push(l[g]);a.push(ig._loadQueue[b].name+" (requires: "+d.join(", ")+")")}throw"Unresolved (circular?) dependencies. Most likely there's a name/path mismatch for one of the listed modules:\n"+
a.join("\n");}},_DOMReady:function(){if(!ig.modules["dom.ready"].loaded){if(!document.body)return setTimeout(ig._DOMReady,13);ig.modules["dom.ready"].loaded=!0;ig._waitForOnload--;ig._execModules()}return 0},_boot:function(){document.location.href.match(/\?nocache/)&&ig.setNocache(!0);ig.ua.pixelRatio=a.devicePixelRatio||1;ig.ua.viewport={width:a.innerWidth,height:a.innerHeight};ig.ua.screen={width:a.screen.availWidth*ig.ua.pixelRatio,height:a.screen.availHeight*ig.ua.pixelRatio};ig.ua.iPhone=/iPhone/i.test(navigator.userAgent);
ig.ua.iPhone4=ig.ua.iPhone&&2==ig.ua.pixelRatio;ig.ua.iPad=/iPad/i.test(navigator.userAgent);ig.ua.android=/android/i.test(navigator.userAgent);ig.ua.is_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent);ig.ua.is_safari_or_uiwebview=/(iPhone|iPod|iPad).*AppleWebKit/i.test(navigator.userAgent);ig.ua.iOS=ig.ua.iPhone||ig.ua.iPad;ig.ua.iOS6_tag=/OS 6_/i.test(navigator.userAgent);ig.ua.iOS6=(ig.ua.iPhone||ig.ua.iPad)&&ig.ua.iOS6_tag;ig.ua.mobile=ig.ua.iOS||ig.ua.android||
ig.ua.iOS6},_initDOMReady:function(){ig.modules["dom.ready"]?ig._execModules():(ig._boot(),ig.modules["dom.ready"]={requires:[],loaded:!1,body:null},ig._waitForOnload++,"complete"===document.readyState?ig._DOMReady():(document.addEventListener("DOMContentLoaded",ig._DOMReady,!1),a.addEventListener("load",ig._DOMReady,!1)))}};for(var b=["ms","moz","webkit","o"],c=0;c<b.length&&!a.requestAnimationFrame;c++)a.requestAnimationFrame=a[b[c]+"RequestAnimationFrame"];if(a.requestAnimationFrame){var g=1,d=
{};a.ig.setAnimation=function(b,c){var l=g++;d[l]=!0;var p=function(){d[l]&&(a.requestAnimationFrame(p,c),b())};a.requestAnimationFrame(p,c);return l};a.ig.clearAnimation=function(a){delete d[a]}}else a.ig.setAnimation=function(b){return a.setInterval(b,1E3/60)},a.ig.clearAnimation=function(b){a.clearInterval(b)};var l=!1,p=/xyz/.test(function(){xyz})?/\bparent\b/:/.*/;a.ig.Class=function(){};var q=function(a){var b=this.prototype,c={},d;for(d in a)"function"==typeof a[d]&&"function"==typeof b[d]&&
p.test(a[d])?(c[d]=b[d],b[d]=function(a,b){return function(){var d=this.parent;this.parent=c[a];var g=b.apply(this,arguments);this.parent=d;return g}}(d,a[d])):b[d]=a[d]};a.ig.Class.extend=function(b){function c(){if(!l){if(this.staticInstantiate){var a=this.staticInstantiate.apply(this,arguments);if(a)return a}for(var b in this)"object"==typeof this[b]&&(this[b]=ig.copy(this[b]));this.init&&this.init.apply(this,arguments)}return this}var d=this.prototype;l=!0;var g=new this;l=!1;for(var r in b)g[r]=
"function"==typeof b[r]&&"function"==typeof d[r]&&p.test(b[r])?function(a,b){return function(){var c=this.parent;this.parent=d[a];var g=b.apply(this,arguments);this.parent=c;return g}}(r,b[r]):b[r];c.prototype=g;c.constructor=c;c.extend=a.ig.Class.extend;c.inject=q;return c}})(window);ig.baked=!0;
ig.module("impact.image").defines(function(){ig.Image=ig.Class.extend({data:null,width:0,height:0,loaded:!1,failed:!1,loadCallback:null,path:"",staticInstantiate:function(a){return ig.Image.cache[a]||null},init:function(a){this.path=a;this.load()},load:function(a){this.loaded?a&&a(this.path,!0):(!this.loaded&&ig.ready?(this.loadCallback=a||null,this.data=new Image,this.data.onload=this.onload.bind(this),this.data.onerror=this.onerror.bind(this),this.data.src=ig.prefix+this.path+ig.nocache):ig.addResource(this),
ig.Image.cache[this.path]=this)},reload:function(){this.loaded=!1;this.data=new Image;this.data.onload=this.onload.bind(this);this.data.src=this.path+"?"+Date.now()},onload:function(){this.width=this.data.width;this.height=this.data.height;this.loaded=!0;1!=ig.system.scale&&this.resize(ig.system.scale);this.loadCallback&&this.loadCallback(this.path,!0)},onerror:function(){this.failed=!0;this.loadCallback&&this.loadCallback(this.path,!1)},resize:function(a){var b=this.width*a,c=this.height*a,g=ig.$new("canvas");
g.width=this.width;g.height=this.height;g=g.getContext("2d");g.drawImage(this.data,0,0,this.width,this.height,0,0,this.width,this.height);var g=g.getImageData(0,0,this.width,this.height),d=ig.$new("canvas");d.width=b;d.height=c;for(var l=d.getContext("2d"),p=l.getImageData(0,0,b,c),q=0;q<c;q++)for(var m=0;m<b;m++){var s=4*(Math.floor(q/a)*this.width+Math.floor(m/a)),u=4*(q*b+m);p.data[u]=g.data[s];p.data[u+1]=g.data[s+1];p.data[u+2]=g.data[s+2];p.data[u+3]=g.data[s+3]}l.putImageData(p,0,0);this.data=
d},draw:function(a,b,c,g,d,l){if(this.loaded){var p=ig.system.scale;d=(d?d:this.width)*p;l=(l?l:this.height)*p;ig.system.context.drawImage(this.data,c?c*p:0,g?g*p:0,d,l,ig.system.getDrawPos(a),ig.system.getDrawPos(b),d,l);ig.Image.drawCount++}},drawTile:function(a,b,c,g,d,l,p){d=d?d:g;if(this.loaded&&!(g>this.width||d>this.height)){var q=ig.system.scale,m=Math.floor(g*q),s=Math.floor(d*q),u=l?-1:1,t=p?-1:1;if(l||p)ig.system.context.save(),ig.system.context.scale(u,t);ig.system.context.drawImage(this.data,
Math.floor(c*g)%this.width*q,Math.floor(c*g/this.width)*d*q,m,s,ig.system.getDrawPos(a)*u-(l?m:0),ig.system.getDrawPos(b)*t-(p?s:0),m,s);(l||p)&&ig.system.context.restore();ig.Image.drawCount++}}});ig.Image.drawCount=0;ig.Image.cache={};ig.Image.reloadCache=function(){for(var a in ig.Image.cache)ig.Image.cache[a].reload()}});ig.baked=!0;
ig.module("impact.font").requires("impact.image").defines(function(){ig.Font=ig.Image.extend({widthMap:[],indices:[],firstChar:32,alpha:1,letterSpacing:1,lineSpacing:0,onload:function(a){this._loadMetrics(this.data);this.parent(a)},widthForString:function(a){if(-1!==a.indexOf("\n")){a=a.split("\n");for(var b=0,c=0;c<a.length;c++)b=Math.max(b,this._widthForLine(a[c]));return b}return this._widthForLine(a)},_widthForLine:function(a){for(var b=0,c=0;c<a.length;c++)b+=this.widthMap[a.charCodeAt(c)-this.firstChar]+
this.letterSpacing;return b},heightForString:function(a){return a.split("\n").length*(this.height+this.lineSpacing)},draw:function(a,b,c,g){"string"!=typeof a&&(a=a.toString());if(-1!==a.indexOf("\n")){a=a.split("\n");for(var d=this.height+this.lineSpacing,l=0;l<a.length;l++)this.draw(a[l],b,c+l*d,g)}else{if(g==ig.Font.ALIGN.RIGHT||g==ig.Font.ALIGN.CENTER)l=this._widthForLine(a),b-=g==ig.Font.ALIGN.CENTER?l/2:l;1!==this.alpha&&(ig.system.context.globalAlpha=this.alpha);for(l=0;l<a.length;l++)g=a.charCodeAt(l),
b+=this._drawChar(g-this.firstChar,b,c);1!==this.alpha&&(ig.system.context.globalAlpha=1);ig.Image.drawCount+=a.length}},_drawChar:function(a,b,c){if(!this.loaded||0>a||a>=this.indices.length)return 0;var g=ig.system.scale,d=this.widthMap[a]*g,l=(this.height-2)*g;ig.system.context.drawImage(this.data,this.indices[a]*g,0,d,l,ig.system.getDrawPos(b),ig.system.getDrawPos(c),d,l);return this.widthMap[a]+this.letterSpacing},_loadMetrics:function(a){this.height=a.height-1;this.widthMap=[];this.indices=
[];var b=ig.$new("canvas");b.width=a.width;b.height=a.height;b=b.getContext("2d");b.drawImage(a,0,0);for(var b=b.getImageData(0,a.height-1,a.width,1),c=0,g=0,d=0;d<a.width;d++){var l=4*d+3;0!=b.data[l]?g++:0==b.data[l]&&g&&(this.widthMap.push(g),this.indices.push(d-g),c++,g=0)}this.widthMap.push(g);this.indices.push(d-g)}});ig.Font.ALIGN={LEFT:0,RIGHT:1,CENTER:2}});ig.baked=!0;
ig.module("impact.sound").defines(function(){ig.SoundManager=ig.Class.extend({clips:{},volume:1,format:null,init:function(){for(var a=new Audio,b=0;b<ig.Sound.use.length;b++){var c=ig.Sound.use[b];if(a.canPlayType(c.mime)){this.format=c;break}}this.format||(ig.Sound.enabled=!1)},load:function(a,b,c){var g=ig.prefix+a.replace(/[^\.]+$/,this.format.ext)+ig.nocache;if(this.clips[a]){if(b&&this.clips[a].length<ig.Sound.channels)for(b=this.clips[a].length;b<ig.Sound.channels;b++){var d=new Audio(g);d.load();
this.clips[a].push(d)}return this.clips[a][0]}var l=new Audio(g);c&&(l.addEventListener("canplaythrough",function q(b){l.removeEventListener("canplaythrough",q,!1);c(a,!0,b)},!1),l.addEventListener("error",function(b){c(a,!0,b)},!1));l.preload="auto";l.load();this.clips[a]=[l];if(b)for(b=1;b<ig.Sound.channels;b++)d=new Audio(g),d.load(),this.clips[a].push(d);return l},get:function(a){a=this.clips[a];for(var b=0,c;c=a[b++];)if(c.paused||c.ended)return c.ended&&(c.currentTime=0),c;a[0].pause();a[0].currentTime=
0;return a[0]}});ig.Music=ig.Class.extend({tracks:[],namedTracks:{},currentTrack:null,currentIndex:0,random:!1,_volume:1,_loop:!1,_fadeInterval:0,_fadeTimer:null,_endedCallbackBound:null,init:function(){this._endedCallbackBound=this._endedCallback.bind(this);Object.defineProperty?(Object.defineProperty(this,"volume",{get:this.getVolume.bind(this),set:this.setVolume.bind(this)}),Object.defineProperty(this,"loop",{get:this.getLooping.bind(this),set:this.setLooping.bind(this)})):this.__defineGetter__&&
(this.__defineGetter__("volume",this.getVolume.bind(this)),this.__defineSetter__("volume",this.setVolume.bind(this)),this.__defineGetter__("loop",this.getLooping.bind(this)),this.__defineSetter__("loop",this.setLooping.bind(this)))},add:function(a,b){if(ig.Sound.enabled){var c=ig.soundManager.load(a instanceof ig.Sound?a.path:a,!1);c.loop=this._loop;c.volume=this._volume;c.addEventListener("ended",this._endedCallbackBound,!1);this.tracks.push(c);b&&(this.namedTracks[b]=c);this.currentTrack||(this.currentTrack=
c)}},next:function(){this.tracks.length&&(this.stop(),this.currentIndex=this.random?Math.floor(Math.random()*this.tracks.length):(this.currentIndex+1)%this.tracks.length,this.currentTrack=this.tracks[this.currentIndex],this.play())},pause:function(){this.currentTrack&&this.currentTrack.pause()},stop:function(){if(this.currentTrack){this.currentTrack.pause();try{this.currentTrack.currentTime=0}catch(a){console.log(a)}}},play:function(a){if(a&&this.namedTracks[a])a=this.namedTracks[a],a!=this.currentTrack&&
(this.stop(),this.currentTrack=a);else if(!this.currentTrack)return;this.currentTrack.play()},getLooping:function(){return this._loop},setLooping:function(a){this._loop=a;for(var b in this.tracks)this.tracks[b].loop=a},getVolume:function(){return this._volume},setVolume:function(a){this._volume=a.limit(0,1);for(var b in this.tracks)this.tracks[b].volume=this._volume},fadeOut:function(a){this.currentTrack&&(clearInterval(this._fadeInterval),this.fadeTimer=new ig.Timer(a),this._fadeInterval=setInterval(this._fadeStep.bind(this),
50))},_fadeStep:function(){var a=this.fadeTimer.delta().map(-this.fadeTimer.target,0,1,0).limit(0,1)*this._volume;0.01>=a?(this.stop(),this.currentTrack.volume=this._volume,clearInterval(this._fadeInterval)):this.currentTrack.volume=a},_endedCallback:function(){this._loop?this.play():this.next()}});ig.Sound=ig.Class.extend({path:"",volume:1,currentClip:null,multiChannel:!0,init:function(a,b){this.path=a;this.multiChannel=!1!==b;this.load()},load:function(a){ig.Sound.enabled?ig.ready?ig.soundManager.load(this.path,
this.multiChannel,a):ig.addResource(this):a&&a(this.path,!0)},play:function(){ig.Sound.enabled&&(this.currentClip=ig.soundManager.get(this.path),this.currentClip.volume=ig.soundManager.volume*this.volume,this.currentClip.play())},stop:function(){this.currentClip&&(this.currentClip.pause(),this.currentClip.currentTime=0)}});ig.Sound.FORMAT={MP3:{ext:"mp3",mime:"audio/mpeg"},M4A:{ext:"m4a",mime:"audio/mp4; codecs=mp4a"},OGG:{ext:"ogg",mime:"audio/ogg; codecs=vorbis"},WEBM:{ext:"webm",mime:"audio/webm; codecs=vorbis"},
CAF:{ext:"caf",mime:"audio/x-caf"}};ig.Sound.use=[ig.Sound.FORMAT.MP3,ig.Sound.FORMAT.OGG];ig.Sound.channels=4;ig.Sound.enabled=!0});ig.baked=!0;
ig.module("impact.loader").requires("impact.image","impact.font","impact.sound").defines(function(){ig.Loader=ig.Class.extend({resources:[],gameClass:null,status:0,done:!1,_unloaded:[],_drawStatus:0,_intervalId:0,_loadCallbackBound:null,init:function(a,b){this.gameClass=a;this.resources=b;this._loadCallbackBound=this._loadCallback.bind(this);for(var c=0;c<this.resources.length;c++)this._unloaded.push(this.resources[c].path)},load:function(){ig.system.clear("#000");if(this.resources.length){for(var a=
0;a<this.resources.length;a++)this.loadResource(this.resources[a]);this._intervalId=setInterval(this.draw.bind(this),16)}else this.end()},loadResource:function(a){a.load(this._loadCallbackBound)},end:function(){this.done||(this.done=!0,clearInterval(this._intervalId))},draw:function(){},_loadCallback:function(a,b){if(b)this._unloaded.erase(a);else throw"Failed to load resource: "+a;this.status=1-this._unloaded.length/this.resources.length;0==this._unloaded.length&&setTimeout(this.end.bind(this),250)}})});
ig.baked=!0;
ig.module("impact.timer").defines(function(){ig.Timer=ig.Class.extend({target:0,base:0,last:0,pausedAt:0,init:function(a){this.last=this.base=ig.Timer.time;this.target=a||0},set:function(a){this.target=a||0;this.base=ig.Timer.time;this.pausedAt=0},reset:function(){this.base=ig.Timer.time;this.pausedAt=0},tick:function(){var a=ig.Timer.time-this.last;this.last=ig.Timer.time;return this.pausedAt?0:a},delta:function(){return(this.pausedAt||ig.Timer.time)-this.base-this.target},pause:function(){this.pausedAt||(this.pausedAt=
ig.Timer.time)},unpause:function(){this.pausedAt&&(this.base+=ig.Timer.time-this.pausedAt,this.pausedAt=0)}});ig.Timer._last=0;ig.Timer.time=0;ig.Timer.timeScale=1;ig.Timer.maxStep=0.05;ig.Timer.step=function(){var a=Date.now();ig.Timer.time+=Math.min((a-ig.Timer._last)/1E3,ig.Timer.maxStep)*ig.Timer.timeScale;ig.Timer._last=a}});ig.baked=!0;
ig.module("impact.system").requires("impact.timer","impact.image").defines(function(){ig.System=ig.Class.extend({fps:30,width:320,height:240,realWidth:320,realHeight:240,scale:1,tick:0,animationId:0,newGameClass:null,running:!1,delegate:null,clock:null,canvas:null,context:null,init:function(a,b,c,g,d){this.fps=b;this.clock=new ig.Timer;this.canvas=ig.$(a);this.resize(c,g,d);this.context=this.canvas.getContext("2d");this.getDrawPos=ig.System.drawMode},resize:function(a,b,c){this.width=a;this.height=
b;this.scale=c||this.scale;this.realWidth=this.width*this.scale;this.realHeight=this.height*this.scale;this.canvas.width=this.realWidth;this.canvas.height=this.realHeight},setGame:function(a){this.running?this.newGameClass=a:this.setGameNow(a)},setGameNow:function(a){ig.game=new a;ig.system.setDelegate(ig.game)},setDelegate:function(a){if("function"==typeof a.run)this.delegate=a,this.startRunLoop();else throw"System.setDelegate: No run() function in object";},stopRunLoop:function(){ig.clearAnimation(this.animationId);
this.running=!1},startRunLoop:function(){this.stopRunLoop();this.animationId=ig.setAnimation(this.run.bind(this),this.canvas);this.running=!0},clear:function(a){this.context.fillStyle=a;this.context.fillRect(0,0,this.realWidth,this.realHeight)},run:function(){ig.Timer.step();this.tick=this.clock.tick();this.delegate.run();ig.input.clearPressed();this.newGameClass&&(this.setGameNow(this.newGameClass),this.newGameClass=null)},getDrawPos:null});ig.System.DRAW={AUTHENTIC:function(a){return Math.round(a)*
this.scale},SMOOTH:function(a){return Math.round(a*this.scale)},SUBPIXEL:function(a){return a*this.scale}};ig.System.drawMode=ig.System.DRAW.SMOOTH});ig.baked=!0;
ig.module("impact.input").defines(function(){ig.KEY={MOUSE1:-1,MOUSE2:-3,MWHEEL_UP:-4,MWHEEL_DOWN:-5,BACKSPACE:8,TAB:9,ENTER:13,PAUSE:19,CAPS:20,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,_0:48,_1:49,_2:50,_3:51,_4:52,_5:53,_6:54,_7:55,_8:56,_9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,
NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,MULTIPLY:106,ADD:107,SUBSTRACT:109,DECIMAL:110,DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,SHIFT:16,CTRL:17,ALT:18,PLUS:187,COMMA:188,MINUS:189,PERIOD:190};ig.Input=ig.Class.extend({bindings:{},actions:{},presses:{},locks:{},delayedKeyup:{},isUsingMouse:!1,isUsingKeyboard:!1,isUsingAccelerometer:!1,mouse:{x:0,y:0},accel:{x:0,y:0,z:0},initMouse:function(){if(!this.isUsingMouse){this.isUsingMouse=
!0;var a=this.mousewheel.bind(this);ig.system.canvas.addEventListener("mousewheel",a,!1);ig.system.canvas.addEventListener("DOMMouseScroll",a,!1);ig.system.canvas.addEventListener("contextmenu",this.contextmenu.bind(this),!1);ig.system.canvas.addEventListener("mousedown",this.keydown.bind(this),!1);ig.system.canvas.addEventListener("mouseup",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("mousemove",this.mousemove.bind(this),!1);ig.system.canvas.addEventListener("touchstart",this.keydown.bind(this),
!1);ig.system.canvas.addEventListener("touchend",this.keyup.bind(this),!1);ig.system.canvas.addEventListener("touchmove",this.mousemove.bind(this),!1)}},initKeyboard:function(){this.isUsingKeyboard||(this.isUsingKeyboard=!0,window.addEventListener("keydown",this.keydown.bind(this),!1),window.addEventListener("keyup",this.keyup.bind(this),!1))},initAccelerometer:function(){this.isUsingAccelerometer||window.addEventListener("devicemotion",this.devicemotion.bind(this),!1)},mousewheel:function(a){var b=
this.bindings[0<(a.wheelDelta?a.wheelDelta:-1*a.detail)?ig.KEY.MWHEEL_UP:ig.KEY.MWHEEL_DOWN];b&&(this.actions[b]=!0,this.presses[b]=!0,this.delayedKeyup[b]=!0,a.stopPropagation(),a.preventDefault())},mousemove:function(a){for(var b=ig.system.canvas,c=0,g=0;null!=b;)c+=b.offsetLeft,g+=b.offsetTop,b=b.offsetParent;var b=a.pageX,d=a.pageY;a.touches&&(b=a.touches[0].clientX,d=a.touches[0].clientY);this.mouse.x=(b-c)/ig.system.scale;this.mouse.y=(d-g)/ig.system.scale},contextmenu:function(a){this.bindings[ig.KEY.MOUSE2]&&
(a.stopPropagation(),a.preventDefault())},keydown:function(a){if("text"!=a.target.type){var b="keydown"==a.type?a.keyCode:2==a.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1;("touchstart"==a.type||"mousedown"==a.type)&&this.mousemove(a);if(b=this.bindings[b])this.actions[b]=!0,this.locks[b]||(this.presses[b]=!0,this.locks[b]=!0),a.stopPropagation(),a.preventDefault()}},keyup:function(a){if("text"!=a.target.type){var b=this.bindings["keyup"==a.type?a.keyCode:2==a.button?ig.KEY.MOUSE2:ig.KEY.MOUSE1];b&&(this.delayedKeyup[b]=
!0,a.stopPropagation(),a.preventDefault())}},devicemotion:function(a){this.accel=a.accelerationIncludingGravity},bind:function(a,b){0>a?this.initMouse():0<a&&this.initKeyboard();this.bindings[a]=b},bindTouch:function(a,b){var c=ig.$(a),g=this;c.addEventListener("touchstart",function(a){g.touchStart(a,b)},!1);c.addEventListener("touchend",function(a){g.touchEnd(a,b)},!1)},unbind:function(a){this.delayedKeyup[this.bindings[a]]=!0;this.bindings[a]=null},unbindAll:function(){this.bindings={};this.actions=
{};this.presses={};this.locks={};this.delayedKeyup={}},state:function(a){return this.actions[a]},pressed:function(a){return this.presses[a]},released:function(a){return this.delayedKeyup[a]},clearPressed:function(){for(var a in this.delayedKeyup)this.actions[a]=!1,this.locks[a]=!1;this.delayedKeyup={};this.presses={}},touchStart:function(a,b){this.actions[b]=!0;this.presses[b]=!0;a.stopPropagation();a.preventDefault();return!1},touchEnd:function(a,b){this.delayedKeyup[b]=!0;a.stopPropagation();a.preventDefault();
return!1}})});ig.baked=!0;ig.module("impact.impact").requires("dom.ready","impact.loader","impact.system","impact.input","impact.sound").defines(function(){ig.main=function(a,b,c,g,d,l,p){ig.system=new ig.System(a,c,g,d,l||1);ig.input=new ig.Input;ig.soundManager=new ig.SoundManager;ig.music=new ig.Music;ig.ready=!0;(new (p||ig.Loader)(b,ig.resources)).load()}});ig.baked=!0;
ig.module("impact.animation").requires("impact.timer","impact.image").defines(function(){ig.AnimationSheet=ig.Class.extend({width:8,height:8,image:null,init:function(a,b,c){this.width=b;this.height=c;this.image=new ig.Image(a)}});ig.Animation=ig.Class.extend({sheet:null,timer:null,sequence:[],flip:{x:!1,y:!1},pivot:{x:0,y:0},frame:0,tile:0,loopCount:0,alpha:1,angle:0,init:function(a,b,c,g){this.sheet=a;this.pivot={x:a.width/2,y:a.height/2};this.timer=new ig.Timer;this.frameTime=b;this.sequence=c;
this.stop=!!g;this.tile=this.sequence[0]},rewind:function(){this.timer.reset();this.loopCount=0;this.tile=this.sequence[0];return this},gotoFrame:function(a){this.timer.set(this.frameTime*-a);this.update()},gotoRandomFrame:function(){this.gotoFrame(Math.floor(Math.random()*this.sequence.length))},update:function(){var a=Math.floor(this.timer.delta()/this.frameTime);this.loopCount=Math.floor(a/this.sequence.length);this.frame=this.stop&&0<this.loopCount?this.sequence.length-1:a%this.sequence.length;
this.tile=this.sequence[this.frame]},draw:function(a,b){var c=Math.max(this.sheet.width,this.sheet.height);a>ig.system.width||b>ig.system.height||(0>a+c||0>b+c)||(1!=this.alpha&&(ig.system.context.globalAlpha=this.alpha),0==this.angle?this.sheet.image.drawTile(a,b,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y):(ig.system.context.save(),ig.system.context.translate(ig.system.getDrawPos(a+this.pivot.x),ig.system.getDrawPos(b+this.pivot.y)),ig.system.context.rotate(this.angle),
this.sheet.image.drawTile(-this.pivot.x,-this.pivot.y,this.tile,this.sheet.width,this.sheet.height,this.flip.x,this.flip.y),ig.system.context.restore()),1!=this.alpha&&(ig.system.context.globalAlpha=1))}})});ig.baked=!0;
ig.module("impact.entity").requires("impact.animation","impact.impact").defines(function(){ig.Entity=ig.Class.extend({id:0,settings:{},size:{x:16,y:16},offset:{x:0,y:0},posMP:{x:0,y:0},posML:{x:0,y:0},enableReposition:!1,pos:{x:0,y:0},last:{x:0,y:0},vel:{x:0,y:0},accel:{x:0,y:0},friction:{x:0,y:0},maxVel:{x:100,y:100},zIndex:0,gravityFactor:1,standing:!1,bounciness:0,minBounceVelocity:40,anims:{},animSheet:null,currentAnim:null,health:10,type:0,checkAgainst:0,collides:0,_killed:!1,slopeStanding:{min:(44).toRad(),
max:(136).toRad()},init:function(a,b,c){this.id=++ig.Entity._lastId;this.pos.x=a;this.pos.y=b;ig.merge(this,c)},addAnim:function(a,b,c,g){if(!this.animSheet)throw"No animSheet to add the animation "+a+" to.";b=new ig.Animation(this.animSheet,b,c,g);this.anims[a]=b;this.currentAnim||(this.currentAnim=b);return b},update:function(){this.last.x=this.pos.x;this.last.y=this.pos.y;this.vel.y+=ig.game.gravity*ig.system.tick*this.gravityFactor;this.vel.x=this.getNewVelocity(this.vel.x,this.accel.x,this.friction.x,
this.maxVel.x);this.vel.y=this.getNewVelocity(this.vel.y,this.accel.y,this.friction.y,this.maxVel.y);var a=ig.game.collisionMap.trace(this.pos.x,this.pos.y,this.vel.x*ig.system.tick,this.vel.y*ig.system.tick,this.size.x,this.size.y);this.handleMovementTrace(a);this.currentAnim&&this.currentAnim.update()},getNewVelocity:function(a,b,c,g){return b?(a+b*ig.system.tick).limit(-g,g):c?(b=c*ig.system.tick,0<a-b?a-b:0>a+b?a+b:0):a.limit(-g,g)},handleMovementTrace:function(a){this.standing=!1;a.collision.y&&
(0<this.bounciness&&Math.abs(this.vel.y)>this.minBounceVelocity?this.vel.y*=-this.bounciness:(0<this.vel.y&&(this.standing=!0),this.vel.y=0));a.collision.x&&(this.vel.x=0<this.bounciness&&Math.abs(this.vel.x)>this.minBounceVelocity?this.vel.x*-this.bounciness:0);if(a.collision.slope){var b=a.collision.slope;if(0<this.bounciness){var c=this.vel.x*b.nx+this.vel.y*b.ny;this.vel.x=(this.vel.x-2*b.nx*c)*this.bounciness;this.vel.y=(this.vel.y-2*b.ny*c)*this.bounciness}else c=(this.vel.x*b.x+this.vel.y*
b.y)/(b.x*b.x+b.y*b.y),this.vel.x=b.x*c,this.vel.y=b.y*c,b=Math.atan2(b.x,b.y),b>this.slopeStanding.min&&b<this.slopeStanding.max&&(this.standing=!0)}this.pos=a.pos},reposition:function(){ig.ua.mobile&&this.enableReposition&&(portraitMode?(this.pos.x=this.posMP.x,this.pos.y=this.posMP.y):(this.pos.x=this.posML.x,this.pos.y=this.posML.y))},draw:function(){this.currentAnim&&this.currentAnim.draw(this.pos.x-this.offset.x-ig.game._rscreen.x,this.pos.y-this.offset.y-ig.game._rscreen.y)},kill:function(){ig.game.removeEntity(this)},
receiveDamage:function(a){this.health-=a;0>=this.health&&this.kill()},touches:function(a){return!(this.pos.x>=a.pos.x+a.size.x||this.pos.x+this.size.x<=a.pos.x||this.pos.y>=a.pos.y+a.size.y||this.pos.y+this.size.y<=a.pos.y)},distanceTo:function(a){var b=this.pos.x+this.size.x/2-(a.pos.x+a.size.x/2);a=this.pos.y+this.size.y/2-(a.pos.y+a.size.y/2);return Math.sqrt(b*b+a*a)},angleTo:function(a){return Math.atan2(a.pos.y+a.size.y/2-(this.pos.y+this.size.y/2),a.pos.x+a.size.x/2-(this.pos.x+this.size.x/
2))},check:function(){},collideWith:function(){},ready:function(){}});ig.Entity._lastId=0;ig.Entity.COLLIDES={NEVER:0,LITE:1,PASSIVE:2,ACTIVE:4,FIXED:8};ig.Entity.TYPE={NONE:0,A:1,B:2,BOTH:3};ig.Entity.checkPair=function(a,b){a.checkAgainst&b.type&&a.check(b);b.checkAgainst&a.type&&b.check(a);a.collides&&b.collides&&a.collides+b.collides>ig.Entity.COLLIDES.ACTIVE&&ig.Entity.solveCollision(a,b)};ig.Entity.solveCollision=function(a,b){var c=null;if(a.collides==ig.Entity.COLLIDES.LITE||b.collides==ig.Entity.COLLIDES.FIXED)c=
a;else if(b.collides==ig.Entity.COLLIDES.LITE||a.collides==ig.Entity.COLLIDES.FIXED)c=b;a.last.x+a.size.x>b.last.x&&a.last.x<b.last.x+b.size.x?(a.last.y<b.last.y?ig.Entity.seperateOnYAxis(a,b,c):ig.Entity.seperateOnYAxis(b,a,c),a.collideWith(b,"y"),b.collideWith(a,"y")):a.last.y+a.size.y>b.last.y&&a.last.y<b.last.y+b.size.y&&(a.last.x<b.last.x?ig.Entity.seperateOnXAxis(a,b,c):ig.Entity.seperateOnXAxis(b,a,c),a.collideWith(b,"x"),b.collideWith(a,"x"))};ig.Entity.seperateOnXAxis=function(a,b,c){var g=
a.pos.x+a.size.x-b.pos.x;c?(c.vel.x=-c.vel.x*c.bounciness+(a===c?b:a).vel.x,b=ig.game.collisionMap.trace(c.pos.x,c.pos.y,c==a?-g:g,0,c.size.x,c.size.y),c.pos.x=b.pos.x):(c=(a.vel.x-b.vel.x)/2,a.vel.x=-c,b.vel.x=c,c=ig.game.collisionMap.trace(a.pos.x,a.pos.y,-g/2,0,a.size.x,a.size.y),a.pos.x=Math.floor(c.pos.x),a=ig.game.collisionMap.trace(b.pos.x,b.pos.y,g/2,0,b.size.x,b.size.y),b.pos.x=Math.ceil(a.pos.x))};ig.Entity.seperateOnYAxis=function(a,b,c){var g=a.pos.y+a.size.y-b.pos.y;if(c){b=a===c?b:a;
c.vel.y=-c.vel.y*c.bounciness+b.vel.y;var d=0;c==a&&Math.abs(c.vel.y-b.vel.y)<c.minBounceVelocity&&(c.standing=!0,d=b.vel.x*ig.system.tick);a=ig.game.collisionMap.trace(c.pos.x,c.pos.y,d,c==a?-g:g,c.size.x,c.size.y);c.pos.y=a.pos.y;c.pos.x=a.pos.x}else ig.game.gravity&&(b.standing||0<a.vel.y)?(c=ig.game.collisionMap.trace(a.pos.x,a.pos.y,0,-(a.pos.y+a.size.y-b.pos.y),a.size.x,a.size.y),a.pos.y=c.pos.y,0<a.bounciness&&a.vel.y>a.minBounceVelocity?a.vel.y*=-a.bounciness:(a.standing=!0,a.vel.y=0)):(c=
(a.vel.y-b.vel.y)/2,a.vel.y=-c,b.vel.y=c,d=b.vel.x*ig.system.tick,c=ig.game.collisionMap.trace(a.pos.x,a.pos.y,d,-g/2,a.size.x,a.size.y),a.pos.y=c.pos.y,a=ig.game.collisionMap.trace(b.pos.x,b.pos.y,0,g/2,b.size.x,b.size.y),b.pos.y=a.pos.y)}});ig.baked=!0;
ig.module("impact.map").defines(function(){ig.Map=ig.Class.extend({tilesize:8,width:1,height:1,data:[[]],name:null,init:function(a,b){this.tilesize=a;this.data=b;this.height=b.length;this.width=b[0].length},getTile:function(a,b){var c=Math.floor(a/this.tilesize),g=Math.floor(b/this.tilesize);return 0<=c&&c<this.width&&0<=g&&g<this.height?this.data[g][c]:0},setTile:function(a,b,c){a=Math.floor(a/this.tilesize);b=Math.floor(b/this.tilesize);0<=a&&a<this.width&&0<=b&&b<this.height&&(this.data[b][a]=
c)}})});ig.baked=!0;
ig.module("impact.collision-map").requires("impact.map").defines(function(){ig.CollisionMap=ig.Map.extend({lastSlope:1,tiledef:null,init:function(a,b,d){this.parent(a,b);this.tiledef=d||ig.CollisionMap.defaultTileDef;for(var l in this.tiledef)l|0>this.lastSlope&&(this.lastSlope=l|0)},trace:function(a,b,d,l,p,q){var m={collision:{x:!1,y:!1,slope:!1},pos:{x:a,y:b},tile:{x:0,y:0}},s=Math.ceil(Math.max(Math.abs(d),Math.abs(l))/this.tilesize);if(1<s)for(var u=d/s,t=l/s,r=0;r<s&&(u||t)&&!(this._traceStep(m,
a,b,u,t,p,q,d,l,r),a=m.pos.x,b=m.pos.y,m.collision.x&&(d=u=0),m.collision.y&&(l=t=0),m.collision.slope);r++);else this._traceStep(m,a,b,d,l,p,q,d,l,0);return m},_traceStep:function(a,b,d,l,p,q,m,s,u,t){a.pos.x+=l;a.pos.y+=p;var r=0;if(l){var z=0<l?q:0,L=0>l?this.tilesize:0,r=Math.max(Math.floor(d/this.tilesize),0),I=Math.min(Math.ceil((d+m)/this.tilesize),this.height);l=Math.floor((a.pos.x+z)/this.tilesize);var F=Math.floor((b+z)/this.tilesize);if(0<t||l==F||0>F||F>=this.width)F=-1;if(0<=l&&l<this.width)for(var B=
r;B<I&&!(-1!=F&&(r=this.data[B][F],1<r&&r<=this.lastSlope&&this._checkTileDef(a,r,b,d,s,u,q,m,F,B)));B++)if(r=this.data[B][l],1==r||r>this.lastSlope||1<r&&this._checkTileDef(a,r,b,d,s,u,q,m,l,B)){if(1<r&&r<=this.lastSlope&&a.collision.slope)break;a.collision.x=!0;a.tile.x=r;b=a.pos.x=l*this.tilesize-z+L;s=0;break}}if(p){z=0<p?m:0;p=0>p?this.tilesize:0;r=Math.max(Math.floor(a.pos.x/this.tilesize),0);L=Math.min(Math.ceil((a.pos.x+q)/this.tilesize),this.width);B=Math.floor((a.pos.y+z)/this.tilesize);
I=Math.floor((d+z)/this.tilesize);if(0<t||B==I||0>I||I>=this.height)I=-1;if(0<=B&&B<this.height)for(l=r;l<L&&!(-1!=I&&(r=this.data[I][l],1<r&&r<=this.lastSlope&&this._checkTileDef(a,r,b,d,s,u,q,m,l,I)));l++)if(r=this.data[B][l],1==r||r>this.lastSlope||1<r&&this._checkTileDef(a,r,b,d,s,u,q,m,l,B)){if(1<r&&r<=this.lastSlope&&a.collision.slope)break;a.collision.y=!0;a.tile.y=r;a.pos.y=B*this.tilesize-z+p;break}}},_checkTileDef:function(a,b,d,l,p,q,m,s,u,t){var r=this.tiledef[b];if(!r)return!1;b=(r[2]-
r[0])*this.tilesize;var z=(r[3]-r[1])*this.tilesize,L=r[4];m=d+p+(0>z?m:0)-(u+r[0])*this.tilesize;s=l+q+(0<b?s:0)-(t+r[1])*this.tilesize;if(0<b*s-z*m){if(0>p*-z+q*b)return L;u=Math.sqrt(b*b+z*z);t=z/u;u=-b/u;var I=m*t+s*u,r=t*I,I=u*I;if(r*r+I*I>=p*p+q*q)return L||0.5>b*(s-q)-z*(m-p);a.pos.x=d+p-r;a.pos.y=l+q-I;a.collision.slope={x:b,y:z,nx:t,ny:u};return!0}return!1}});var a=1/3,b=2/3;ig.CollisionMap.defaultTileDef={5:[0,1,1,b,!0],6:[0,b,1,a,!0],7:[0,a,1,0,!0],3:[0,1,1,0.5,!0],4:[0,0.5,1,0,!0],2:[0,
1,1,0,!0],10:[0.5,1,1,0,!0],21:[0,1,0.5,0,!0],32:[b,1,1,0,!0],43:[a,1,b,0,!0],54:[0,1,a,0,!0],27:[0,0,1,a,!0],28:[0,a,1,b,!0],29:[0,b,1,1,!0],25:[0,0,1,0.5,!0],26:[0,0.5,1,1,!0],24:[0,0,1,1,!0],11:[0,0,0.5,1,!0],22:[0.5,0,1,1,!0],33:[0,0,a,1,!0],44:[a,0,b,1,!0],55:[b,0,1,1,!0],16:[1,a,0,0,!0],17:[1,b,0,a,!0],18:[1,1,0,b,!0],14:[1,0.5,0,0,!0],15:[1,1,0,0.5,!0],13:[1,1,0,0,!0],8:[0.5,1,0,0,!0],19:[1,1,0.5,0,!0],30:[a,1,0,0,!0],41:[b,1,a,0,!0],52:[1,1,b,0,!0],38:[1,b,0,1,!0],39:[1,a,0,b,!0],40:[1,0,
0,a,!0],36:[1,0.5,0,1,!0],37:[1,0,0,0.5,!0],35:[1,0,0,1,!0],9:[1,0,0.5,1,!0],20:[0.5,0,0,1,!0],31:[1,0,b,1,!0],42:[b,0,a,1,!0],53:[a,0,0,1,!0],12:[0,0,1,0,!1],23:[1,1,0,1,!1],34:[1,0,1,1,!1],45:[0,1,0,0,!1]};ig.CollisionMap.staticNoCollision={trace:function(a,b,d,l){return{collision:{x:!1,y:!1,slope:!1},pos:{x:a+d,y:b+l},tile:{x:0,y:0}}}}});ig.baked=!0;
ig.module("impact.background-map").requires("impact.map","impact.image").defines(function(){ig.BackgroundMap=ig.Map.extend({tiles:null,scroll:{x:0,y:0},distance:1,repeat:!1,tilesetName:"",foreground:!1,enabled:!0,preRender:!1,preRenderedChunks:null,chunkSize:512,debugChunks:!1,anims:{},init:function(a,b,c){this.parent(a,b);this.setTileset(c)},setTileset:function(a){this.tilesetName=a instanceof ig.Image?a.path:a;this.tiles=new ig.Image(this.tilesetName);this.preRenderedChunks=null},setScreenPos:function(a,
b){this.scroll.x=a/this.distance;this.scroll.y=b/this.distance},preRenderMapToChunks:function(){var a=this.width*this.tilesize*ig.system.scale,b=this.height*this.tilesize*ig.system.scale,c=Math.ceil(a/this.chunkSize),g=Math.ceil(b/this.chunkSize);this.preRenderedChunks=[];for(var d=0;d<g;d++){this.preRenderedChunks[d]=[];for(var l=0;l<c;l++)this.preRenderedChunks[d][l]=this.preRenderChunk(l,d,l==c-1?a-l*this.chunkSize:this.chunkSize,d==g-1?b-d*this.chunkSize:this.chunkSize)}},preRenderChunk:function(a,
b,c,g){var d=c/this.tilesize/ig.system.scale+1,l=g/this.tilesize/ig.system.scale+1,p=a*this.chunkSize/ig.system.scale%this.tilesize,q=b*this.chunkSize/ig.system.scale%this.tilesize;a=Math.floor(a*this.chunkSize/this.tilesize/ig.system.scale);b=Math.floor(b*this.chunkSize/this.tilesize/ig.system.scale);var m=ig.$new("canvas");m.width=c;m.height=g;c=ig.system.context;ig.system.context=m.getContext("2d");for(g=0;g<d;g++)for(var s=0;s<l;s++)if(g+a<this.width&&s+b<this.height){var u=this.data[s+b][g+a];
u&&this.tiles.drawTile(g*this.tilesize-p,s*this.tilesize-q,u-1,this.tilesize)}ig.system.context=c;return m},draw:function(){this.tiles.loaded&&this.enabled&&(this.preRender?this.drawPreRendered():this.drawTiled())},drawPreRendered:function(){this.preRenderedChunks||this.preRenderMapToChunks();var a=ig.system.getDrawPos(this.scroll.x),b=ig.system.getDrawPos(this.scroll.y);this.repeat&&(a%=this.width*this.tilesize*ig.system.scale,b%=this.height*this.tilesize*ig.system.scale);var c=Math.max(Math.floor(a/
this.chunkSize),0),g=Math.max(Math.floor(b/this.chunkSize),0),d=Math.ceil((a+ig.system.realWidth)/this.chunkSize),l=Math.ceil((b+ig.system.realHeight)/this.chunkSize),p=this.preRenderedChunks[0].length,q=this.preRenderedChunks.length;this.repeat||(d=Math.min(d,p),l=Math.min(l,q));for(var m=0;g<l;g++){for(var s=0,u=c;u<d;u++){var t=this.preRenderedChunks[g%q][u%p],r=-a+u*this.chunkSize-s,z=-b+g*this.chunkSize-m;ig.system.context.drawImage(t,r,z);ig.Image.drawCount++;this.debugChunks&&(ig.system.context.strokeStyle=
"#f0f",ig.system.context.strokeRect(r,z,this.chunkSize,this.chunkSize));this.repeat&&t.width<this.chunkSize&&r+t.width<ig.system.realWidth&&(s=this.chunkSize-t.width,d++)}this.repeat&&t.height<this.chunkSize&&z+t.height<ig.system.realHeight&&(m=this.chunkSize-t.height,l++)}},drawTiled:function(){for(var a=0,b=null,c=(this.scroll.x/this.tilesize).toInt(),g=(this.scroll.y/this.tilesize).toInt(),d=this.scroll.x%this.tilesize,l=this.scroll.y%this.tilesize,p=-d-this.tilesize,d=ig.system.width+this.tilesize-
d,q=ig.system.height+this.tilesize-l,m=-1,l=-l-this.tilesize;l<q;m++,l+=this.tilesize){var s=m+g;if(s>=this.height||0>s){if(!this.repeat)continue;s=0<s?s%this.height:(s+1)%this.height+this.height-1}for(var u=-1,t=p;t<d;u++,t+=this.tilesize){a=u+c;if(a>=this.width||0>a){if(!this.repeat)continue;a=0<a?a%this.width:(a+1)%this.width+this.width-1}if(a=this.data[s][a])(b=this.anims[a-1])?b.draw(t,l):this.tiles.drawTile(t,l,a-1,this.tilesize)}}}})});ig.baked=!0;
ig.module("impact.game").requires("impact.impact","impact.entity","impact.collision-map","impact.background-map").defines(function(){ig.Game=ig.Class.extend({clearColor:"#000000",gravity:0,screen:{x:0,y:0},_rscreen:{x:0,y:0},entities:[],namedEntities:{},collisionMap:ig.CollisionMap.staticNoCollision,backgroundMaps:[],backgroundAnims:{},autoSort:!1,sortBy:null,cellSize:64,_deferredKill:[],_levelToLoad:null,_doSortEntities:!1,staticInstantiate:function(){this.sortBy=this.sortBy||ig.Game.SORT.Z_INDEX;
ig.game=this;return null},loadLevelWithoutEntities:function(a){this.screen={x:0,y:0};this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(var b=0;b<a.layer.length;b++){var c=a.layer[b];if("collision"==c.name)this.collisionMap=new ig.CollisionMap(c.tilesize,c.data);else{var g=new ig.BackgroundMap(c.tilesize,c.data,c.tilesetName);g.anims=this.backgroundAnims[c.tilesetName]||{};g.repeat=c.repeat;g.distance=c.distance;g.foreground=!!c.foreground;g.preRender=!!c.preRender;g.name=
c.name;this.backgroundMaps.push(g)}}},loadLevel:function(a){this.screen={x:0,y:0};this.entities=[];this.namedEntities={};for(var b=0;b<a.entities.length;b++){var c=a.entities[b];this.spawnEntity(c.type,c.x,c.y,c.settings)}this.sortEntities();this.collisionMap=ig.CollisionMap.staticNoCollision;this.backgroundMaps=[];for(b=0;b<a.layer.length;b++)if(c=a.layer[b],"collision"==c.name)this.collisionMap=new ig.CollisionMap(c.tilesize,c.data);else{var g=new ig.BackgroundMap(c.tilesize,c.data,c.tilesetName);
g.anims=this.backgroundAnims[c.tilesetName]||{};g.repeat=c.repeat;g.distance=c.distance;g.foreground=!!c.foreground;g.preRender=!!c.preRender;g.name=c.name;this.backgroundMaps.push(g)}for(b=0;b<this.entities.length;b++)this.entities[b].ready()},loadLevelDeferred:function(a){this._levelToLoad=a},getMapByName:function(a){if("collision"==a)return this.collisionMap;for(var b=0;b<this.backgroundMaps.length;b++)if(this.backgroundMaps[b].name==a)return this.backgroundMaps[b];return null},getEntityByName:function(a){return this.namedEntities[a]},
getEntitiesByType:function(a){a="string"===typeof a?ig.global[a]:a;for(var b=[],c=0;c<this.entities.length;c++){var g=this.entities[c];g instanceof a&&!g._killed&&b.push(g)}return b},spawnEntity:function(a,b,c,g){var d="string"===typeof a?ig.global[a]:a;if(!d)throw"Can't spawn entity of type "+a;a=new d(b,c,g||{});this.entities.push(a);a.name&&(this.namedEntities[a.name]=a);return a},sortEntities:function(){this.entities.sort(this.sortBy)},sortEntitiesDeferred:function(){this._doSortEntities=!0},
removeEntity:function(a){a.name&&delete this.namedEntities[a.name];a._killed=!0;a.type=ig.Entity.TYPE.NONE;a.checkAgainst=ig.Entity.TYPE.NONE;a.collides=ig.Entity.COLLIDES.NEVER;this._deferredKill.push(a)},run:function(){this.update();this.draw()},update:function(){this._levelToLoad&&(this.loadLevel(this._levelToLoad),this._levelToLoad=null);if(this._doSortEntities||this.autoSort)this.sortEntities(),this._doSortEntities=!1;this.updateEntities();this.checkEntities();for(var a=0;a<this._deferredKill.length;a++)this.entities.erase(this._deferredKill[a]);
this._deferredKill=[];for(var b in this.backgroundAnims){var a=this.backgroundAnims[b],c;for(c in a)a[c].update()}},updateEntities:function(){for(var a=0;a<this.entities.length;a++){var b=this.entities[a];b._killed||b.update()}},draw:function(){this.clearColor&&ig.system.clear(this.clearColor);this._rscreen.x=ig.system.getDrawPos(this.screen.x)/ig.system.scale;this._rscreen.y=ig.system.getDrawPos(this.screen.y)/ig.system.scale;var a;for(a=0;a<this.backgroundMaps.length;a++){var b=this.backgroundMaps[a];
if(b.foreground)break;b.setScreenPos(this.screen.x,this.screen.y);b.draw()}this.drawEntities();for(a;a<this.backgroundMaps.length;a++)b=this.backgroundMaps[a],b.setScreenPos(this.screen.x,this.screen.y),b.draw()},drawEntities:function(){for(var a=0;a<this.entities.length;a++)this.entities[a].draw()},checkEntities:function(){for(var a={},b=0;b<this.entities.length;b++){var c=this.entities[b];if(!(c.type==ig.Entity.TYPE.NONE&&c.checkAgainst==ig.Entity.TYPE.NONE&&c.collides==ig.Entity.COLLIDES.NEVER))for(var g=
{},d=Math.floor(c.pos.y/this.cellSize),l=Math.floor((c.pos.x+c.size.x)/this.cellSize)+1,p=Math.floor((c.pos.y+c.size.y)/this.cellSize)+1,q=Math.floor(c.pos.x/this.cellSize);q<l;q++)for(var m=d;m<p;m++)if(a[q])if(a[q][m]){for(var s=a[q][m],u=0;u<s.length;u++)c.touches(s[u])&&!g[s[u].id]&&(g[s[u].id]=!0,ig.Entity.checkPair(c,s[u]));s.push(c)}else a[q][m]=[c];else a[q]={},a[q][m]=[c]}}});ig.Game.SORT={Z_INDEX:function(a,b){return a.zIndex-b.zIndex},POS_X:function(a,b){return a.pos.x+a.size.x-(b.pos.x+
b.size.x)},POS_Y:function(a,b){return a.pos.y+a.size.y-(b.pos.y+b.size.y)}}});ig.baked=!0;
ig.module("impact.debug.menu").requires("dom.ready","impact.system").defines(function(){ig.System.inject({run:function(){ig.debug.beforeRun();this.parent();ig.debug.afterRun()},setGameNow:function(a){this.parent(a);ig.debug.ready()}});ig.Debug=ig.Class.extend({options:{},panels:{},numbers:{},container:null,panelMenu:null,activePanel:null,debugTime:0,debugTickAvg:0.016,debugRealTime:Date.now(),init:function(){this.container=ig.$new("div");this.container.className="ig_debug";ig.$("body")[0].appendChild(this.container);
this.panelMenu=ig.$new("div");this.panelMenu.innerHTML='<div class="ig_debug_head">Impact.Debug:</div>';this.panelMenu.className="ig_debug_panel_menu";this.container.appendChild(this.panelMenu);this.numberContainer=ig.$new("div");this.numberContainer.className="ig_debug_stats";this.panelMenu.appendChild(this.numberContainer);window.console&&window.console.log&&window.console.assert&&(ig.log=console.log.bind?console.log.bind(console):console.log,ig.assert=console.assert.bind?console.assert.bind(console):
console.assert);ig.show=this.showNumber.bind(this)},addNumber:function(a){var b=ig.$new("span");this.numberContainer.appendChild(b);this.numberContainer.appendChild(document.createTextNode(a));this.numbers[a]=b},showNumber:function(a,b,c){this.numbers[a]||this.addNumber(a,c);this.numbers[a].textContent=b},addPanel:function(a){var b=new a.type(a.name,a.label);if(a.options)for(var c=0;c<a.options.length;c++){var g=a.options[c];b.addOption(new ig.DebugOption(g.name,g.object,g.property))}this.panels[b.name]=
b;b.container.style.display="none";this.container.appendChild(b.container);a=ig.$new("div");a.className="ig_debug_menu_item";a.textContent=b.label;a.addEventListener("click",function(){this.togglePanel(b)}.bind(this),!1);b.menuItem=a;g=!1;for(c=1;c<this.panelMenu.childNodes.length;c++){var d=this.panelMenu.childNodes[c];if(d.textContent>b.label){this.panelMenu.insertBefore(a,d);g=!0;break}}g||this.panelMenu.appendChild(a)},showPanel:function(a){this.togglePanel(this.panels[a])},togglePanel:function(a){a!=
this.activePanel&&this.activePanel&&(this.activePanel.toggle(!1),this.activePanel.menuItem.className="ig_debug_menu_item",this.activePanel=null);var b="block"!=a.container.style.display;a.toggle(b);a.menuItem.className="ig_debug_menu_item"+(b?" active":"");b&&(this.activePanel=a)},ready:function(){for(var a in this.panels)this.panels[a].ready()},beforeRun:function(){var a=Date.now();this.debugTickAvg=0.8*this.debugTickAvg+0.2*(a-this.debugRealTime);this.debugRealTime=a;this.activePanel&&this.activePanel.beforeRun()},
afterRun:function(){var a=Date.now()-this.debugRealTime;this.debugTime=0.8*this.debugTime+0.2*a;this.activePanel&&this.activePanel.afterRun();this.showNumber("ms",this.debugTime.toFixed(2));this.showNumber("fps",Math.round(1E3/this.debugTickAvg));this.showNumber("draws",ig.Image.drawCount);ig.game&&ig.game.entities&&this.showNumber("entities",ig.game.entities.length);ig.Image.drawCount=0}});ig.DebugPanel=ig.Class.extend({active:!1,container:null,options:[],panels:[],label:"",name:"",init:function(a,
b){this.name=a;this.label=b;this.container=ig.$new("div");this.container.className="ig_debug_panel "+this.name},toggle:function(a){this.active=a;this.container.style.display=a?"block":"none"},addPanel:function(a){this.panels.push(a);this.container.appendChild(a.container)},addOption:function(a){this.options.push(a);this.container.appendChild(a.container)},ready:function(){},beforeRun:function(){},afterRun:function(){}});ig.DebugOption=ig.Class.extend({name:"",labelName:"",className:"ig_debug_option",
label:null,mark:null,container:null,active:!1,colors:{enabled:"#fff",disabled:"#444"},init:function(a,b,c){this.name=a;this.object=b;this.property=c;this.active=this.object[this.property];this.container=ig.$new("div");this.container.className="ig_debug_option";this.label=ig.$new("span");this.label.className="ig_debug_label";this.label.textContent=this.name;this.mark=ig.$new("span");this.mark.className="ig_debug_label_mark";this.container.appendChild(this.mark);this.container.appendChild(this.label);
this.container.addEventListener("click",this.click.bind(this),!1);this.setLabel()},setLabel:function(){this.mark.style.backgroundColor=this.active?this.colors.enabled:this.colors.disabled},click:function(a){this.active=!this.active;this.object[this.property]=this.active;this.setLabel();a.stopPropagation();a.preventDefault();return!1}});ig.debug=new ig.Debug});ig.baked=!0;
ig.module("impact.debug.entities-panel").requires("impact.debug.menu","impact.entity").defines(function(){ig.Entity.inject({colors:{names:"#fff",velocities:"#0f0",boxes:"#f00"},draw:function(){this.parent();ig.Entity._debugShowBoxes&&(ig.system.context.strokeStyle=this.colors.boxes,ig.system.context.lineWidth=1,ig.system.context.strokeRect(ig.system.getDrawPos(this.pos.x.round()-ig.game.screen.x)-0.5,ig.system.getDrawPos(this.pos.y.round()-ig.game.screen.y)-0.5,this.size.x*ig.system.scale,this.size.y*
ig.system.scale));if(ig.Entity._debugShowVelocities){var a=this.pos.x+this.size.x/2,b=this.pos.y+this.size.y/2;this._debugDrawLine(this.colors.velocities,a,b,a+this.vel.x,b+this.vel.y)}if(ig.Entity._debugShowNames&&(this.name&&(ig.system.context.fillStyle=this.colors.names,ig.system.context.fillText(this.name,ig.system.getDrawPos(this.pos.x-ig.game.screen.x),ig.system.getDrawPos(this.pos.y-ig.game.screen.y))),"object"==typeof this.target))for(var c in this.target)(a=ig.game.getEntityByName(this.target[c]))&&
this._debugDrawLine(this.colors.names,this.pos.x+this.size.x/2,this.pos.y+this.size.y/2,a.pos.x+a.size.x/2,a.pos.y+a.size.y/2)},_debugDrawLine:function(a,b,c,g,d){ig.system.context.strokeStyle=a;ig.system.context.lineWidth=1;ig.system.context.beginPath();ig.system.context.moveTo(ig.system.getDrawPos(b-ig.game.screen.x),ig.system.getDrawPos(c-ig.game.screen.y));ig.system.context.lineTo(ig.system.getDrawPos(g-ig.game.screen.x),ig.system.getDrawPos(d-ig.game.screen.y));ig.system.context.stroke();ig.system.context.closePath()}});
ig.Entity._debugEnableChecks=!0;ig.Entity._debugShowBoxes=!1;ig.Entity._debugShowVelocities=!1;ig.Entity._debugShowNames=!1;ig.Entity.oldCheckPair=ig.Entity.checkPair;ig.Entity.checkPair=function(a,b){ig.Entity._debugEnableChecks&&ig.Entity.oldCheckPair(a,b)};ig.debug.addPanel({type:ig.DebugPanel,name:"entities",label:"Entities",options:[{name:"Checks & Collisions",object:ig.Entity,property:"_debugEnableChecks"},{name:"Show Collision Boxes",object:ig.Entity,property:"_debugShowBoxes"},{name:"Show Velocities",
object:ig.Entity,property:"_debugShowVelocities"},{name:"Show Names & Targets",object:ig.Entity,property:"_debugShowNames"}]})});ig.baked=!0;
ig.module("impact.debug.maps-panel").requires("impact.debug.menu","impact.game","impact.background-map").defines(function(){ig.Game.inject({loadLevel:function(a){this.parent(a);ig.debug.panels.maps.load(this)}});ig.DebugMapsPanel=ig.DebugPanel.extend({maps:[],mapScreens:[],init:function(a,b){this.parent(a,b);this.load()},load:function(a){this.options=[];this.panels=[];if(!a||!a.backgroundMaps.length)this.container.innerHTML="<em>No Maps Loaded</em>";else{this.maps=a.backgroundMaps;this.mapScreens=
[];this.container.innerHTML="";for(a=0;a<this.maps.length;a++){var b=this.maps[a],c=new ig.DebugPanel(a,"Layer "+a),g=new ig.$new("strong");g.textContent=a+": "+b.tiles.path;c.container.appendChild(g);c.addOption(new ig.DebugOption("Enabled",b,"enabled"));c.addOption(new ig.DebugOption("Pre Rendered",b,"preRender"));c.addOption(new ig.DebugOption("Show Chunks",b,"debugChunks"));this.generateMiniMap(c,b,a);this.addPanel(c)}}},generateMiniMap:function(a,b,c){var g=ig.system.scale,d=ig.$new("canvas"),
l=d.getContext("2d"),p=b.tiles.width*g,q=b.tiles.height*g,m=p/b.tilesize;l.drawImage(b.tiles.data,0,0,p,q,0,0,m,q/b.tilesize);l=ig.$new("canvas");l.width=b.width*g;l.height=b.height*g;var s=l.getContext("2d");ig.game.clearColor&&(s.fillStyle=ig.game.clearColor,s.fillRect(0,0,p,q));for(q=p=0;q<b.width;q++)for(var u=0;u<b.height;u++)(p=b.data[u][q])&&s.drawImage(d,Math.floor((p-1)*g%m),Math.floor((p-1)*g/m)*g,g,g,q*g,u*g,g,g);d=ig.$new("div");d.className="ig_debug_map_container";d.style.width=b.width*
g+"px";d.style.height=b.height*g+"px";m=ig.$new("div");m.className="ig_debug_map_screen";m.style.width=ig.system.width/b.tilesize*g-2+"px";m.style.height=ig.system.height/b.tilesize*g-2+"px";this.mapScreens[c]=m;d.appendChild(l);d.appendChild(m);a.container.appendChild(d)},afterRun:function(){for(var a=ig.system.scale,b=0;b<this.maps.length;b++){var c=this.maps[b],g=this.mapScreens[b];if(c&&g){var d=c.scroll.x/c.tilesize,l=c.scroll.y/c.tilesize;c.repeat&&(d%=c.width,l%=c.height);g.style.left=d*a+
"px";g.style.top=l*a+"px"}}}});ig.debug.addPanel({type:ig.DebugMapsPanel,name:"maps",label:"Background Maps"})});ig.baked=!0;
ig.module("impact.debug.graph-panel").requires("impact.debug.menu","impact.system","impact.game","impact.image").defines(function(){ig.Game.inject({draw:function(){ig.graph.beginClock("draw");this.parent();ig.graph.endClock("draw")},update:function(){ig.graph.beginClock("update");this.parent();ig.graph.endClock("update")},checkEntities:function(){ig.graph.beginClock("checks");this.parent();ig.graph.endClock("checks")}});ig.DebugGraphPanel=ig.DebugPanel.extend({clocks:{},marks:[],textY:0,height:128,
ms:64,timeBeforeRun:0,init:function(a,b){this.parent(a,b);this.mark16ms=(this.height-16*(this.height/this.ms)).round();this.mark33ms=(this.height-33*(this.height/this.ms)).round();this.msHeight=this.height/this.ms;this.graph=ig.$new("canvas");this.graph.width=window.innerWidth;this.graph.height=this.height;this.container.appendChild(this.graph);this.ctx=this.graph.getContext("2d");this.ctx.fillStyle="#444";this.ctx.fillRect(0,this.mark16ms,this.graph.width,1);this.ctx.fillRect(0,this.mark33ms,this.graph.width,
1);this.addGraphMark("16ms",this.mark16ms);this.addGraphMark("33ms",this.mark33ms);this.addClock("draw","Draw","#13baff");this.addClock("update","Entity Update","#bb0fff");this.addClock("checks","Entity Checks & Collisions","#a2e908");this.addClock("lag","System Lag","#f26900");ig.mark=this.mark.bind(this);ig.graph=this},addGraphMark:function(a,b){var c=ig.$new("span");c.className="ig_debug_graph_mark";c.textContent=a;c.style.top=b.round()+"px";this.container.appendChild(c)},addClock:function(a,b,
c){var g=ig.$new("span");g.className="ig_debug_legend_color";g.style.backgroundColor=c;var d=ig.$new("span");d.className="ig_debug_legend_number";d.appendChild(document.createTextNode("0"));var l=ig.$new("span");l.className="ig_debug_legend";l.appendChild(g);l.appendChild(document.createTextNode(b+" ("));l.appendChild(d);l.appendChild(document.createTextNode("ms)"));this.container.appendChild(l);this.clocks[a]={description:b,color:c,current:0,start:Date.now(),avg:0,html:d}},beginClock:function(a,
b){this.clocks[a].start=Date.now()+(b||0)},endClock:function(a){a=this.clocks[a];a.current=Math.round(Date.now()-a.start);a.avg=0.8*a.avg+0.2*a.current},mark:function(a,b){this.active&&this.marks.push({msg:a,color:b||"#fff"})},beforeRun:function(){this.endClock("lag");this.timeBeforeRun=Date.now()},afterRun:function(){var a=Date.now()-this.timeBeforeRun;this.beginClock("lag",Math.max(1E3/ig.system.fps-a,0));var a=this.graph.width-1,b=this.height;this.ctx.drawImage(this.graph,-1,0);this.ctx.fillStyle=
"#000";this.ctx.fillRect(a,0,1,this.height);this.ctx.fillStyle="#444";this.ctx.fillRect(a,this.mark16ms,1,1);this.ctx.fillStyle="#444";this.ctx.fillRect(a,this.mark33ms,1,1);for(var c in this.clocks){var g=this.clocks[c];g.html.textContent=g.avg.toFixed(2);if(g.color&&0<g.current){this.ctx.fillStyle=g.color;var d=g.current*this.msHeight,b=b-d;this.ctx.fillRect(a,b,1,d);g.current=0}}this.ctx.textAlign="right";this.ctx.textBaseline="top";this.ctx.globalAlpha=0.5;for(c=0;c<this.marks.length;c++)b=this.marks[c],
this.ctx.fillStyle=b.color,this.ctx.fillRect(a,0,1,this.height),b.msg&&(this.ctx.fillText(b.msg,a-1,this.textY),this.textY=(this.textY+8)%32);this.ctx.globalAlpha=1;this.marks=[]}});ig.debug.addPanel({type:ig.DebugGraphPanel,name:"graph",label:"Performance"})});ig.baked=!0;ig.module("impact.debug.debug").requires("impact.debug.entities-panel","impact.debug.maps-panel","impact.debug.graph-panel").defines(function(){});ig.baked=!0;
ig.module("plugins.splash-loader").requires("impact.loader","impact.animation").defines(function(){ig.SplashLoader=ig.Loader.extend({splashDesktop:new ig.Image("media/graphics/splash/desktop/cover.jpg"),splashMobile:new ig.Image("media/graphics/splash/mobile/cover.jpg"),init:function(a,b){this.parent(a,b);ig.ua.mobile&&_SETTINGS.Ad.Mobile.Preroll.Enabled&&MobileAdInGamePreroll.Initialize()},end:function(){this.parent();var a=0<=document.URL.indexOf("localhost")?500:3E3;window.setTimeout("ig.system.setGame(MyGame)",
a)},setupCustomAnimation:function(){this.customAnim=new ig.Animation(this.customAnim,0.05,[0,1,2,3,4,5]);this.customAnim.currentFrame=0;ig.loadingScreen=this;ig.loadingScreen.animationTimer=window.setInterval("ig.loadingScreen.animate()",100)},animate:function(){this.customAnim.currentFrame<this.customAnim.sequence.length?this.customAnim.currentFrame++:this.customAnim.currentFrame=0;this.customAnim.gotoFrame(this.customAnim.currentFrame)},draw:function(){this._drawStatus+=(this.status-this._drawStatus)/
5;ig.system.context.fillStyle="#000";ig.system.context.fillRect(0,0,ig.system.width,ig.system.height);var a=ig.system.scale,b,c,g,d;ig.ua.mobile?(b=180,c=24,g=0.5*ig.system.width-b/2,d=320,this.splashMobile.draw(0,0)):(b=250,c=30,g=0.5*ig.system.width-b/2,d=280,this.splashDesktop.draw(0,0));ig.system.context.fillStyle="#fff";ig.system.context.fillRect(g*a,d*a,b*a,c*a);ig.system.context.fillStyle="#000";ig.system.context.fillRect(g*a+a,d*a+a,b*a-a-a,c*a-a-a);ig.system.context.fillStyle="#A00A2D";ig.system.context.fillRect(g*
a,d*a,b*a*this._drawStatus,c*a);ig.system.context.fillStyle="#ffffff";ig.system.context.font="16px Arial";b=_STRINGS.Splash.Loading;c=ig.system.width/2-ig.system.context.measureText(b).width/2;ig.system.context.fillText(b,c,d*a+18);ig.system.context.font="bold 14px Arial";ig.system.context.fillStyle="#000000";b=_STRINGS.Splash.LogoLine1;ig.ua.mobile?(c=ig.system.width/2-ig.system.context.measureText(b).width/2,a=380):(c=ig.system.width/2-ig.system.context.measureText(b).width/2,a=325);ig.system.context.font=
"bold 12px Arial";ig.system.context.fillText(b,c,a);b=_STRINGS.Splash.LogoLine2;ig.ua.mobile?(c=ig.system.width/2-ig.system.context.measureText(b).width/2,a=395):(c=ig.system.width/2-ig.system.context.measureText(b).width/2,a=340);ig.system.context.font="bold 12px Arial";ig.system.context.fillText(b,c,a)}})});ig.baked=!0;
ig.module("plugins.tween").requires("impact.entity").defines(function(){Array.prototype.indexOf||(Array.prototype.indexOf=function(a){for(var b=0;b<this.length;++b)if(this[b]===a)return b;return-1});ig.Entity.prototype.tweens=[];ig.Entity.prototype._preTweenUpdate=ig.Entity.prototype.update;ig.Entity.prototype.update=function(){this._preTweenUpdate();if(0<this.tweens.length){for(var a=[],b=0;b<this.tweens.length;b++)this.tweens[b].update(),this.tweens[b].complete||a.push(this.tweens[b]);this.tweens=
a}};ig.Entity.prototype.tween=function(a,b,c){a=new ig.Tween(this,a,b,c);this.tweens.push(a);return a};ig.Entity.prototype.pauseTweens=function(){for(var a=0;a<this.tweens.length;a++)this.tweens[a].pause()};ig.Entity.prototype.resumeTweens=function(){for(var a=0;a<this.tweens.length;a++)this.tweens[a].resume()};ig.Entity.prototype.stopTweens=function(a){for(var b=0;b<this.tweens.length;b++)this.tweens[b].stop(a)};ig.Tween=function(a,b,c,g){var d={},l={},p={},q=0,m=!1,s=!1,u=!1;this.duration=c;this.paused=
this.complete=!1;this.easing=ig.Tween.Easing.Linear.EaseNone;this.onComplete=!1;this.loop=this.delay=0;this.loopCount=-1;ig.merge(this,g);this.loopNum=this.loopCount;this.chain=function(a){u=a};this.initEnd=function(a,b,c){if("object"!==typeof b[a])c[a]=b[a];else for(subprop in b[a])c[a]||(c[a]={}),this.initEnd(subprop,b[a],c[a])};this.initStart=function(a,b,c,d){if("object"!==typeof c[a])"undefined"!==typeof b[a]&&(d[a]=c[a]);else for(subprop in c[a])d[a]||(d[a]={}),"undefined"!==typeof b[a]&&this.initStart(subprop,
b[a],c[a],d[a])};this.start=function(){this.paused=this.complete=!1;this.loopNum=this.loopCount;q=0;-1==a.tweens.indexOf(this)&&a.tweens.push(this);s=!0;m=new ig.Timer;for(var c in b)this.initEnd(c,b,l);for(c in l)this.initStart(c,l,a,d),this.initDelta(c,p,a,l)};this.initDelta=function(a,b,c,d){if("object"!==typeof d[a])b[a]=d[a]-c[a];else for(subprop in d[a])b[a]||(b[a]={}),this.initDelta(subprop,b[a],c[a],d[a])};this.propUpdate=function(a,b,c,d,g){if("object"!==typeof c[a])b[a]="undefined"!=typeof c[a]?
c[a]+d[a]*g:b[a];else for(subprop in c[a])this.propUpdate(subprop,b[a],c[a],d[a],g)};this.propSet=function(a,b,c){if("object"!==typeof b[a])c[a]=b[a];else for(subprop in b[a])c[a]||(c[a]={}),this.propSet(subprop,b[a],c[a])};this.update=function(){if(!s)return!1;if(this.delay){if(m.delta()<this.delay)return;this.delay=0;m.reset()}if(this.paused||this.complete)return!1;var b=(m.delta()+q)/this.duration,b=1<b?1:b,c=this.easing(b);for(property in p)this.propUpdate(property,a,d,p,c);if(1<=b){if(0==this.loopNum||
!this.loop){this.complete=!0;if(this.onComplete)this.onComplete();u&&u.start();return!1}if(this.loop==ig.Tween.Loop.Revert){for(property in d)this.propSet(property,d,a);q=0;m.reset();-1!=this.loopNum&&this.loopNum--}else if(this.loop==ig.Tween.Loop.Reverse){b={};c={};ig.merge(b,l);ig.merge(c,d);ig.merge(d,b);ig.merge(l,c);for(property in l)this.initDelta(property,p,a,l);q=0;m.reset();-1!=this.loopNum&&this.loopNum--}}};this.pause=function(){this.paused=!0;q+=m.delta()};this.resume=function(){this.paused=
!1;m.reset()};this.stop=function(a){a&&(this.loop=this.complete=this.paused=!1,q+=c,this.update());this.complete=!0}};ig.Tween.Loop={Revert:1,Reverse:2};ig.Tween.Easing={Linear:{},Quadratic:{},Cubic:{},Quartic:{},Quintic:{},Sinusoidal:{},Exponential:{},Circular:{},Elastic:{},Back:{},Bounce:{}};ig.Tween.Easing.Linear.EaseNone=function(a){return a};ig.Tween.Easing.Quadratic.EaseIn=function(a){return a*a};ig.Tween.Easing.Quadratic.EaseOut=function(a){return-a*(a-2)};ig.Tween.Easing.Quadratic.EaseInOut=
function(a){return 1>(a*=2)?0.5*a*a:-0.5*(--a*(a-2)-1)};ig.Tween.Easing.Cubic.EaseIn=function(a){return a*a*a};ig.Tween.Easing.Cubic.EaseOut=function(a){return--a*a*a+1};ig.Tween.Easing.Cubic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a:0.5*((a-=2)*a*a+2)};ig.Tween.Easing.Quartic.EaseIn=function(a){return a*a*a*a};ig.Tween.Easing.Quartic.EaseOut=function(a){return-(--a*a*a*a-1)};ig.Tween.Easing.Quartic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a:-0.5*((a-=2)*a*a*a-2)};ig.Tween.Easing.Quintic.EaseIn=
function(a){return a*a*a*a*a};ig.Tween.Easing.Quintic.EaseOut=function(a){return(a-=1)*a*a*a*a+1};ig.Tween.Easing.Quintic.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*a*a*a:0.5*((a-=2)*a*a*a*a+2)};ig.Tween.Easing.Sinusoidal.EaseIn=function(a){return-Math.cos(a*Math.PI/2)+1};ig.Tween.Easing.Sinusoidal.EaseOut=function(a){return Math.sin(a*Math.PI/2)};ig.Tween.Easing.Sinusoidal.EaseInOut=function(a){return-0.5*(Math.cos(Math.PI*a)-1)};ig.Tween.Easing.Exponential.EaseIn=function(a){return 0==a?0:Math.pow(2,
10*(a-1))};ig.Tween.Easing.Exponential.EaseOut=function(a){return 1==a?1:-Math.pow(2,-10*a)+1};ig.Tween.Easing.Exponential.EaseInOut=function(a){return 0==a?0:1==a?1:1>(a*=2)?0.5*Math.pow(2,10*(a-1)):0.5*(-Math.pow(2,-10*(a-1))+2)};ig.Tween.Easing.Circular.EaseIn=function(a){return-(Math.sqrt(1-a*a)-1)};ig.Tween.Easing.Circular.EaseOut=function(a){return Math.sqrt(1- --a*a)};ig.Tween.Easing.Circular.EaseInOut=function(a){return 1>(a/=0.5)?-0.5*(Math.sqrt(1-a*a)-1):0.5*(Math.sqrt(1-(a-=2)*a)+1)};ig.Tween.Easing.Elastic.EaseIn=
function(a){var b,c=0.1,g=0.4;if(0==a)return 0;if(1==a)return 1;g||(g=0.3);!c||1>c?(c=1,b=g/4):b=g/(2*Math.PI)*Math.asin(1/c);return-(c*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/g))};ig.Tween.Easing.Elastic.EaseOut=function(a){var b,c=0.1,g=0.4;if(0==a)return 0;if(1==a)return 1;g||(g=0.3);!c||1>c?(c=1,b=g/4):b=g/(2*Math.PI)*Math.asin(1/c);return c*Math.pow(2,-10*a)*Math.sin(2*(a-b)*Math.PI/g)+1};ig.Tween.Easing.Elastic.EaseInOut=function(a){var b,c=0.1,g=0.4;if(0==a)return 0;if(1==a)return 1;
g||(g=0.3);!c||1>c?(c=1,b=g/4):b=g/(2*Math.PI)*Math.asin(1/c);return 1>(a*=2)?-0.5*c*Math.pow(2,10*(a-=1))*Math.sin(2*(a-b)*Math.PI/g):0.5*c*Math.pow(2,-10*(a-=1))*Math.sin(2*(a-b)*Math.PI/g)+1};ig.Tween.Easing.Back.EaseIn=function(a){return a*a*(2.70158*a-1.70158)};ig.Tween.Easing.Back.EaseOut=function(a){return(a-=1)*a*(2.70158*a+1.70158)+1};ig.Tween.Easing.Back.EaseInOut=function(a){return 1>(a*=2)?0.5*a*a*(3.5949095*a-2.5949095):0.5*((a-=2)*a*(3.5949095*a+2.5949095)+2)};ig.Tween.Easing.Bounce.EaseIn=
function(a){return 1-ig.Tween.Easing.Bounce.EaseOut(1-a)};ig.Tween.Easing.Bounce.EaseOut=function(a){return(a/=1)<1/2.75?7.5625*a*a:a<2/2.75?7.5625*(a-=1.5/2.75)*a+0.75:a<2.5/2.75?7.5625*(a-=2.25/2.75)*a+0.9375:7.5625*(a-=2.625/2.75)*a+0.984375};ig.Tween.Easing.Bounce.EaseInOut=function(a){return 0.5>a?0.5*ig.Tween.Easing.Bounce.EaseIn(2*a):0.5*ig.Tween.Easing.Bounce.EaseOut(2*a-1)+0.5}});ig.baked=!0;
ig.module("plugins.url-parameters").defines(function(){ig.UrlParameters=ig.Class.extend({init:function(){switch(getQueryVariable("iphone")){case "true":ig.ua.iPhone=!0,console.log("iPhone mode")}var a=getQueryVariable("webview");if(a)switch(a){case "true":ig.ua.is_uiwebview=!0,console.log("webview mode")}if(a=getQueryVariable("debug"))switch(a){case "true":ig.game.showDebugMenu(),console.log("debug mode")}switch(getQueryVariable("view")){case "stats":ig.game.resetPlayerStats(),ig.game.endGame()}getQueryVariable("ad")}})});
ig.baked=!0;ig.module("plugins.jukebox").defines(function(){ig.Jukebox=ig.Class.extend({init:function(){this.player=new jukebox.Player({resources:["media/sounds/mobile/spritemap.mp3","media/sounds/mobile/spritemap.ogg"],autoplay:"music",spritemap:{music:{start:3,end:86,loop:!0}}})}})});ig.baked=!0;
ig.module("plugins.director").requires("impact.impact").defines(function(){ig.Director=ig.Class.extend({init:function(a,b){this.game=a;this.levels=[];this.currentLevel=0;this.append(b)},loadLevel:function(a){this.currentLevel=a;this.game.loadLevel(this.levels[a]);return!0},loadLevelWithoutEntities:function(a){this.currentLevel=a;this.game.loadLevelWithoutEntities(this.levels[a]);return!0},append:function(a){newLevels=[];return"object"===typeof a?(a.constructor===[].constructor?newLevels=a:newLevels[0]=
a,this.levels=this.levels.concat(newLevels),!0):!1},nextLevel:function(){return this.currentLevel+1<this.levels.length?this.loadLevel(this.currentLevel+1):!1},previousLevel:function(){return 0<=this.currentLevel-1?this.loadLevel(this.currentLevel-1):!1},jumpTo:function(a){var b=null;for(i=0;i<this.levels.length;i++)this.levels[i]==a&&(b=i);return 0<=b?this.loadLevel(b):!1},firstLevel:function(){return this.loadLevel(0)},lastLevel:function(){return this.loadLevel(this.levels.length-1)},reloadLevel:function(){return this.loadLevel(this.currentLevel)}})});
ig.baked=!0;
ig.module("plugins.impact-storage").requires("impact.game").defines(function(){ig.Storage=ig.Class.extend({staticInstantiate:function(){return!ig.Storage.instance?null:ig.Storage.instance},init:function(){ig.Storage.instance=this},isCapable:function(){return"undefined"!==typeof window.localStorage},isSet:function(a){return null!==this.get(a)},initUnset:function(a,b){null===this.get(a)&&this.set(a,b)},get:function(a){if(!this.isCapable())return null;try{return JSON.parse(localStorage.getItem(a))}catch(b){return window.localStorage.getItem(a)}},getInt:function(a){return~~this.get(a)},
getFloat:function(a){return parseFloat(this.get(a))},getBool:function(a){return!!this.get(a)},key:function(a){return this.isCapable()?window.localStorage.key(a):null},set:function(a,b){if(!this.isCapable())return null;try{window.localStorage.setItem(a,JSON.stringify(b))}catch(c){c==QUOTA_EXCEEDED_ERR&&console.log("localStorage quota exceeded")}},setHighest:function(a,b){b>this.getFloat(a)&&this.set(a,b)},remove:function(a){if(!this.isCapable())return null;window.localStorage.removeItem(a)},clear:function(){if(!this.isCapable())return null;
window.localStorage.clear()}})});ig.baked=!0;
ig.module("game.entities.opening").requires("impact.entity").defines(function(){EntityOpening=ig.Entity.extend({size:{x:48,y:48},move:0,mIconAnim:0,shieldAnim:0,titleAnim:0,shieldImage:new ig.Image("media/graphics/opening/shield.png"),mIconImage:new ig.Image("media/graphics/opening/m_icon.png"),titleImage:new ig.Image("media/graphics/opening/title.png"),sound:new ig.Sound("media/audio/opening/opening.*"),init:function(a,b,c){this.parent(a,b,c)},ready:function(){this.initTimer=new ig.Timer(0.2);this.sound.play()},
update:function(){this.parent();this.initTimer&&0<this.initTimer.delta()&&(this.initTimer=null,this.sheildTimer=new ig.Timer(0.05));this.sheildTimer&&0<this.sheildTimer.delta()&&(3>this.shieldAnim?(this.shieldAnim++,this.sheildTimer.reset()):(this.sheildTimer=null,this.moveTimer=new ig.Timer(0.0010),this.mIconTimer=new ig.Timer(0.05),this.titleTimer=new ig.Timer(0.15)));this.moveTimer&&0<this.moveTimer.delta()&&(this.move+=0.3,this.moveTimer.reset());this.mIconTimer&&0<this.mIconTimer.delta()&&(12>
this.mIconAnim?(this.mIconAnim++,this.moveTimer.reset()):this.mIconTimer=null);this.titleTimer&&0<this.titleTimer.delta()&&(11>this.titleAnim?(this.titleAnim++,this.titleTimer.reset()):(this.titleTimer=null,this.nextLevelTimer=new ig.Timer(1)));this.nextLevelTimer&&0<this.nextLevelTimer.delta()&&(this.nextLevelTimer=null,ig.game.director.nextLevel(),ig.system.context.globalAlpha=1)},draw:function(){if(!ig.global.wm){this.nextLevelTimer&&0>this.nextLevelTimer.delta()&&(ig.system.context.globalAlpha=
-this.nextLevelTimer.delta());if(this.moveTimer){var a=ig.system.context;a.save();var b=ig.system.width/2,c=ig.system.height/2;a.translate(b,c);a.rotate(this.move*Math.PI/180);a.beginPath();a.moveTo(0,0);for(var g=0,d=1;48>=d;d+=1)a.lineTo(0+800*Math.cos(2*d*Math.PI/48),0+800*Math.sin(2*d*Math.PI/48)),g++,2==g&&(g=0,a.lineTo(0,0));a.translate(-b,-c);b=a.createRadialGradient(b,c,100,b,c,250);b.addColorStop(0,"rgba(255,255,255,0.1)");b.addColorStop(1,"rgba(0,0,0,0)");a.fillStyle=b;a.fill();a.restore()}this.parent();
this.shieldImage.drawTile(ig.system.width/2-91,0-(768-ig.system.height)/2,this.shieldAnim,182,768);this.moveTimer&&(this.mIconImage.drawTile(ig.system.width/2-96,ig.system.height/2-70,this.mIconAnim,166,160),this.titleImage.drawTile(ig.system.width/2-204,ig.system.height/2+100,this.titleAnim,409,76));ig.system.context.globalAlpha=1}}})});ig.baked=!0;
ig.module("game.entities.pointer").requires("impact.entity").defines(function(){EntityPointer=ig.Entity.extend({type:ig.Entity.TYPE.A,checkAgainst:ig.Entity.TYPE.B,isClicking:!1,isHovering:!1,check:function(a){this.isHovering=!0;this.isClicking&&"function"==typeof a.clicked&&a.clicked();this.isHovering&&"function"==typeof a.hovered&&a.hovered()},update:function(){if(ig.ua.mobile){var a=window.innerHeight/mobileHeight;this.pos.x=ig.input.mouse.x/(window.innerWidth/mobileWidth)-this.size.x/2+ig.game.screen.x;
this.pos.y=ig.input.mouse.y/a-this.size.y/2}else this.pos.x=ig.input.mouse.x/multiplier-this.size.x/2+ig.game.screen.x,this.pos.y=ig.input.mouse.y/multiplier-this.size.y/2;this.isClicking=ig.input.pressed("click")}})});ig.baked=!0;ig.module("game.entities.pointer-selector").requires("game.entities.pointer").defines(function(){EntityPointerSelector=EntityPointer.extend({zIndex:1E3,_wmDrawBox:!0,_wmBoxColor:"rgba(0, 0, 255, 0.7)",size:{x:20,y:20},init:function(a,b,c){this.parent(a,b,c)}})});
ig.baked=!0;
ig.module("game.entities.select").requires("impact.entity").defines(function(){EntitySelect=ig.Entity.extend({type:ig.Entity.TYPE.B,checkAgainst:ig.Entity.TYPE.A,collides:ig.Entity.COLLIDES.NEVER,canSelect:!1,canSelectTimerDuration:0.35,zIndex:99999,isHovering:!1,isSelected:!1,init:function(a,b,c){this.parent(a,b,c);this.canSelectTimer=new ig.Timer(this.canSelectTimerDuration)},doesClickableLayerExist:function(a){for(k in dynamicClickableEntityDivs)if(k==a)return!0;return!1},checkClickableLayer:function(a,b,
c){"undefined"==typeof wm&&(this.doesClickableLayerExist(a)?(ig.game.showOverlay([a]),$("#"+a).find("[href]").attr("href",b)):this.createClickableOutboundLayer(a,b,"media/misc/invisible.png",c))},createClickableOutboundLayer:function(a,b,c,g){var d=ig.$new("div");d.id=a;document.body.appendChild(d);$("#"+d.id).css("float","left");$("#"+d.id).css("width",this.size.x*multiplier);$("#"+d.id).css("height",this.size.y*multiplier);$("#"+d.id).css("position","absolute");var l=w/2-destW/2,p=h/2-destH/2;w==
mobileWidth?($("#"+d.id).css("left",this.pos.x),$("#"+d.id).css("top",this.pos.y)):($("#"+d.id).css("left",l+this.pos.x*multiplier),$("#"+d.id).css("top",p+this.pos.y*multiplier));g?$("#"+d.id).html("<a target='_blank' href='"+b+"'><img style='width:100%;height:100%' src='"+c+"'></a>"):$("#"+d.id).html("<a href='"+b+"'><img style='width:100%;height:100%' src='"+c+"'></a>");dynamicClickableEntityDivs[a]={};dynamicClickableEntityDivs[a].width=$("#"+d.id).width();dynamicClickableEntityDivs[a].height=
$("#"+d.id).height();dynamicClickableEntityDivs[a].entity_pos_x=this.pos.x;dynamicClickableEntityDivs[a].entity_pos_y=this.pos.y},hovered:function(){this.isHovering=!0;this.dehoverOthers()},dehoverOthers:function(){var a=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<a.length;i++)a[i]!=this&&(a[i].isHovering=!1)},deselectOthers:function(){var a=ig.game.getEntitiesByType(EntitySelect);for(i=0;i<a.length;i++)a[i]!=this&&(a[i].isSelected=!1)},update:function(){this.parent();this.canSelectTimer&&0<
this.canSelectTimer.delta()&&(this.canSelect=!0,this.canSelectTimer=null)}})});ig.baked=!0;ig.module("game.levels.opening").requires("impact.image","game.entities.opening").defines(function(){LevelOpening={entities:[{type:"EntityOpening",x:396,y:164}],layer:[]}});ig.baked=!0;
ig.module("game.levels.test-desktop").requires("impact.image").defines(function(){LevelTestDesktop={entities:[],layer:[{name:"background",width:40,height:30,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/desktop/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40],[41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,
64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80],[81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160],[161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,
197,198,199,200],[201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274,275,276,277,278,279,280],[281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300,301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320],
[321,322,323,324,325,326,327,328,329,330,331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390,391,392,393,394,395,396,397,398,399,400],[401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420,421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440],[441,442,443,444,
445,446,447,448,449,450,451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480],[481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,514,515,516,517,518,519,520],[521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560],[561,562,563,564,565,566,567,568,
569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600],[601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630,631,632,633,634,635,636,637,638,639,640],[641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660,661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680],[681,682,683,684,685,686,687,688,689,690,691,692,
693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720],[721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750,751,752,753,754,755,756,757,758,759,760],[761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780,781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800],[801,802,803,804,805,806,807,808,809,810,811,812,813,814,815,816,
817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],[841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870,871,872,873,874,875,876,877,878,879,880],[881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900,901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920],[921,922,923,924,925,926,927,928,929,930,931,932,933,934,935,936,937,938,939,940,
941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990,991,992,993,994,995,996,997,998,999,1E3],[1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020,1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040],[1041,1042,1043,1044,1045,1046,1047,1048,1049,1050,1051,
1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110,1111,1112,1113,1114,1115,1116,1117,1118,1119,1120],[1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140,1141,1142,1143,1144,1145,1146,1147,1148,1149,1150,1151,
1152,1153,1154,1155,1156,1157,1158,1159,1160],[1161,1162,1163,1164,1165,1166,1167,1168,1169,1170,1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200]]}]};LevelTestDesktopResources=[new ig.Image("media/graphics/backgrounds/desktop/background.jpg")]});ig.baked=!0;
ig.module("game.levels.test-mobile").requires("impact.image").defines(function(){LevelTestMobile={entities:[],layer:[{name:"background",width:30,height:40,linkWithCollision:!1,visible:1,tilesetName:"media/graphics/backgrounds/mobile/background.jpg",repeat:!1,preRender:!0,distance:"1",tilesize:16,foreground:!1,data:[[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30],[31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60],[61,62,63,
64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90],[91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120],[121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150],[151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180],[181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,
197,198,199,200,201,202,203,204,205,206,207,208,209,210],[211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240],[241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270],[271,272,273,274,275,276,277,278,279,280,281,282,283,284,285,286,287,288,289,290,291,292,293,294,295,296,297,298,299,300],[301,302,303,304,305,306,307,308,309,310,311,312,313,314,315,316,317,318,319,320,
321,322,323,324,325,326,327,328,329,330],[331,332,333,334,335,336,337,338,339,340,341,342,343,344,345,346,347,348,349,350,351,352,353,354,355,356,357,358,359,360],[361,362,363,364,365,366,367,368,369,370,371,372,373,374,375,376,377,378,379,380,381,382,383,384,385,386,387,388,389,390],[391,392,393,394,395,396,397,398,399,400,401,402,403,404,405,406,407,408,409,410,411,412,413,414,415,416,417,418,419,420],[421,422,423,424,425,426,427,428,429,430,431,432,433,434,435,436,437,438,439,440,441,442,443,444,
445,446,447,448,449,450],[451,452,453,454,455,456,457,458,459,460,461,462,463,464,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,480],[481,482,483,484,485,486,487,488,489,490,491,492,493,494,495,496,497,498,499,500,501,502,503,504,505,506,507,508,509,510],[511,512,513,514,515,516,517,518,519,520,521,522,523,524,525,526,527,528,529,530,531,532,533,534,535,536,537,538,539,540],[541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,556,557,558,559,560,561,562,563,564,565,566,567,568,
569,570],[571,572,573,574,575,576,577,578,579,580,581,582,583,584,585,586,587,588,589,590,591,592,593,594,595,596,597,598,599,600],[601,602,603,604,605,606,607,608,609,610,611,612,613,614,615,616,617,618,619,620,621,622,623,624,625,626,627,628,629,630],[631,632,633,634,635,636,637,638,639,640,641,642,643,644,645,646,647,648,649,650,651,652,653,654,655,656,657,658,659,660],[661,662,663,664,665,666,667,668,669,670,671,672,673,674,675,676,677,678,679,680,681,682,683,684,685,686,687,688,689,690],[691,
692,693,694,695,696,697,698,699,700,701,702,703,704,705,706,707,708,709,710,711,712,713,714,715,716,717,718,719,720],[721,722,723,724,725,726,727,728,729,730,731,732,733,734,735,736,737,738,739,740,741,742,743,744,745,746,747,748,749,750],[751,752,753,754,755,756,757,758,759,760,761,762,763,764,765,766,767,768,769,770,771,772,773,774,775,776,777,778,779,780],[781,782,783,784,785,786,787,788,789,790,791,792,793,794,795,796,797,798,799,800,801,802,803,804,805,806,807,808,809,810],[811,812,813,814,815,
816,817,818,819,820,821,822,823,824,825,826,827,828,829,830,831,832,833,834,835,836,837,838,839,840],[841,842,843,844,845,846,847,848,849,850,851,852,853,854,855,856,857,858,859,860,861,862,863,864,865,866,867,868,869,870],[871,872,873,874,875,876,877,878,879,880,881,882,883,884,885,886,887,888,889,890,891,892,893,894,895,896,897,898,899,900],[901,902,903,904,905,906,907,908,909,910,911,912,913,914,915,916,917,918,919,920,921,922,923,924,925,926,927,928,929,930],[931,932,933,934,935,936,937,938,939,
940,941,942,943,944,945,946,947,948,949,950,951,952,953,954,955,956,957,958,959,960],[961,962,963,964,965,966,967,968,969,970,971,972,973,974,975,976,977,978,979,980,981,982,983,984,985,986,987,988,989,990],[991,992,993,994,995,996,997,998,999,1E3,1001,1002,1003,1004,1005,1006,1007,1008,1009,1010,1011,1012,1013,1014,1015,1016,1017,1018,1019,1020],[1021,1022,1023,1024,1025,1026,1027,1028,1029,1030,1031,1032,1033,1034,1035,1036,1037,1038,1039,1040,1041,1042,1043,1044,1045,1046,1047,1048,1049,1050],
[1051,1052,1053,1054,1055,1056,1057,1058,1059,1060,1061,1062,1063,1064,1065,1066,1067,1068,1069,1070,1071,1072,1073,1074,1075,1076,1077,1078,1079,1080],[1081,1082,1083,1084,1085,1086,1087,1088,1089,1090,1091,1092,1093,1094,1095,1096,1097,1098,1099,1100,1101,1102,1103,1104,1105,1106,1107,1108,1109,1110],[1111,1112,1113,1114,1115,1116,1117,1118,1119,1120,1121,1122,1123,1124,1125,1126,1127,1128,1129,1130,1131,1132,1133,1134,1135,1136,1137,1138,1139,1140],[1141,1142,1143,1144,1145,1146,1147,1148,1149,
1150,1151,1152,1153,1154,1155,1156,1157,1158,1159,1160,1161,1162,1163,1164,1165,1166,1167,1168,1169,1170],[1171,1172,1173,1174,1175,1176,1177,1178,1179,1180,1181,1182,1183,1184,1185,1186,1187,1188,1189,1190,1191,1192,1193,1194,1195,1196,1197,1198,1199,1200]]}]};LevelTestMobileResources=[new ig.Image("media/graphics/backgrounds/mobile/background.jpg")]});ig.baked=!0;
ig.module("game.main").requires("impact.game","impact.debug.debug","plugins.splash-loader","plugins.tween","plugins.url-parameters","plugins.jukebox","plugins.director","plugins.impact-storage","game.entities.opening","game.entities.pointer","game.entities.pointer-selector","game.entities.select","game.levels.opening","game.levels.test-desktop","game.levels.test-mobile").defines(function(){this.START_OBFUSCATION;this.FRAMEBREAKER;MyGame=ig.Game.extend({init:function(){this.setupMarketJSAPI();this.setupControls();
this.setupDesktopMusic();this.setupLocalStorage();this.removeLoadingWheel();this.injectMobileLink();this.setupURLParameters();this.finalize()},finalize:function(){ig.ua.mobile?(ig.ua.iPhone&&($("body").height($("#game").height()+72),sizeHandler()),ig.game.showOverlay(["play"])):ig.game.startGame();sizeHandler()},injectMobileLink:function(){$("#play").attr("onclick","ig.game.setupJukebox();ig.game.pressPlay();createjs.Sound.play('opening');")},removeLoadingWheel:function(){try{$("#ajaxbar").css("background",
"none")}catch(a){console.log(a)}},showDebugMenu:function(){console.log("showing debug menu ...");ig.Entity._debugShowBoxes=!0;$(".ig_debug").show()},setupLocalStorage:function(){this.storage=new ig.Storage},setupDesktopMusic:function(){},setupMarketJSAPI:function(){MarketJS.Initialize("ahVzfm1hcmtldGpzLWdhbWVjZW50ZXJyFQsSCFVzZXJHYW1lGICAgIDAhb8KDA")},startGame:function(){this.resetPlayerStats();this.director=ig.ua.mobile?new ig.Director(this,[LevelOpening,LevelTestMobile]):new ig.Director(this,[LevelOpening,
LevelTestDesktop]);this.director.loadLevel(this.director.currentLevel);this.spawnEntity(EntityPointerSelector,50,50)},playBackgroundMusic:function(){ig.ua.mobile?this.pausePosition&&ig.game.jukebox.player.resume(this.pausePosition):ig.music.play()},stopBackgroundMusic:function(){ig.ua.mobile?this.pausePosition=ig.game.jukebox.player.pause():ig.music.pause()},fpsMultiplierFunction:function(){this.fpsTimer||(this.fpsTimer=new ig.Timer(1*ig.Timer.timeScale));this.fpsTimer&&0>this.fpsTimer.delta()?null!=
this.fpsCounter?this.fpsCounter++:this.fpsCounter=0:(ig.game.fps=this.fpsCounter,31>ig.game.fps?(ig.Timer.timeScale=0.75*(60/ig.game.fps),ig.game.fpsMultiplier=0.75*(60/ig.game.fps)):(ig.Timer.timeScale=1,ig.game.fpsMultiplier=1),this.fpsCounter=0,this.fpsTimer.set(1*ig.Timer.timeScale),this.fpsTimer.reset())},endGame:function(){console.log("End game");this.stopBackgroundMusic();ig.ua.mobile&&_SETTINGS.Ad.Mobile.End.Enabled&&MobileAdInGameEnd.Initialize()},resetPlayerStats:function(){ig.log("resetting player stats ...");
this.playerStats={id:this.playerStats?this.playerStats.id:null}},setupControls:function(){ig.input.unbindAll();ig.input.initMouse();ig.input.bind(ig.KEY.MOUSE1,"click")},setupJukebox:function(){ig.ua.mobile&&(this.jukebox=new ig.Jukebox)},setupURLParameters:function(){this.setupURLParameters=new ig.UrlParameters},pressPlay:function(){this.hideOverlay(["play"]);this.startGame();ig.ua.mobile&&_SETTINGS.Ad.Mobile.Footer.Enabled&&MobileAdInGameFooter.Initialize();ig.ua.mobile&&_SETTINGS.Ad.Mobile.Header.Enabled&&
MobileAdInGameHeader.Initialize()},pauseGame:function(){ig.system.stopRunLoop.call(ig.system);console.log("Game Paused")},resumeGame:function(){ig.system.startRunLoop.call(ig.system);console.log("Game Resumed")},pressMute:function(){ig.Sound.enabled?($("#btn-mute").attr("src","media/buttons/button-sound-off3.png"),this.mute()):($("#btn-mute").attr("src","media/buttons/button-sound-on3.png"),this.unmute())},mute:function(){ig.game.stopAllSounds();ig.ua.mobile?ig.game.jukebox.player.setVolume(0.01):
(ig.music.volume=0,ig.Sound.enabled=!1);ig.game.video.muteAllPlayer()},unmute:function(){ig.ua.mobile?ig.game.jukebox.player.setVolume(1):(ig.music.volume=1,ig.Sound.enabled=!0);ig.game.video.muteAllPlayer()},showOverlay:function(a){for(i=0;i<a.length;i++)$("#"+a[i]).show(),document.getElementById(a[i]).style.visibility="visible"},hideOverlay:function(a){for(i=0;i<a.length;i++)$("#"+a[i]).hide(),document.getElementById(a[i]).style.visibility="hidden"},stopAllSounds:function(){for(i=0;i<ig.resources.length;i++)ig.resources[i].multiChannel&&
ig.resources[i].stop();console.log("all sounds stopped")},update:function(){if(this.paused)for(var a=0;a<this.entities.length;a++)this.entities[a].ignorePause&&this.entities[a].update();else this.parent()}});var a=getQueryVariable("device");if(a)switch(a){case "mobile":console.log("serving mobile version ...");ig.ua.mobile=!0;break;case "desktop":console.log("serving desktop version ...");ig.ua.mobile=!1;break;default:console.log("serving universal version ...")}else console.log("serving universal version ...");
if(a=getQueryVariable("force-rotate"))switch(a){case "portrait":console.log("force rotate to portrait");window.orientation=0;break;case "landscape":console.log("force rotate to horizontal");window.orientation=90;break;default:alert("wrong command/type in param force-rotate. Defaulting value to portrait"),window.orientation=0}ig.ua.mobile?(ig.Sound.enabled=!1,ig.main("#canvas",MyGame,60,mobileWidth,mobileHeight,1,ig.SplashLoader)):ig.main("#canvas",MyGame,60,desktopWidth,desktopHeight,1,ig.SplashLoader);
ig.ua.mobile&&orientationHandler();sizeHandler();var b=0;window.setInterval(function(){b++},1E3);window.onunload=window.onbeforeunload=function(){MarketJS.MultiMetric.Write({ExitGame:{Time:b,Count:1}})};this.END_OBFUSCATION});
